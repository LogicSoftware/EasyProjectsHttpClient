<?xml version="1.0" encoding="utf-8" ?>
<ViewsConfiguration>
  <Views>
    <!-- Note: Start Declare filter Views -->
    <View Name="CustomerFilterList" RootEntityName="Customer" SelectDistinctRows="true">
      <Fields>
        <Field Name="CustomerID" EntityName="Customer" ForceSelect="true"/>
        <Field Name="Name" EntityName="Customer" ForceSelect="true"/>
      </Fields>
    </View>

    <View Name="CustomFieldConditionList" RootEntityName="CustomFieldCondition" SelectDistinctRows="true" SelectPrimaryKey="false" SelectPermissions="false" >
      <Fields>
        <Field Name="FieldID" Alias="FieldID" EntityName="CustomFieldCondition" ForceSelect="true" />
        <Field Name="FieldName" Alias="FieldName" EntityName="CustomFieldCondition" ForceSelect="true" />
        <Field Name="DisplayName" Alias="DisplayName" EntityName="CustomFieldCondition" ForceSelect="true" />
        <!-- NOTE : make this field without alias because of conflict in generated DataMember attribute (IsRequired and IsRestricted fields )-->
        <Field Name="IsRequired" EntityName="CustomFieldCondition" ForceSelect="true" />
        <Field Name="IsRestricted" Alias="IsRestricted" EntityName="CustomFieldCondition" ForceSelect="true" />
        <Field Name="FieldDataTypeID" Alias="FieldDataTypeID" EntityName="CustomFieldCondition" ForceSelect="true" />
        <Field Name="EntityID" Alias="EntityID" EntityName="CustomFieldCondition" ForceSelect="true" />
      </Fields>
    </View>

    <!-- Note: End Declare filter Views -->

    <View Name="FieldRestrictionsForValuesCleanup" RootEntityName="CustomFieldRestriction">
      <NotNullFlagFields>
        <NotNullFlagField Name="FieldRestrictionID" EntityName="CustomFieldRestriction" ForceSelect="true" DefaultVisibility="true" />
      </NotNullFlagFields>
      <Fields>
        <Field Name="FieldRestrictionID" EntityName="CustomFieldRestriction" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="FieldID" EntityName="CustomField" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="FieldName" EntityName="CustomField" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EntityID" EntityName="CustomField" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="PortfolioID" EntityName="CustomFieldRestriction" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="PresetInfo" RootEntityName="Preset">
      <Fields>
        <Field Alias="PresetID" Name="PresetID" EntityName="Preset" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Name" Name="Name" EntityName="Preset" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="BasePresetID" Name="BasePresetID" EntityName="Preset" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="IsShared" Name="IsShared" EntityName="Preset" AccessType="Mandatory" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="IsDefault" Name="IsDefault" EntityName="Preset" AccessType="Mandatory" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="UserID" Name="UserID" EntityName="Preset" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="OwnerName" Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="IsVisible" Name="IsVisible" EntityName="PresetSettings" AccessType="Mandatory" Expression="ISNULL([PresetSettings].[IsVisible], 1)" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="UserID"  EntityName="PresetSettings" ForceSelect="true" DefaultVisibility="true" />
      </Fields>
    </View>

    <View Name="ProjectHealth" RootEntityName="Project">
      <Fields>
        <Field Alias="Name" Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Health" Name="Health" EntityName="ProjectEVA" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="ActivityHealth" RootEntityName="Task">
      <Fields>
        <Field Alias="Name" Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="TaskID" Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Health" Name="Health" EntityName="TaskEVA" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="ActivityShortData" RootEntityName="Task">
      <Fields>
        <Field Alias="TaskID" Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="TaskStatusID" Name="TaskStatusID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="TaskTypeID" Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Approved" Name="Approved" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="HasChild" Name="HasChild" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Child_EndDateMax" Name="Child_EndDateMax" EntityName="Task" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT MAX(EndDate) FROM TT_Tasks WHERE TT_Tasks.ParentID =  {0}.TaskID and TT_Tasks.AccountID = {0}.AccountID)">
          <Descriptor DataType="Date" AccessType="ReadOnly"/>
        </Field>
      </Fields>
    </View>


    <View Name="PortfolioNotAssignMemberList" RootEntityName="User" SelectDistinctRows="true">
      <Fields>
        <Field Name="AvatarImage" Expression="null" EntityName="User" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="Optional" Width="10"/>
        </Field>
        <Field Name="Avatar" EntityName="User" Expression="null" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User"  ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" Width="50"/>
        </Field>
        <Field Name="UserID" EntityName="User"  ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanManageAllPortfolios" EntityName="Role"  ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="PortfolioFilterList" RootEntityName="Portfolio" SelectDistinctRows="true">
      <Fields>
        <Field Name="PortfolioID" EntityName="Portfolio" DefaultVisibility="false" ForceSelect="true" />
        <Field Name="Name" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true" />
      </Fields>
    </View>

    <View Name="PortfolioLight" RootEntityName="Portfolio" SelectDistinctRows="true">
      <Fields>
        <Field Alias="PortfolioID" Name="PortfolioID" EntityName="Portfolio" DefaultVisibility="false" ForceSelect="true" />
        <Field Alias="Name" Name="Name" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true" />
      </Fields>
    </View>

    <View Name="PortfolioList" RootEntityName="Portfolio" SelectDistinctRows="false">
      <Fields>
        <Field Name="PortfolioID" EntityName="Portfolio" DefaultVisibility="false" ForceSelect="true" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor DataType="String" Width="37" OpensEntity="true" />
        </Field>
        <Field Name="ManagersSeparateLines" EntityName="Portfolio" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor Width="15"/>
        </Field>
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true">
          <Descriptor Width="62"/>
        </Field>
        <Field Name="Members" EntityName="Portfolio" IsCustomizable="true">
          <Descriptor Width="62"/>
        </Field>
        <Field Name="HasProjects" EntityName="Portfolio" DefaultVisibility="false" IsCustomizable="false" ForceSelect="true">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
        <Field Name="HasOpenProjects" EntityName="Portfolio" Expression="(CASE WHEN EXISTS (SELECT 1 FROM TT_Projects JOIN TT_ProjectStatuses ON TT_Projects.ProjectStatusID = TT_ProjectStatuses.ProjectStatusID AND TT_Projects.AccountId = TT_ProjectStatuses.AccountId WHERE TT_Projects.AccountId = {0}.AccountId AND TT_Projects.PortfolioID = {0}.PortfolioID AND TT_ProjectStatuses.TreatAsCompleted = 0) THEN 1 ELSE 0 END)" DefaultVisibility="false" IsCustomizable="false" ForceSelect="true">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="Name" EntityName="PortfolioStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="Icon" EntityName="PortfolioStatus" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="IsIconEmpty" EntityName="PortfolioStatus" Expression="CAST((case when (Icon is null) then 1 else 0 end) as BIT)" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
      <Filters>
        <Filter Name="ShowCompletedPortfolios"/>
      </Filters>
    </View>

    <View Name="PortfolioDetail" RootEntityName="Portfolio" SelectDistinctRows="false">
      <Fields>
        <Field Name="PortfolioID" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CreationDate" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Description" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="PortfolioStatusID" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="PortfolioCategoryID" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="CreatorUser" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="PortfolioDetailForStatusReport" RootEntityName="Portfolio" SelectDistinctRows="false">
      <Fields>
        <Field Name="PortfolioID" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CreationDate" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="PortfolioStatusList" RootEntityName="PortfolioStatus" SelectDistinctRows="false">
      <Fields>
        <Field Name="PortfolioStatusID" EntityName="PortfolioStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="PortfolioStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="PortfolioStatus" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true"/>
        <Field Name="InternalPortfolioStatusID" EntityName="PortfolioStatus" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Icon" EntityName="PortfolioStatus" DefaultVisibility="true" ForceSelect="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor Width="20"/>
        </Field>
      </Fields>
    </View>

    <View Name="PortfolioCategoryList" RootEntityName="PortfolioCategory">
      <Fields>
        <Field Name="PortfolioCategoryID" EntityName="PortfolioCategory" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="PortfolioCategory" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
      </Fields>
    </View>

    <View Name="PortfolioMemberList" RootEntityName="PortfolioMember" SelectDistinctRows="false">
      <Fields>
        <Field Name="PortfolioMemberID" EntityName="PortfolioMember"  ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="AvatarImage" Expression="null" EntityName="User" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="Optional" Width="10"/>
        </Field>
        <Field Name="Avatar" EntityName="User" Expression="null" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User"  ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" Width="50"/>
        </Field>
        <Field Name="UserID" EntityName="User"  ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanEdit" EntityName="PortfolioMember" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory" DataType="Bool" Width="10"/>
        </Field>
        <Field Name="CanView" EntityName="PortfolioMember" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory" DataType="Bool" Width="10"/>
        </Field>
        <Field Name="IsPortfolioManager" EntityName="PortfolioMember" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory" DataType="Bool" Width="20"/>
        </Field>
      </Fields>
    </View>

    <View Name="ProjectList" RootEntityName="Project" SelectDistinctRows="false" IsCustomizable="true">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" DefaultVisibility="false" ForceSelect="true" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor DataType="String" Width="37" OpensEntity="true" />
        </Field>
        <Field Alias="Project_Managers" Name="Managers" Expression="dbo.ep_GetProjectManagers({0}.ProjectID, @CurrentUserID, char(10),{0}.AccountId)" EntityName="Project" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="15" DataType="String" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Name" EntityName="Customer" DefaultVisibility="true" ForceSelect="true" IsCustomizable="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="Name" EntityName="Priority" DefaultVisibility="true" ForceSelect="true" IsCustomizable="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="Progress" EntityName="Project" DefaultVisibility="true" ForceSelect="true" IsCustomizable="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="IsIconEmpty" EntityName="ProjectStatus" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="IconHash" EntityName="ProjectStatus" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor Width="1"/>
        </Field>
        <Field Alias="Project_Members" Name="Members" EntityName="Project" Expression="dbo.ep_GetProjectMembers({0}.ProjectID, @CurrentUserID, char(10),{0}.AccountId)" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="15" DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="ActCompletionDate" EntityName="Project" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="PriorityOrder" EntityName="Priority" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true" ForceSelect="true">
          <Descriptor Width="5" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Cost" EntityName="ProjectFinancials" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="InternalCost" EntityName="ProjectFinancials" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="ProjectProfit" EntityName="ProjectFinancials" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="ProjectCostVariance" EntityName="ProjectFinancials" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="BudgetedCost" EntityName="ProjectFinancials" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="PlannedExpenses" EntityName="ProjectFinancials" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="Name" EntityName="CreatorUser" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="15" AccessType="ReadOnly"/>
        </Field>
        <Field Name="CreationDate" EntityName="Project" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="HasMessages" EntityName="Project" ForceSelect="false" IncludeInCustomFilters="true" DefaultVisibility="false" IsCustomizable="true" Expression="(CASE WHEN EXISTS (SELECT ProjectID FROM [dbo].[VV_MessagesGroupedByProject] m WHERE m.AccountId = {0}.AccountId AND m.ProjectID = {0}.ProjectID) THEN 1 ELSE 0 END)">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="PortfolioID" EntityName="Project" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="Name" EntityName="Portfolio" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="15" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Flags" EntityName="Project" Expression="''" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="false"  IsCustomizable="false">
          <Descriptor DataType="String" AccessType="Optional" Width="10"/>
        </Field>
        <Field Name="Timeliness" EntityName="Project"
               Expression="dbo.ep_Task_Timeliness({0}.AccountId, @CurrentUserID, {0}.EndDate, [ProjectStatus].[TreatAsCompleted])"
               ForceSelect="false" IncludeInCustomFilters="false" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="false"  IsCustomizable="true"/>
        <Field Name="Budget" EntityName="ProjectAggregatedValues" ForceSelect="false" IncludeInCustomFilters="true" DefaultVisibility="false"  IsCustomizable="true">
          <Descriptor DataType="Decimal"  AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="Health" EntityName="ProjectEVA" DefaultVisibility="false" IsCustomizable="true" ForceSelect="false" IncludeInCustomFilters="true">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Billed" EntityName="Project" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="1" AccessType="Optional"/>
        </Field>
        <Field Name="BillingType" EntityName="Project" DefaultVisibility="false"  ForceSelect="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="1" AccessType="Optional"/>
        </Field>
        <Field Name="Duration" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="7"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="CustomerNames" RootEntityName="Customer" SelectDistinctRows="false">
      <Fields>
        <Field Alias="CustomerID" Name="CustomerID" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Name" Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Enabled" Name="Enabled" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="PortfolioName" RootEntityName="Portfolio" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Alias="PortfolioID" Name="PortfolioID" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Name" Name="Name" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="PortfolioStatusID" Name="PortfolioStatusID" EntityName="PortfolioStatus" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="ProjectShortData" RootEntityName="Project" SelectDistinctRows="false">
      <Fields>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="StartDate" Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="EndDate" Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="IsEndDateSelected" Name="IsEndDateSelected" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Duration" Name="Duration" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="DurationHours" Name="DurationHours" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Task_StartDateMax" Name="Task_StartDateMax" EntityName="Project" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT MAX(StartDate) FROM TT_Tasks WHERE TT_Tasks.AccountId = {0}.AccountId AND TT_Tasks.ProjectID = {0}.ProjectID)">
          <Descriptor DataType="Date" AccessType="ReadOnly"/>
        </Field>
        <Field Alias="Task_EndDateMax" Name="Task_EndDateMax" EntityName="Project" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT MAX(EndDate) FROM TT_Tasks WHERE TT_Tasks.AccountId = {0}.AccountId AND TT_Tasks.ProjectID = {0}.ProjectID)">
          <Descriptor DataType="Date" AccessType="ReadOnly"/>
        </Field>
        <Field Alias="ProjectStatusID" Name="ProjectStatusID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Task_ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT MAX(ProjectID) FROM TT_Tasks WHERE TT_Tasks.AccountId = {0}.AccountId AND TT_Tasks.ProjectID =  {0}.ProjectID)">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
      </Fields>
    </View>

    <View Name="ProjectShortDataActivityProcessor" RootEntityName="Project" SelectDistinctRows="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Duration" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="DurationHours" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EstimatedHours" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ActCompletionDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDateLag" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EndDateLag" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="BaselineDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="ProjectPermission" RootEntityName="Project" SelectDistinctRows="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CustomerID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Alias="Task_ProjectID" Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
        <Field Name="IsHasOnePortfolioManager" EntityName="Project" Expression="(select count(PortfolioID) from  TT_PortfolioPermissions where UserID=@CurrentUserID AND AccountId = {0}.AccountId and CanEdit=1 and CanDelete=1 )" ForceSelect="true" DefaultVisibility="false">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
      </Fields>
    </View>

    <View Name="ProjectDetail" RootEntityName="Project" SelectDistinctRows="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ActCompletionDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ChildsEstimatedHours" EntityName="ProjectAggregatedValuesForProject" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValuesForProject" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EstimatedHours" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValuesForProject" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectStatusID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="PriorityID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="CurrencyID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="BillingType" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="BillingAmount" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="PortfolioID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="CustomerID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="TaskMemberID" EntityName="ProjectAutoAssign" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="IssueMemberID" EntityName="ProjectAutoAssign" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="RequestMemberID" EntityName="ProjectAutoAssign" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="ApproverMemberID" EntityName="ProjectAutoAssign" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="Name" EntityName="CreatorUser" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Billed" EntityName="Project" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor Width="2"/>
        </Field>
        <Field Name="Duration" EntityName="Project" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="DurationHours" EntityName="Project" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="IsEndDateSelected" EntityName="Project" ForceSelect="true" DefaultVisibility="true" />
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="ProjectDetailNew" RootEntityName="Project" AdditionalPermissionsRequired="true" SelectDistinctRows="false" EnableCustomFields="true">
      <Fields>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="PortfolioID" Name="PortfolioID" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Alias="PortfolioName" Name="Name" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="EndDate" Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Duration" EntityName="Project" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="DurationHours" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="ActualCompletionDate"  Name="ActCompletionDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="IsEndDateSelected" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false" />

        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="true" DefaultVisibility="true" />

        <Field Name="EstimatedHours" EntityName="Project" ForceSelect="true" DefaultVisibility="true" />
        <Field Alias="ChildsEstimatedHours"  Name="ChildsEstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Decimal"  AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Alias="ChildsHoursLeft" Name="ChildsHoursLeft" EntityName="ProjectAggregatedValues" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Decimal"  AccessType="ReadOnly" Width="10"/>
        </Field>

        <Field Name="Budget" EntityName="Project" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="Decimal"  AccessType="Optional" Width="10"/>
        </Field>
        <Field Alias="ChildsBudget" Name="ChildsBudget"  EntityName="ProjectAggregatedValues" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="Decimal"  AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="InternalCost" EntityName="ProjectAggregatedValues" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="Decimal"  AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="PriorityID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="Priority" DefaultVisibility="true" />
        <Field Name="Currency" Cache="ProjectCurrency" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory" DataType="String"/>
        </Field>
        <Field Name="ProjectStatusID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="CustomerID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Alias="TreatAsCompleted" Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false"/>

        <Field Alias="Timeliness" Name="Timeliness" EntityName="Project"
                    Cache="Timeliness"
                    ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="HasChildren" Expression="(CASE WHEN EXISTS (SELECT TOP 1 t.TaskID FROM TT_Tasks t WHERE t.ProjectID = {0}.ProjectID AND t.AccountId = {0}.AccountId) THEN 1 ELSE 0 END)" EntityName="Project" ForceSelect="true" DefaultVisibility="false" >
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Name" EntityName="CreatorUser" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="LastModificationDate" EntityName="Project" ForceSelect="true" />
        <Field Alias="Health" Name="Health" EntityName="ProjectEVA" ForceSelect="true"/>
        <Field Alias="TaskMemberID" Name="TaskMemberID" EntityName="ProjectAutoAssign" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="IssueMemberID" Name="IssueMemberID" EntityName="ProjectAutoAssign" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="RequestMemberID" Name="RequestMemberID" EntityName="ProjectAutoAssign" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="BaselineDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="ProjectApprover" RootEntityName="Project" SelectDistinctRows="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ApproverMemberID" EntityName="ProjectAutoAssign" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly"/>
        </Field>
        <Field Name="ApproverUserID" Expression="(SELECT pm.UserID FROM TT_ProjectAutoAssign pas INNER JOIN TT_ProjectMembers pm ON pm.ProjectMemberID = pas.ApproverMemberID AND pm.AccountId = pas.AccountId WHERE pas.ProjectID = {0}.ProjectID AND pas.AccountId = {0}.AccountId )"
          EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="IsCurrentUserApprover" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_ProjectAutoAssign pas INNER JOIN TT_ProjectMembers pm ON pm.ProjectMemberID = pas.ApproverMemberID AND pm.AccountId = pas.AccountId WHERE pas.ProjectID = {0}.ProjectID AND pm.UserID = @CurrentUserID AND pas.AccountId = {0}.AccountId) THEN 1 ELSE 0 END)"
          EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="IsCurrentUserProjectManager" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_ProjectMembers pmc INNER JOIN TT_Roles r on pmc.RoleID = r.RoleID AND pmc.AccountId = r.AccountId WHERE pmc.ProjectID = {0}.ProjectID AND r.InternalRoleID = 2 AND pmc.UserID = @CurrentUserID AND pmc.AccountId = {0}.AccountId) THEN 1 ELSE 0 END)"
          EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
      </Fields>
    </View>

    <View Name="ProjectListForInteractiveActivity" RootEntityName="Project">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" Width="46"/>
        </Field>
        <Field Name="Progress" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" Width="1"/>
        </Field>
        <Field Name="ProjectStatusID" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" Width="13"/>
        </Field>
        <Field Name="PriorityID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" Width="13"/>
        </Field>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" Width="13"/>
        </Field>
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" Width="13"/>
        </Field>
        <Field Name="Duration" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly"/>
        </Field>
        <Field Name="CustomerID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
      </Fields>
    </View>

    <View Name="PaymentList" RootEntityName="Payment">
      <Fields>
        <Field Name="PaymentID" EntityName="Payment" DefaultVisibility="false" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" Width="0"/>
        </Field>
        <Field Name="ProjectID" EntityName="Project" DefaultVisibility="false" ForceSelect="true"/>
        <Field Name="PaymentDate" EntityName="Payment" DefaultVisibility="true" ForceSelect="true">
          <Descriptor Width="30"/>
        </Field>
        <Field Name="PaymentType" Expression="null" EntityName="Payment" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" Width="10"/>
        </Field>
        <Field Name="Amount" EntityName="Payment" DefaultVisibility="true" ForceSelect="true">
          <Descriptor Width="20"/>
        </Field>
        <Field Name="Description" EntityName="Payment" DefaultVisibility="true" ForceSelect="true">
          <Descriptor Width="40"/>
        </Field>
        <Field Name="Billable" EntityName="Payment" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="Billed" EntityName="Payment" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="Planned" EntityName="Payment" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="1"/>
        </Field>
      </Fields>
    </View>

    <View Name="ProjectNamesList" RootEntityName="Project">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true"/>
      </Fields>
    </View>

    <View Name="ProjectNamesForOverloadResolution" RootEntityName="Project"  EnableAPI="false" AdditionalPermissionsRequired="false" SelectPermissions="false">
      <Fields>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Project" ForceSelect="true"/>
        <Field Alias="Name" Name="Name" EntityName="Project" ForceSelect="true"/>
        <Field Alias="StartDate" Name="StartDate" EntityName="Project" ForceSelect="true"/>
        <Field Alias="EndDate" Name="EndDate" EntityName="Project" ForceSelect="true"/>
      </Fields>
    </View>

    <View Name="TaskLight" RootEntityName="Task" AdditionalPermissionsRequired="false" SelectPermissions="false">
      <Fields>
        <Field Name="TaskID" Alias="TaskID" EntityName="Task" ForceSelect="true"/>
        <Field Name="ProjectID" Alias="ProjectID" EntityName="Task" ForceSelect="true"/>
        <Field Name="ParentID" Alias="ParentID" EntityName="Task" ForceSelect="true"/>
        <Field Name="Name" Alias="Name" EntityName="Task" ForceSelect="true"/>
      </Fields>
    </View>

    <View Name="ProjectLight" RootEntityName="Project" AdditionalPermissionsRequired="false" SelectPermissions="false">
      <Fields>
        <Field Name="ProjectID" Alias="ProjectID" EntityName="Project" ForceSelect="true"/>
        <Field Name="Name" Alias="Name" EntityName="Project" ForceSelect="true"/>
      </Fields>
    </View>

    <View Name="AllProjectNamesList" RootEntityName="Project" AdditionalPermissionsRequired="false" SelectPermissions="false">
      <Fields>
        <Field Name="ProjectID" Alias="ProjectID" EntityName="Project" ForceSelect="true"/>
        <Field Name="Name" Alias="Name" EntityName="Project" ForceSelect="true"/>
      </Fields>
    </View>

    <View Name="ProjectNamesListCustomerDependence" RootEntityName="Project">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true"/>
        <Field Name="CustomerID" EntityName="Project" ForceSelect="true" DefaultVisibility="false">
        </Field>
      </Fields>
    </View>a

    <View Name="ProjectNameWithStatusList" RootEntityName="Project">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true"/>
        <Field Name="ProjectStatusID" EntityName="Project" ForceSelect="true"/>
        <Field Alias="IsTemplate" Name="IsTemplateStatus" EntityName="ProjectStatus" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Alias="IsDraft" Name="IsDraftStatus" EntityName="ProjectStatus" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" Width="10"/>
        </Field>
      </Fields>
    </View>

    <View Name="CustomerListDependenceProject" RootEntityName="Customer">
      <Fields>
        <Field Name="CustomerID" EntityName="Customer" ForceSelect="true"/>
        <Field Name="Name" EntityName="Customer" ForceSelect="true"/>
      </Fields>
      <Filters>
        <Filter Name="CustomerWithProject"/>
      </Filters>
    </View>

    <!-- Don't delete HierarchicalStoredProcedure="GetTaskDirectHeirs" attribute, it is not used now! it is just a marker! -->
    <View Name="PreLoadActivityList" RootEntityName="Task" HierarchicalStoredProcedure="GetTaskDirectHeirs" SelectDistinctRows="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor Width="36" OpensEntity="true"/>
        </Field>
        <Field Name="IsExpanded" EntityName="TaskExpand" DefaultVisibility="false" IsCustomizable="false" ForceSelect="true" IncludeInCustomFilters="false">
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="LastModificationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="TaskTypeAndStatus" RootEntityName="Task" SelectDistinctRows="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="TaskStatusID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false" IncludeInCustomFilters="true"/>
      </Fields>
    </View>

    <View Name="PreLoadProjectList" RootEntityName="Project">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" Width="46"/>
        </Field>
        <Field Name="IsExpanded" EntityName="ProjectExpand" DefaultVisibility="false" IsCustomizable="false" ForceSelect="true" IncludeInCustomFilters="false">
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>
        <Field Name="LastModificationDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" />
      </Fields>
    </View>

    <View Name="AnalyzeEstimationView" RootEntityName="AnalyzeEstimetionResult" StoredProcedureName="GetAnalyzeEstimationResult">
      <StoredProcedureParameters>
        <Parameter>@ProjectMemberID</Parameter>
        <Parameter>@ProjectID</Parameter>
        <Parameter>@AccountId</Parameter>
      </StoredProcedureParameters>
    </View>

    <View Name="MilestonesView" RootEntityName="MilestoneReportEntity" StoredProcedureName="GetMilestones">
      <Fields>
        <Field Name="MilestoneEndDate" EntityName="MilestoneReportEntity" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Date" />
        </Field>
        <Field Name="TaskEnd" EntityName="MilestoneReportEntity"  ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Date" />
        </Field>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" >
          <Descriptor OpensEntity="true" />
        </Field>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" >
          <Descriptor OpensEntity="true" />
        </Field>
        <Field Name="MilestoneReportEntity_TaskAssignees" Cache="TaskAssignees" CacheOptions="UserNames" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
      </Fields>
      <StoredProcedureParameters>
        <Parameter>@dateFrom</Parameter>
        <Parameter>@dateTo</Parameter>
        <Parameter>@ProjectID</Parameter>
        <Parameter>@UserID</Parameter>
        <Parameter>@CompletedMilestones</Parameter>
        <Parameter>@AccountId</Parameter>
      </StoredProcedureParameters>
    </View>

    <View Name="TaskPermission" RootEntityName="Task" SelectDistinctRows="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CreatorID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="IsCurrentUserAssignee" Cache="TaskIsCurrentUserAssignee"
					EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
      </Fields>
    </View>

    <View Name="TaskDetail" RootEntityName="Task" SelectDistinctRows="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TaskTypeID" EntityName="TaskType" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Description" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CreationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDateLag" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="DurationHours" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="IsEndDateSelected" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false" />
        <Field Name="ChildsEstimatedHours" EntityName="TaskAggregatedValuesForTask" ForceSelect="true" DefaultVisibility="true">
          <Descriptor FormatString="{0:0.##}"/>
        </Field>
        <Field Name="EstimatedHours" EntityName="TaskAggregatedValuesForTask" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor FormatString="{0:0.##}"/>
        </Field>
        <Field Name="BaseEstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor FormatString="{0:0.##}"/>
        </Field>
        <Field Name="ActualHours" EntityName="TaskAggregatedValuesForTask" ForceSelect="true" DefaultVisibility="true">
          <Descriptor FormatString="{0:0.##}"/>
        </Field>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="IsMilestone" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="Approved" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="CategoryID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="TaskStatusID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="PriorityID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="BillingType" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TaskFixedCost" EntityName="Task" Expression="{0}.BillingAmount" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor DataType="Decimal" AccessType="Mandatory" MinValue="-99999999999999" MaxValue="99999999999999"/>
        </Field>
        <Field Name="TaskHourlyRate" EntityName="Task" Expression="{0}.BillingAmount" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Decimal" AccessType="Mandatory" MinValue="0" MaxValue="99999999999999"/>
        </Field>
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="MasterTasks" EntityName="Task" Cache="TaskMasterTasksInfo" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="HasChild" EntityName="Task" DefaultVisibility="false" ForceSelect="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanCompleteParent" Expression="dbo.ep_CanCompleteParent({0}.TaskID, @CurrentUserID,{0}.AccountId)" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>
        <Field Name="IsParentCompleted" Expression="dbo.ep_IsParentCompleted({0}.TaskID, {0}.AccountId)" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>
        <Field Name="ProjectStatusID" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Name="IsCurrentUserAssignee" Cache="TaskIsCurrentUserAssignee"
     EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="IsWorkDone" Expression="CAST(ISNULL((SELECT TOP 1 ta.WorkIsDone FROM TT_TaskAssignees ta WHERE ta.TaskID = {0}.TaskID AND ta.UserID = @CurrentUserID AND ta.AccountId = {0}.AccountId ), 0) AS int) "
     EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="ChildsBudget" EntityName="TaskAggregatedValuesForTask" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="Decimal"  AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="Budget" EntityName="Task" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="Decimal"  AccessType="Optional" Width="10"/>
        </Field>
        <Field Name="PortfolioID" EntityName="Project" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly"/>
        </Field>
        <Field Name="Billed" EntityName="Task" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor Width="2"/>
        </Field>
        <Field Name="InternalProjectStatusID" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <!-- move task rights-->
        <Field Name="CanDeleteAllTasks" EntityName="Task" Expression="([AdditionalPermissions].CanDeleteAllTasks)" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Bool"/>
        </Field>
        <Field Name="CanDeleteAllTimeEntries" EntityName="Task" Expression="([AdditionalPermissions].CanDeleteAllTimeEntries)" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Bool"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="TaskDetailNew"  AdditionalPermissionsRequired="true" RootEntityName="Task" SelectDistinctRows="false" EnableCustomFields="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Description" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CreationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="DurationHours" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="IsEndDateSelected" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false" />
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <!-- Actual hours + child actual hours -->
        <Field Name="ActualHours" EntityName="TaskAggregatedValuesForTask" ForceSelect="true" DefaultVisibility="true" />
        <!-- Child actual hours need for knowing activity actual hours -->
        <Field Name="ChildsActualHours" EntityName="TaskAggregatedValuesForTask" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="IsMilestone" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="CategoryID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="TaskStatusID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="PriorityID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="TaskPriority" DefaultVisibility="true" />
        <Field Name="CreatorID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="HasChild" EntityName="Task" DefaultVisibility="false" ForceSelect="true" />
        <Field Name="ChildsBudget" EntityName="TaskAggregatedValues" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="Decimal"  AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="Budget" EntityName="Task" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="Decimal"  AccessType="Optional" Width="10"/>
        </Field>
        <Field Name="InternalCost" EntityName="TaskAggregatedValues" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="Decimal"  AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="Currency" Cache="TaskProjectCurrency" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory" DataType="String"/>
        </Field>
        <Field Name="ChildsEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="true" DefaultVisibility="true"></Field>
        <Field Name="ChildsHoursLeft" EntityName="TaskAggregatedValues" ForceSelect="true" DefaultVisibility="true"></Field>
        <Field Name="ParentName" Expression="(SELECT Name FROM TT_Tasks t WHERE t.TaskID = {0}.ParentID AND t.AccountId = {0}.AccountId )" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="HasSecondParent" Expression="(CASE WHEN EXISTS (SELECT ParentID FROM TT_Tasks t WHERE t.TaskID = {0}.ParentID AND t.AccountId = {0}.AccountId AND t.ParentID IS NOT NULL) THEN 1 ELSE 0 END)" EntityName="Task" ForceSelect="true" DefaultVisibility="false" AccessType="Mandatory">
          <Descriptor AccessType="Mandatory" DataType="Bool"/>
        </Field>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="PortfolioID" Name="PortfolioID" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Name="ProjectStatusID" EntityName="Project" ForceSelect="true" />
        <Field Name="IsCurrentUserAssignee"  Cache="TaskIsCurrentUserAssignee" EntityName="Task" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="LastModificationDate" EntityName="Task" ForceSelect="true" />
        <Field Alias="Timeliness" Name="Timeliness" EntityName="Task"
                     Cache="Timeliness"
                     ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Alias="Health" Name="Health" EntityName="TaskEVA" ForceSelect="true"/>
        <Field Name="CanCompleteParent" AccessType="Mandatory" Expression="dbo.ep_CanCompleteParent({0}.TaskID, @CurrentUserID,{0}.AccountId)" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>
        <Field Name="IsParentCompleted" AccessType="Mandatory" Expression="dbo.ep_IsParentCompleted({0}.TaskID, {0}.AccountId)" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>
        <Field Name="DependentTasks" EntityName="Task" Cache="TaskDependentTasksInfo" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="Object"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="ProjectTasks" RootEntityName="Task" SelectDistinctRows="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
      </Fields>
    </View>

    <!--Used for build WBS-->
    <View Name="ActivityWBSStructure" RootEntityName="Task" SelectDistinctRows="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="LastModificationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <!-- Don't delete HierarchicalStoredProcedure="GetTaskDirectHeirs" attribute, it is not used now! it is just a marker! -->
    <View Name="ParentTaskList" RootEntityName="Task" HierarchicalStoredProcedure="GetTaskDirectHeirs" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="—" Type="String" />
      </Filters>
    </View>

    <View Name="TasksForPossibleParent" RootEntityName="Task" HierarchicalStoredProcedure="GetTaskDirectHeirs" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Alias="TaskID" Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Name" Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="WBSNumber"  Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="" Type="String" />
      </Filters>
    </View>

    <View Name="MasterTaskDetailedList" RootEntityName="TaskDependency" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskDependencyID" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="DependentTaskID" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TaskID" EntityName="MasterTask" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="MasterTask" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Delay" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Type" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <!-- Don't delete HierarchicalStoredProcedure="GetTaskDirectHeirs" attribute, it is not used now! it is just a marker! -->
    <View Name="TasksForPossibleMasterTasksList" RootEntityName="Task" HierarchicalStoredProcedure="GetTaskDirectHeirs" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="true" />
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" />
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" />
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" />
      </Fields>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="—" Type="String" />
      </Filters>
    </View>

    <View Name="MessageboardTaskNamesList" RootEntityName="Task" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="—" Type="String" />
      </Filters>
    </View>

    <View Name="AssigneesList" RootEntityName="ProjectMember">
      <NotNullFlagFields>
        <NotNullFlagField Name="TaskAssigneeID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="true" />
      </NotNullFlagFields>
      <Fields>
        <Field Name="ProjectMemberID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="DependencyDetail" RootEntityName="TaskDependency">
      <Fields>
        <Field Name="TaskDependencyID" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Type" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Delay" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="DependentTaskID" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="MasterTaskID" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
      </Fields>
    </View>

    <View Name="UserList" SelectDistinctRows="false" RootEntityName="User">
      <Fields>
        <Field Name="Login" EntityName="User" ForceSelect="true" DefaultVisibility="false">
          <Descriptor Width="0"/>
        </Field>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="29" OpensEntity="true" />
        </Field>
        <Field Name="RoleID" EntityName="Role" ForceSelect="true" DefaultVisibility="false">
          <Descriptor Width="2"/>
        </Field>
        <Field Name="Name" EntityName="Role" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="25"/>
        </Field>
        <Field Name="Teams" EntityName="User" ForceSelect="false" DefaultVisibility="true" Expression="dbo.ep_GetUserTeams([{0}].UserID,[{0}].AccountId)" IsCustomizable="true">
          <Descriptor Width="10" AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="Skills" EntityName="User" ForceSelect="false" DefaultVisibility="true" Expression="dbo.ep_GetUserSkills([{0}].UserID,[{0}].AccountId)" IsCustomizable="true">
          <Descriptor Width="10" AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="EMail" EntityName="User" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor Width="25"/>
        </Field>
        <Field Name="Name" EntityName="UserCustomer" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="25"/>
        </Field>
        <Field Name="CanLogin" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="Enabled" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="HourlyRate" EntityName="User" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="HourlyRateInternal" EntityName="User" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="CanDelete_LastAdministrator" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Users u INNER JOIN TT_Roles r ON u.RoleID = r.RoleID AND u.AccountId = r.AccountId WHERE r.InternalRoleID = 1 AND u.Enabled = 1 AND u.CanLogin = 1 AND u.UserID &lt;&gt; [{0}].UserID AND u.AccountId = [{0}].AccountId) THEN 1 ELSE 0 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_ProjectMember" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_ProjectMembers pm WHERE pm.UserID = [{0}].UserID AND pm.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_PortfolioMember" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_PortfolioMembers pm WHERE pm.UserID = [{0}].UserID AND pm.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_HasTimeEntries" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_TimeEntries te WHERE te.UserID = [{0}].UserID AND te.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_ProjectCreator" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Projects p WHERE p.CreatorID = [{0}].UserID AND p.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_TaskCreator" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Tasks t WHERE t.CreatorID = [{0}].UserID AND t.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_EventCreator" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Events e WHERE e.CreatorID = [{0}].UserID AND e.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_MessageCreator" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Messages m WHERE m.UserID = [{0}].UserID AND m.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_User_DeleteHasWorkflow" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM WF_WorkflowEvents m WHERE m.UserID = [{0}].UserID AND m.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_EventAssigner" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_EventAssignees ea WHERE ea.UserID = [{0}].UserID AND ea.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)" EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="IsTaskAssignee" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_TaskAssignees ta WHERE ta.UserID = [{0}].UserID AND ta.AccountId = [{0}].AccountId) THEN 1 ELSE 0 END)"
    EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_FormCreator" IncludeInCustomFilters="true"
      	       Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Forms f WHERE f.UserID = [{0}].UserID AND f.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
      	       EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="CanDelete_FromRecordCreator" IncludeInCustomFilters="true"
      	       Expression="(CASE WHEN EXISTS (SELECT * FROM TT_FormRecords fr WHERE fr.UserID = [{0}].UserID AND fr.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
      	       EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="CanDelete_IsFromAssignee" IncludeInCustomFilters="true"
      	       Expression="(CASE WHEN EXISTS (SELECT * FROM TT_FormPermissions fp WHERE fp.UserID = [{0}].UserID AND fp.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
      	       EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="CanDelete_IsAutoConvertFormCreator" IncludeInCustomFilters="true"
             Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Forms f WHERE f.AutoConvertCreatorID = [{0}].UserID AND f.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
             EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="User"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="FreeUserList" SelectDistinctRows="false" RootEntityName="User">
      <Fields>
        <Field Name="Login" EntityName="User" ForceSelect="true" DefaultVisibility="false">
          <Descriptor Width="0"/>
        </Field>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="29" OpensEntity="true" />
        </Field>
        <Field Name="Name" EntityName="Role" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false" >
          <Descriptor Width="25"/>
        </Field>
        <Field Name="EMail" EntityName="User" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor Width="25"/>
        </Field>
        <Field Name="Name" EntityName="UserCustomer" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="25"/>
        </Field>
        <Field Name="CanLogin" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="Enabled" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="CanDelete_LastAdministrator" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Users u INNER JOIN TT_Roles r ON u.RoleID = r.RoleID AND u.AccountId = r.AccountId WHERE r.InternalRoleID = 1 AND u.Enabled = 1 AND u.CanLogin = 1 AND u.UserID &lt;&gt; [{0}].UserID AND u.AccountId = [{0}].AccountId) THEN 1 ELSE 0 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_ProjectMember" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_ProjectMembers pm WHERE pm.UserID = [{0}].UserID AND pm.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_PortfolioMember" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_PortfolioMembers pm WHERE pm.UserID = [{0}].UserID AND pm.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_HasTimeEntries" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_TimeEntries te WHERE te.UserID = [{0}].UserID AND te.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_ProjectCreator" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Projects p WHERE p.CreatorID = [{0}].UserID AND p.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_TaskCreator" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Tasks t WHERE t.CreatorID = [{0}].UserID AND t.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_EventCreator" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Events e WHERE e.CreatorID = [{0}].UserID AND e.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_MessageCreator" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Messages m WHERE m.UserID = [{0}].UserID AND m.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_User_DeleteHasWorkflow" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM WF_WorkflowEvents m WHERE m.UserID = [{0}].UserID AND m.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_EventAssigner" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_EventAssignees ea WHERE ea.UserID =  [{0}].UserID AND ea.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)" EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="IsTaskAssignee" IncludeInCustomFilters="true" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_TaskAssignees ta WHERE ta.UserID = [{0}].UserID AND ta.AccountId = [{0}].AccountId) THEN 1 ELSE 0 END)"
    EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="User"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="UserDetail" RootEntityName="User" SelectDistinctRows="false">
      <Fields>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Login" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EMail" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="HourlyRate" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="HourlyRateInternal" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Enabled" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CanLogin" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Avatar" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CustomerID" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="RoleID" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="CanDelete_LastAdministrator" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Users u INNER JOIN TT_Roles r ON u.RoleID = r.RoleID AND u.AccountId = r.AccountId WHERE r.InternalRoleID = 1 AND u.Enabled = 1 AND u.CanLogin = 1 AND u.UserID &lt;&gt; [{0}].UserID AND u.AccountId = [{0}].AccountId ) THEN 1 ELSE 0 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_EventAssigner" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_EventAssignees ea WHERE ea.UserID =  [{0}].UserID AND ea.AccountId = [{0}].AccountId ) THEN 0 ELSE 1 END)" EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="CanDelete_ProjectMember" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_ProjectMembers pm WHERE pm.UserID = [{0}].UserID AND pm.AccountId = [{0}].AccountId ) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_HasTimeEntries" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_TimeEntries te WHERE te.UserID = [{0}].UserID AND te.AccountId = [{0}].AccountId ) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_ProjectCreator" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Projects p WHERE p.CreatorID = [{0}].UserID AND p.AccountId = [{0}].AccountId ) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_TaskCreator" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Tasks t WHERE t.CreatorID = [{0}].UserID AND t.AccountId = [{0}].AccountId ) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_EventCreator" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Events e WHERE e.CreatorID = [{0}].UserID AND e.AccountId = [{0}].AccountId ) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_MessageCreator" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Messages m WHERE m.UserID = [{0}].UserID AND m.AccountId = [{0}].AccountId ) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_User_DeleteHasWorkflow" Expression="(CASE WHEN EXISTS (SELECT * FROM WF_WorkflowEvents m WHERE m.UserID = [{0}].UserID AND m.AccountId = [{0}].AccountId ) THEN 0 ELSE 1 END)"
  EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="IsTaskAssignee" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_TaskAssignees ta WHERE ta.UserID = [{0}].UserID AND ta.AccountId = [{0}].AccountId ) THEN 1 ELSE 0 END)"
    EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="CanDelete_IsAutoConvertFormCreator" IncludeInCustomFilters="true"
             Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Forms f WHERE f.AutoConvertCreatorID = [{0}].UserID AND f.AccountId = [{0}].AccountId) THEN 0 ELSE 1 END)"
             EntityName="User" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="LastLockoutDate" EntityName="User" ForceSelect="true" DefaultVisibility="false">
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="User"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="UserScheduleList" RootEntityName="UserScheduleView" PrimaryKeyField="UserID">
      <Fields>
        <Field Name="UserID" EntityName="UserScheduleView" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="RoleID" EntityName="UserScheduleView" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Day" EntityName="UserScheduleView" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Hours" EntityName="UserScheduleView" ForceSelect="true" DefaultVisibility="true" />
      </Fields>
    </View>

    <View Name="CustomerList" SelectDistinctRows="false" RootEntityName="Customer">
      <Fields>
        <Field Name="CustomerID" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor Width="29" OpensEntity="true"/>
        </Field>
        <Field Name="Enabled" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="2" />
        </Field>
        <Field Name="Description" IncludeInCustomFilters="true" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="30"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Customer"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="CategoryNames" RootEntityName="Category" SelectDistinctRows="false">
      <Fields>
        <Field Alias="CategoryID" Name="CategoryID" EntityName="Category" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Name" Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="CustomerDetail" RootEntityName="Customer" SelectDistinctRows="false">
      <Fields>
        <Field Name="CustomerID" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Address1" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Address2" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="City" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="State" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Country" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Enabled" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="PostalCode" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Phone1" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Phone2" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Fax" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="HourlyRate" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Description" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Customer"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="UserForFilters" RootEntityName="User" SelectDistinctRows="false">
      <Fields>
        <Field Alias="UserID" Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Name" Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="RoleID" Name="RoleID" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="RoleName" Name="Name" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="EMail" Name="EMail" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Enabled" Name="Enabled" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="CanLogin" Name="CanLogin" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="ShowCompletedTasks" Name="ShowCompletedTasks" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="ShowCompletedProjects" Name="ShowCompletedProjects" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="ShowCompletedPortfolios" Name="ShowCompletedPortfolios" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="ShowAvatars" Name="ShowAvatars" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="IsAvatarEmpty" Name="IsAvatarEmpty" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="AvatarHash" Name="AvatarHash" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="IsMe" Name="IsMe" Expression="case [User].[UserID]  when @CurrentUserID then 1 else 0 end" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Bool" AccessType="Mandatory" />
        </Field>
      </Fields>
    </View>

    <View Name="ProjectMembers" RootEntityName="ProjectMember" SelectDistinctRows="false">
      <Fields>
        <Field Name="ProjectMemberID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="MemberPermissionID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="70"/>
        </Field>
        <Field Name="Name" EntityName="Role" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="30"/>
        </Field>
        <Field Name="Avatar" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="ProjectMemberForProjectExport" RootEntityName="ProjectMember">
      <Fields>
        <Field Name="ProjectMemberID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="70"/>
        </Field>
        <Field Name="HourlyRate" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="UserListForProjectMembers" RootEntityName="User" SelectDistinctRows="false">
      <Fields>
        <Field Name="AvatarImage" Expression="null" EntityName="User" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="Optional" Width="10"/>
        </Field>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Login" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="50"/>
        </Field>

        <Field Name="RoleID" EntityName="Role" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="InternalRoleID" EntityName="Role" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Name" EntityName="Role" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="40"/>
        </Field>
        <Field Name="IsAvatarEmpty" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="AvatarHash" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="ProjectMembersLite" RootEntityName="ProjectMember">
      <Fields>
        <Field Name="ProjectMemberID" EntityName="ProjectMember" DefaultVisibility="false" ForceSelect="true"/>
        <Field Name="UserID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="RoleID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Role" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Enabled" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="UserListForPortfolioMembers" RootEntityName="User" SelectDistinctRows="false">
      <Fields>
        <Field Name="AvatarImage" Expression="null" EntityName="User" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="Optional" Width="10"/>
        </Field>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Login" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="RoleID" EntityName="Role" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Avatar" EntityName="User" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="IsPortfolioManager" EntityName="PortfolioMember" ForceSelect="true" DefaultVisibility="true"  />
        <Field Name="CanView" EntityName="PortfolioMember" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="CanEdit" EntityName="PortfolioMember" ForceSelect="true" DefaultVisibility="false" />
      </Fields>
    </View>

    <View Name="PortfolioMembersLite" RootEntityName="PortfolioMember">
      <Fields>
        <Field Name="PortfolioMemberID" EntityName="PortfolioMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="IsPortfolioManager" EntityName="PortfolioMember" ForceSelect="true" DefaultVisibility="true"  />
        <Field Name="CanView" EntityName="PortfolioMember" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="CanEdit" EntityName="PortfolioMember" ForceSelect="true" DefaultVisibility="false" />
      </Fields>
    </View>

    <View Name="ScopeRoleWithPermissions" RootEntityName="ScopeRole">
      <Fields>
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="RoleID" Name="RoleID" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="Name" Name="Name" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanManageSystemSettings" Name="CanManage" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanAccessReports" Name="CanAccessReports" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanAccessReportGenerator" Name="CanAccessReportGenerator" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanCreateProjects" Name="CanCreateProjects" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanAccessProjects" Name="CanAccessProjects" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanAccessBillingInformation" Name="CanAccessBillingInformation" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanManageCustomers" Name="CanManageCustomers" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanAddForms" Name="CanAddForms" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanManageForms" Name="CanManageForms" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="InternalRoleID" Name="InternalRoleID" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanManageAllPortfolios" Name="CanManageAllPortfolios" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanAddPortfolios" Name="CanAddPortfolios" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanCreateGroupEvents" Name="CanCreateGroupEvents" />
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanManageOwnVacations" Name="CanManageOwnVacations"/>
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanManageOtherPeopleVacations" Name="CanManageOtherPeopleVacations"/>
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanPurchase" Name="CanPurchase"/>
        <Field EntityName="ScopeRole" ForceSelect="true" Alias="CanInviteUsers" Name="CanInviteUsers" />
        <Field EntityName="MemberPermission" ForceSelect="true" Alias="CanDeleteAllTimeEntries" Name="CanDeleteAllTimeEntries"/>
        <Field EntityName="MemberPermission" ForceSelect="true" Alias="CanDeleteAllTasks" Name="CanDeleteAllTasks"/>
        <Field EntityName="MemberPermission" ForceSelect="true" Alias="CanCreateTasks" Name="CanCreateTasks" />
        <Field EntityName="MemberPermission" ForceSelect="true" Alias="CanAccessAllTimeEntries" Name="CanAccessAllTimeEntries" />

        <Field EntityName="DefaultPermissionsForRole" ForceSelect="true" Name="CanCreateTasks" />
        <Field EntityName="DefaultPermissionsForRole" ForceSelect="true" Name="CanCreateTimeEntries" />
        <Field EntityName="DefaultPermissionsForRole" ForceSelect="true" Name="CanCreateTimeEntriesForOther" />
      </Fields>
    </View>

    <View Name="RoleWithItsPermissions" RootEntityName="Role">
      <Fields>
        <Field Name="Name" EntityName="Role" ForceSelect="true" />
        <Field Name="RoleID" EntityName="Role" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="InternalRoleID" EntityName="Role" ForceSelect="true" />
        <Field Name="MemberPermissionID" EntityName="Role" ForceSelect="true" />

        <Field Name="CanManage" EntityName="Role" ForceSelect="true" />
        <Field Name="CanCreateGroupEvents" EntityName="Role" ForceSelect="true" />
        <Field Name="CanAccessReports" EntityName="Role" ForceSelect="true" />
        <Field Name="CanAccessReportGenerator" EntityName="Role" ForceSelect="true" />
        <Field Name="CanAccessProjects" EntityName="Role" ForceSelect="true" />
        <Field Name="CanCreateProjects" EntityName="Role" ForceSelect="true" />
        <Field Name="CanAddPortfolios" EntityName="Role" ForceSelect="true" />
        <Field Name="CanAddForms" EntityName="Role" ForceSelect="true" />
        <Field Name="CanManageAllPortfolios" EntityName="Role" ForceSelect="true" />
        <Field Name="CanAccessBillingInformation" EntityName="Role" ForceSelect="true"/>
        <Field Name="CanManageOwnVacations" EntityName="Role" ForceSelect="true" />
        <Field Name="CanManageOtherPeopleVacations" EntityName="Role" ForceSelect="true" />
        <Field Name="CanManageCustomers" EntityName="Role" ForceSelect="true" />
        <Field Name="CanManageForms" EntityName="Role" ForceSelect="true" />
        <Field Name="CanPurchase" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CanInviteUsers" EntityName="Role" ForceSelect="true"/>

        <Field Name="CanAccessAllTasks" EntityName="DefaultPermissionsForRole" ForceSelect="true" />
        <Field Name="CanAccessAllTimeEntries" EntityName="DefaultPermissionsForRole" ForceSelect="true" />
        <Field Name="CanEditProject" EntityName="DefaultPermissionsForRole" ForceSelect="true" />
        <Field Name="CanEditAllTasks" EntityName="DefaultPermissionsForRole" ForceSelect="true" />
        <Field Name="CanEditAssignedTasks" EntityName="DefaultPermissionsForRole" ForceSelect="true" />
        <Field Name="CanEditAllTimeEntries" EntityName="DefaultPermissionsForRole" ForceSelect="true" />
        <Field Name="CanCreateTasks" EntityName="DefaultPermissionsForRole" ForceSelect="true" />
        <Field Name="CanCreateTimeEntries" EntityName="DefaultPermissionsForRole" ForceSelect="true" />
        <Field Name="CanCreateTimeEntriesForOther" EntityName="DefaultPermissionsForRole" ForceSelect="true" />
        <Field Name="CanDeleteProject" EntityName="DefaultPermissionsForRole" ForceSelect="true" />
        <Field Name="CanDeleteAllTasks" EntityName="DefaultPermissionsForRole" ForceSelect="true" />
        <Field Name="CanDeleteAllTimeEntries" EntityName="DefaultPermissionsForRole" ForceSelect="true" />

        <Field Name="CanManageAssigneesTasks" EntityName="DefaultPermissionsForRole" ForceSelect="true" />
        <Field Name="CanViewMembersAndAssignees" EntityName="DefaultPermissionsForRole" ForceSelect="true" />
        <Field Name="CanManageProjectMembers" EntityName="DefaultPermissionsForRole" ForceSelect="true" />

        <Field Name="CanAccessAllTasks" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanAccessAllTimeEntries" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanEditProject" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanEditAllTasks" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanEditAllTimeEntries" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanCreateTasks" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanCreateTimeEntriesForOther" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanDeleteProject" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanDeleteAllTasks" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanDeleteAllTimeEntries" EntityName="MemberPermission" ForceSelect="true" />
      </Fields>
    </View>

    <View Name="MemberPermissions" RootEntityName="MemberPermission">
      <Fields>
        <Field Name="MemberPermissionID" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="CanAccessAllTasks" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanAccessAllTimeEntries" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanEditProject" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanEditAllTasks" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanEditAssignedTasks" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanEditAllTimeEntries" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanCreateTasks" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanCreateTimeEntries" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanCreateTimeEntriesForOther" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanDeleteProject" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanDeleteAllTasks" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanDeleteAllTimeEntries" EntityName="MemberPermission" ForceSelect="true" />

        <Field Name="CanManageAssigneesTasks" EntityName="MemberPermission" ForceSelect="true"/>
        <Field Name="CanViewMembersAndAssignees" EntityName="MemberPermission" ForceSelect="true"/>
        <Field Name="CanManageProjectMembers" EntityName="MemberPermission" ForceSelect="true"/>


      </Fields>
    </View>

    <View Name="NotMemberPermissions" RootEntityName="MemberPermission">
      <Fields>
        <Field Name="MemberPermissionID" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="CanManage" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanAccessAllTasks" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanAccessAllTimeEntries" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanEditProject" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanEditAllTasks" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanEditAllTimeEntries" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanCreateTasks" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanCreateTimeEntriesForOther" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanDeleteProject" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanDeleteAllTasks" EntityName="MemberPermission" ForceSelect="true" />
        <Field Name="CanDeleteAllTimeEntries" EntityName="MemberPermission" ForceSelect="true" />
      </Fields>
    </View>

    <View Name="RoleList" RootEntityName="Role">
      <Fields>
        <Field Name="RoleID" EntityName="Role" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Role" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="39" OpensEntity="true"/>
        </Field>
        <Field Name="Description" EntityName="Role" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
        <Field Name="InternalRoleID" EntityName="Role" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="MemberPermissionID" EntityName="Role" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="DefaultMemberPermissionID" EntityName="Role" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="RoleDetail" RootEntityName="Role">
      <Fields>
        <Field Name="RoleID" EntityName="Role" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Description" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="HourlyRate" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CanManage" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CanCreateGroupEvents" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CanAccessReports" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CanAccessReportGenerator" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CanCreateProjects" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CanAccessProjects" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CanAddPortfolios" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CanManageAllPortfolios" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CanAccessBillingInformation" EntityName="Role" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="CanManageOwnVacations" EntityName="Role" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="CanManageOtherPeopleVacations" EntityName="Role" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="CanManageCustomers" EntityName="Role" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="CanAddForms" EntityName="Role" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="CanManageForms" EntityName="Role" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="CanInviteUsers" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="InternalRoleID" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="MemberPermissionID" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="DefaultMemberPermissionID" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="PresetID" EntityName="Role" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="CanPurchase" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="PresetList" RootEntityName="Preset">
      <Fields>
        <Field Name="PresetID" EntityName="Preset" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="Preset" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="ProjectMemberDetails" RootEntityName="ProjectMember">
      <Fields>
        <Field Name="ProjectMemberID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="RoleID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="MemberPermissionID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"></Field>
      </Fields>
    </View>

    <View Name="PublicHolidays" RootEntityName="PublicHoliday">
      <Fields>
        <Field Name="PublicHolidayID" EntityName="PublicHoliday" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="PublicHoliday" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="70" AccessType="Mandatory"/>
        </Field>
        <Field Name="Date" EntityName="PublicHoliday" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="Vacations" RootEntityName="Vacation">
      <Fields>
        <Field Name="VacationID" EntityName="Vacation" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="UserID" EntityName="Vacation" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Date" EntityName="Vacation" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Name" EntityName="VacationType" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="IsHalfDay" EntityName="Vacation" ForceSelect="true" DefaultVisibility="true" />
      </Fields>
    </View>

    <View Name="OptionsDetails" RootEntityName="Options">
      <Fields>
        <Field Name="OptionsID" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="WeekendsAsWorkdays" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EnableNotifications" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="MailFromName" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="MailFromAddress" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="SmtpServer" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="SmtpPort" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="SmtpUserName" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="SmtpPassword" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EnableIssueByMail" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Pop3Server" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Pop3Port" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Pop3UserName" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Pop3Password" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Pop3EnableSSL" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EnableSSL" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="DeleteLetters" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="Options" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="UserID" EntityName="Options" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="NotifyCreator" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="NotifyAssignees" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="NotifyEventEdit" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="NotifyEventAssign" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="NotifyEventDelete" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="NotifyProjectManagersVacationChanged" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EnableSmarterTrackIntegration" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="SmarterTrackAgentUserName" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="SmarterTrackAgentPassword" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="SmarterTrackUrl" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ShowPortfolios" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EnableApproveWorkflow" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CreatorAsApprover" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PMAsApprover" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="NumberOfHoursPerDay" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="SPIThreshold" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CPIThreshold" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="VacationYearStartDate" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EnforceProhibitedWordsPolicy" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EnforcePasswordStrength" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PasswordLength" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PasswordNumbersCount" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PasswordSpecSymbolsCount" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="LockOutUserAfterInvalidPassword" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="InvalidPasswordAttempts" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UnblockOnRecovery" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UnblockAutomatically" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UnblockAutomaticallyIn" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="LockoutUserDueToInactivity" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="MaxUserInactivity" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EnablePasswordExpiration" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PasswordExpiration" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CreatorHasFullAccessToProject" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="BreakevenRate" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CalculateHealthUseBothParams" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UseNewDetailsPage" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="IsUseNewDetailsPageOptionVisible" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="IsEnableApproveWorkflowOptionVisible" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="DefaultCurrencyId" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="OptionsEnableNotifications" RootEntityName="Options">
      <Fields>
        <Field Name="OptionsID" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EnableNotifications" EntityName="Options" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="EventUserList" RootEntityName="EventUser">
      <Fields>
        <Field Name="EventUserID" EntityName="EventUser" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserID" EntityName="EventUser" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="UsersIncluderList" RootEntityName="User">
      <Fields>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="85"/>
        </Field>
        <Field Name="ActionsColumn" Expression="null" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" Width="15"/>
        </Field>
      </Fields>
    </View>

    <View Name="UserNamesList" RootEntityName="User">
      <Fields>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="RoleID" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Enabled" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanLogin" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="AvatarHash" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="UserHourlyRatesList" RootEntityName="UserHourlyRates">
      <Fields>
        <Field Name="Date" EntityName="UserHourlyRates" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Decimal" AccessType="Mandatory" />
        </Field>
        <Field Name="HourlyRate" EntityName="UserHourlyRates" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Date" AccessType="Mandatory" />
        </Field>
        <Field Name="HourlyRateInternal" EntityName="UserHourlyRates" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Decimal" AccessType="Mandatory" />
        </Field>
        <Field Name="DateEnd" EntityName="UserHourlyRates" Expression="(SELECT TOP 1 DATEADD(day, -1, r.[Date]) FROM [TT_UserHourlyRates] as r WHERE [{0}].[Date] &lt; r.[Date] AND [{0}].UserID = r.[UserID] AND r.AccountId = [{0}].AccountId ORDER BY r.[Date])" ForceSelect="true" DefaultVisibility="false">
          <Descriptor DataType="Date" AccessType="Optional" />
        </Field>
        <Field Name="IsOneDate" EntityName="UserHourlyRates" Expression="(CASE WHEN DATEDIFF(day,[{0}].[Date],(SELECT TOP 1 [Date] FROM [TT_UserHourlyRates] as r WHERE [{0}].[Date] &lt; r.[Date] AND [{0}].UserID = r.[UserID] AND r.AccountId = [{0}].AccountId ORDER BY r.[Date])) > 1 THEN 0 ELSE 1 END)" ForceSelect="true" DefaultVisibility="false">
          <Descriptor DataType="Date" AccessType="Optional" />
        </Field>
        <Field Name="ActionsColumn" Expression="null" EntityName="UserHourlyRates" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" Width="10"/>
        </Field>
      </Fields>
    </View>

    <View Name="TimeEntryList" RootEntityName="TimeEntry">
      <Fields>
        <Field Name="TimeEntryID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="false">
          <Descriptor Width="0"/>
        </Field>
        <Field Name="EntryDate" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="15"/>
        </Field>
        <Field Name="UserID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="EnteredBy" Expression="[{0}].Name" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" Width="14"/>
        </Field>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="TaskID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="ProjectTaskName" Expression="[Project].[Name] + ' ' + [Task].[Name]" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" Width="30"/>
        </Field>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Duration" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="8"/>
        </Field>
        <Field Name="Description" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="25" />
        </Field>
        <Field Name="Billable" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="8"/>
        </Field>
        <Field Name="Billed" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="Approved" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="Locked" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="10"/>
        </Field>
      </Fields>
    </View>

    <View Name="TimeEntryBillingFilter" RootEntityName="TimeEntry">
      <Fields>
        <Field Name="TimeEntryID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="false">
          <Descriptor Width="0"/>
        </Field>
        <Field Name="EntryDate" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="15"/>
        </Field>
        <Field Name="UserID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Billed" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="Billable" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="8"/>
        </Field>
        <Field Name="CustomerID" EntityName="Customer" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="10"/>
        </Field>
      </Fields>
    </View>

    <View Name="TimeEntryDetail" RootEntityName="TimeEntry">
      <Fields>
        <Field Name="TimeEntryID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EntryDate" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="UserID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="TaskID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Duration" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Description" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Billable" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <!-- Don't delete HierarchicalStoredProcedure="GetTaskDirectHeirs" attribute, it is not used now! it is just a marker! -->
    <View Name="TaskNamesList" RootEntityName="Task" HierarchicalStoredProcedure="GetTaskDirectHeirs" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>

        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>

        <Field Name="UserActualHours" Expression="(SELECT sum(Duration) FROM TT_TimeEntries WHERE TaskID = {0}.TaskID AND UserID = @UserForActualHours AND AccountId = {0}.AccountId)"
 EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>
        <Field Name="HasChildren" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Tasks t WHERE t.ParentID = {0}.TaskID AND t.AccountId = {0}.AccountId) THEN 1 ELSE 0 END)"
 EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Bool"/>
        </Field>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="—" Type="String" />
      </Filters>
    </View>

    <View Name="TaskNamesListIndented" RootEntityName="Task" HierarchicalStoredProcedure="GetTaskDirectHeirs" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="—" Type="String" />
      </Filters>
    </View>

    <!-- Don't delete HierarchicalStoredProcedure="GetTaskDirectHeirs" attribute, it is not used now! it is just a marker! -->
    <View Name="TaskNamesListForTimeLogs" RootEntityName="Task" HierarchicalStoredProcedure="GetTaskDirectHeirs" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>

        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CategoryID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="TaskType" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="—" Type="String" />
      </Filters>
    </View>

    <View Name="TaskNamesListForTimeLogsHistory" RootEntityName="Task" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>

        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CategoryID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="TaskType" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="—" Type="String" />
      </Filters>
    </View>

    <!-- Don't delete HierarchicalStoredProcedure="GetTaskDirectHeirs" attribute, it is not used now! it is just a marker! -->
    <View Name="TaskNamesListForTimeLogger" RootEntityName="Task" HierarchicalStoredProcedure="GetTaskDirectHeirs" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>

        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="—" Type="String" />
      </Filters>
    </View>

    <View Name="TaskInfoForTimeEntry" RootEntityName="Task" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ActualHours" EntityName="TaskAggregatedValuesForTask" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserPHL" Expression="(SELECT PersonalHoursLeft FROM TT_TaskAssignees WHERE TaskID={0}.TaskID AND UserID = @SelectedUser AND AccountId = {0}.AccountId )" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>
        <Field Name="UserWorkIsDone" Expression="(SELECT WorkIsDone FROM TT_TaskAssignees WHERE TaskID={0}.TaskID AND UserID = @SelectedUser AND AccountId = {0}.AccountId )" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Bool"/>
        </Field>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="BillingType" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserName" Expression="(SELECT Name FROM TT_Users WHERE UserID = @SelectedUser AND AccountId = {0}.AccountId)"
   EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="UserActualHours" Expression="(SELECT sum(Duration) FROM TT_TimeEntries WHERE TaskID = {0}.TaskID AND UserID = @SelectedUser AND AccountId = {0}.AccountId)"
   EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>
        <Field Name="HasChildren" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Tasks t WHERE t.ParentID = {0}.TaskID AND t.AccountId = {0}.AccountId) THEN 1 ELSE 0 END)"
   EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Bool"/>
        </Field>
        <Field Name="BillingType" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="UserListForTimeEntry" RootEntityName="ProjectMember">
      <Fields>
        <Field Name="ProjectMemberID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TaskID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Enabled" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="UserFilterForTimeEntry" RootEntityName="User">
      <Fields>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Enabled" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CanLogin" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="ProjectMemberForTimeEntryProject" RootEntityName="ProjectMember">
      <Fields>
        <Field Name="ProjectMemberID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanCreateTimeEntriesForOther" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="TaskAssigneeForBatchOperation" RootEntityName="TaskAssignee">
      <Fields>
        <Field Name="TaskAssigneeID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TaskID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectMemberID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="TaskAssignees" RootEntityName="TaskAssignee">
      <Fields>
        <Field Name="TaskID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TaskAssigneeID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="WorkIsDone" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectMemberID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="RoleID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PersonalHoursLeft" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PersonalEstimatedHours" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="TaskAssigneeForCalculation" RootEntityName="TaskAssignee">
      <Fields>
        <Field Alias="TaskID" Name="TaskID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="TaskAssigneeID" Name="TaskAssigneeID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="WorkIsDone" Name="WorkIsDone" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="UserID" Name="UserID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="ProjectMemberID" Name="ProjectMemberID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="PersonalHoursLeft" Name="PersonalHoursLeft" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="PersonalEstimatedHours" Name="PersonalEstimatedHours" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="UserEnabled" Name="Enabled" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="RoleID" Name="RoleID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="OldMessageBoardMessageList" RootEntityName="Message">
      <Fields>
        <Field Name="MessageID" EntityName="Message" ForceSelect="true" DefaultVisibility="false">
          <Descriptor Width="0"/>
        </Field>
        <Field Name="PostDate" EntityName="Message" ForceSelect="true" DefaultVisibility="false">
          <Descriptor Width="0"/>
        </Field>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="MessageText" EntityName="Message" ForceSelect="true" DefaultVisibility="false">
          <Descriptor Width="0" />
        </Field>
        <Field Name="Message" Expression="null" EntityName="Message" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" Width="100"/>
        </Field>
      </Fields>
      <Filters>
        <Filter Name="b_Message_MessageText_NotEqual" Value="" Type="String"/>
      </Filters>
    </View>

    <View Name="WorkflowEventChangesList" RootEntityName="WorkflowEventChanges" SelectDistinctRows="false">
      <Fields>
        <Field Name="WorkflowEventID" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PropertyName" EntityName="WorkflowEventChanges" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="OldValue" EntityName="WorkflowEventChanges" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="NewValue" EntityName="WorkflowEventChanges" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="IsCustomField" EntityName="WorkflowEventChanges" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="FieldDataType" EntityName="WorkflowEventChanges" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="ProjectStatusList" RootEntityName="ProjectStatus" SelectDistinctRows="false">
      <Fields>
        <Field Name="ProjectStatusID" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="InternalProjectStatusID" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Icon" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="20"/>
        </Field>
      </Fields>
    </View>

    <View Name="TaskStatusList" RootEntityName="TaskStatus" SelectDistinctRows="false">
      <Fields>
        <Field Name="TaskStatusID" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="50"/>
        </Field>
        <Field Name="TaskTypeID" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false">
          <Descriptor Width="10" AccessType="Mandatory"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="15"/>
        </Field>
        <Field Name="TreatAsHold" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="15"/>
        </Field>
        <Field Name="RequiresApproval" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="15"/>
        </Field>
        <Field Name="InternalTaskStatusID" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Name" EntityName="TaskType" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="20"/>
        </Field>
        <Field Name="Icon" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="20"/>
        </Field>
      </Fields>
    </View>

    <View Name="CategoryList" RootEntityName="Category">
      <Fields>
        <Field Name="CategoryID" EntityName="Category" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
      </Fields>
    </View>

    <View Name="PriorityList" RootEntityName="Priority">
      <Fields>
        <Field Name="PriorityID" EntityName="Priority" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
        <Field Name="PriorityOrder" EntityName="Priority" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="InternalPriorityID" EntityName="Priority" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="VacationTypeList" RootEntityName="VacationType">
      <Fields>
        <Field Name="VacationTypeID" EntityName="VacationType" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="VacationType" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
        <Field Name="Color" EntityName="VacationType" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
        <Field Name="ShortName" EntityName="VacationType" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
        <Field Name="IsPaid" EntityName="VacationType" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
        <Field Name="IncludeInOvertime" EntityName="VacationType" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
      </Fields>
    </View>

    <View Name="ThresholdList" RootEntityName="Threshold">
      <Fields>
        <Field Name="ThresholdID" EntityName="Threshold" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Threshold" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
        <Field Name="Value" EntityName="Threshold" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="20"/>
        </Field>
        <Field Name="Color" EntityName="Threshold" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
      </Fields>
    </View>

    <View Name="TimelinessList" RootEntityName="Timeliness" SelectDistinctRows="false">
      <Fields>
        <Field Name="TimelinessID" EntityName="Timeliness" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Timeliness" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="50"/>
        </Field>
        <Field Name="Delay" EntityName="Timeliness" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="20"/>
        </Field>
        <Field Name="Color" EntityName="Timeliness" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
      </Fields>
    </View>

    <View Name="ProjectNotificationList" RootEntityName="ProjectNotification">
      <Fields>
        <Field Name="ProjectNotificationID" EntityName="ProjectNotification" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="NotificationID" EntityName="ProjectNotification" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Notification" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="80" OpensEntity="true"/>
        </Field>
        <Field Name="Enabled" EntityName="ProjectNotification" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="20"/>
        </Field>
      </Fields>
    </View>

    <View Name="ProjectListForNotification" RootEntityName="Project">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="80" OpensEntity="true"/>
        </Field>
        <Field Name="NotificationType" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="20"/>
        </Field>
      </Fields>
    </View>

    <View Name="NotificationDetail" RootEntityName="Notification">
      <Fields>
        <Field Name="NotificationID" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Enabled" EntityName="ProjectNotification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="IsSystem" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Recipients" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="NotifyCreator" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="NotifyWhoMadeChange" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskAdd" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskEdit" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskAssign" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskComplete" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskDelete" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskLate" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueAdd" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueEdit" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueAssign" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueComplete" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueDelete" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueLate" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestAdd" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestEdit" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestAssign" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestComplete" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestDelete" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestLate" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventMessageAdd" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskCanStart" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueCanStart" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestCanStart" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="NotificationUserList" RootEntityName="NotificationUser">
      <Fields>
        <Field Name="NotificationUserID" EntityName="NotificationUser" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserID" EntityName="NotificationUser" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="ProjectNotificationExcludedUsers" RootEntityName="ProjectNotificationUser">
      <Fields>
        <Field Name="ProjectNotificationUserID" EntityName="ProjectNotificationUser" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserID" EntityName="ProjectNotificationUser" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>
    <View Name="NotificationUserOptions" RootEntityName="NotificationUserOptions">
      <Fields>
        <Field Name="NotificationUserOptionID" EntityName="NotificationUserOptions" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="CombineNotificationsEnabled" EntityName="NotificationUserOptions" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="SendInterval" EntityName="NotificationUserOptions" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="DueSendEnabled" EntityName="NotificationUserOptions" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="DueSendInterval" EntityName="NotificationUserOptions" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="ActivityListSendEnabled" EntityName="NotificationUserOptions" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="ActivityListSendDay" EntityName="NotificationUserOptions" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="ActivityListSendTime" EntityName="NotificationUserOptions" ForceSelect="true" DefaultVisibility="true" />
      </Fields>
    </View>
    <View Name="ProjectNotificationUserOptionsDetail" RootEntityName="ProjectNotificationUserOptions">
      <Fields>
        <Field Name="ProjectNotificationsUserOptionsID" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="NotificationType" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskAdd" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskEdit" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskAssign" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskCanStart" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EventTaskComplete" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskDelete" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskLate" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueAdd" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueEdit" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueAssign" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueCanStart" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EventIssueComplete" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueDelete" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueLate" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestAdd" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestEdit" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestAssign" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestCanStart" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EventRequestComplete" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestDelete" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestLate" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventMessageAdd" EntityName="ProjectNotificationUserOptions" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="PriorityDetails" RootEntityName="Priority">
      <Fields>
        <Field Name="PriorityID" EntityName="Priority" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PriorityOrder" EntityName="Priority" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="InternalPriorityID" EntityName="Priority" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="TimelinessDetails" RootEntityName="Timeliness">
      <Fields>
        <Field Name="TimelinessID" EntityName="Timeliness" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Timeliness" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="ActivityName" RootEntityName="Task">
      <Fields>
        <Field Alias="TaskID" Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Name" Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="TaskForNotification" RootEntityName="Task" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Description" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ParentTaskName" Expression="(SELECT Name FROM TT_Tasks t WHERE t.TaskID = {0}.ParentID AND t.AccountId = {0}.AccountId)"
  EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="IsMilestone" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Billed" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Approved" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CreationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="BaseEstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ActualHours" EntityName="TaskAggregatedValuesSingle" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Budget" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="BillingType" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="BillingAmount" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CategoryID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="TaskType" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TaskStatusID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PriorityID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CreatorID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="InternalTaskStatusID" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="LoggedUserName" Expression="(SELECT Name FROM TT_Users u WHERE u.UserID = @LoggedUserID AND u.AccountId = {0}.AccountId)"
  EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="false"
               Expression="CONCAT({0}.Duration, IIf({0}.Duration IS NULL AND {0}.DurationHours IS NULL, '', ';'), {0}.DurationHours)">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="ProjectForNotification" RootEntityName="Project" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Description" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ActCompletionDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EstimatedHours" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Cost" EntityName="ProjectCost" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Budget" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="BillingType" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="BillingAmount" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectStatusID" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PriorityID" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CreatorID" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="CreatorUser" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CustomerID" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PortfolioID" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Billed" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="LoggedUserName" Expression="(SELECT Name FROM TT_Users u WHERE u.UserID = @LoggedUserID AND u.AccountId = {0}.AccountId)"
  EntityName="Project" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="Duration" EntityName="Project" ForceSelect="true" DefaultVisibility="false"
               Expression="CONCAT({0}.Duration, IIf({0}.Duration IS NULL AND {0}.DurationHours IS NULL, '', ';'), {0}.DurationHours)">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="PaymentForNotification" RootEntityName="Payment" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="PaymentID" EntityName="Payment" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PaymentDate" EntityName="Payment" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Description" EntityName="Payment" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Amount" EntityName="Payment" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Billed" EntityName="Payment" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Planned" EntityName="Payment" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="Payment" ForceSelect="true" DefaultVisibility="false"/>

        <Field Name="LoggedUserName" Expression="(SELECT Name FROM TT_Users u WHERE u.UserID = @LoggedUserID AND u.AccountId = {0}.AccountId)"
  EntityName="Payment" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
      </Fields>
    </View>

    <View Name="ProjectMemberForNotification" RootEntityName="ProjectMember" SelectDistinctRows="false">
      <Fields>
        <Field Name="ProjectMemberID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanManageProjectMembers" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="RoleID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Role" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="MemberPermissionForNotification" RootEntityName="MemberPermission" SelectDistinctRows="false">
      <Fields>
        <Field Name="MemberPermissionID" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="MemberPermissionID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanAccessAllTasks" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanAccessAllTimeEntries" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>

        <Field Name="CanEditProject" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanEditAllTasks" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanEditAssignedTasks" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanEditAllTimeEntries" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>

        <Field Name="CanManageAssigneesTasks" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanViewMembersAndAssignees" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanManageProjectMembers" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>

        <Field Name="CanCreateTasks" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanCreateTimeEntries" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanCreateTimeEntriesForOther" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>

        <Field Name="CanDeleteProject" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanDeleteAllTasks" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CanDeleteAllTimeEntries" EntityName="MemberPermission" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="EventForNotification" RootEntityName="Event">
      <Fields>
        <Field Name="EventID" EntityName="Event" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Event" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Description" EntityName="Event" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="StartDate" EntityName="Event" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Event" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CreatorID" EntityName="Event" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="CreatorUser" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Assignees" Expression="dbo.ep_GetEventAssignees({0}.EventID,{0}.AccountId)" EntityName="Event" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="AssigneesId" Expression="dbo.ep_GetEventAssigneesID({0}.EventID,{0}.AccountId)" EntityName="Event" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="LoggedUserName" Expression="(SELECT Name FROM TT_Users u WHERE u.AccountId = @AccountId AND u.UserID = @LoggedUserID)"
  EntityName="Event" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
      </Fields>
    </View>

    <View Name="AttachmentForNotification" RootEntityName="Attachment">
      <Fields>
        <Field Alias="Attachment_AttachmentID" Name="AttachmentID" EntityName="Attachment" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Attachment_FileName" Name="FileName" EntityName="Attachment" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Attachment_ProjectID" Name="ProjectID" EntityName="Message" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Attachment_TaskID" Name="TaskID" EntityName="Message" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="MessageForNotification" RootEntityName="Message" AdditionalPermissionsRequired="false" AdditionalWhereRequired="false">
      <Fields>
        <Field Alias="Message_MessageID" Name="MessageID" EntityName="Message" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Message_ProjectID" Name="ProjectID" EntityName="Message" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Message_TaskID" Name="TaskID" EntityName="Message" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Message_UserID" Name="UserID" EntityName="Message" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Message_MessageText" Name="MessageText" EntityName="Message" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Message_PostDate" Name="PostDate" EntityName="Message" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="User_Name" Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="TaskAssigneeForNotification" RootEntityName="TaskAssignee">
      <Fields>
        <Field Name="TaskAssigneeID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TaskID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="LoggedUserName" Expression="(SELECT Name FROM TT_Users u WHERE u.UserID = @LoggedUserID AND u.AccountId = {0}.AccountId)"
 EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
      </Fields>
    </View>

    <View Name="TaskDependencyForNotification" RootEntityName="TaskDependency">
      <Fields>
        <Field Name="TaskDependencyID" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Type" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Delay" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="DependentTaskID" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="MasterTaskID" EntityName="TaskDependency" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="MasterTask" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="NotificationTemplateList" RootEntityName="DefaultNotificationTemplate" SelectDistinctRows="false">
      <Fields>
        <Field Name="DefaultTemplateID" EntityName="DefaultNotificationTemplate" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="DefaultNotificationTemplate" ForceSelect="true" DefaultVisibility="false">
        </Field>
        <Field Name="DisplayName" EntityName="DefaultNotificationTemplate" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="50"/>
        </Field>
        <Field Name="Transformation" EntityName="DefaultNotificationTemplate" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
      </Fields>
    </View>

    <!--BEGIN of views used in Calendar-->
    <View Name="CalendarEventsList" RootEntityName="CalendarEvent">
      <Fields>
        <Field Name="CalendarEventID" EntityName="CalendarEvent" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="TaskEventID" EntityName="CalendarEvent" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Name" EntityName="CalendarEvent" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="CalendarEvent" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="CalendarEvent" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CalendarEventType" EntityName="CalendarEvent" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="VacationUserName" EntityName="CalendarEvent" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="VacationUserID" EntityName="CalendarEvent" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="IsHalfDayVacation" EntityName="CalendarEvent" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="TaskList_Calendar" RootEntityName="Task" AdditionalPermissionsRequired="false" SelectDistinctRows="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="IsMilestone" EntityName="Task" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="EventList_Calendar" RootEntityName="Event">
      <Fields>
        <Field Name="EventID" EntityName="Event" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Name" EntityName="Event" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="Event" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="Event" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="EventDetail" RootEntityName="Event">
      <Fields>
        <Field Name="EventID" EntityName="Event" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Description" EntityName="Event" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Event" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="StartDate" EntityName="Event" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="EndDate" EntityName="Event" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="CreatorID" EntityName="Event" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Optional"/>
        </Field>
      </Fields>
    </View>

    <View Name="UserListForEventMembers" RootEntityName="User">
      <Fields>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="60"/>
        </Field>
        <Field Name="ActionsColumn" Expression="null" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" Width="10"/>
        </Field>
      </Fields>
    </View>

    <View Name="EventMembers" RootEntityName="EventAssignee">
      <NotNullFlagFields>
        <NotNullFlagField Name="EventAssigneeID" EntityName="EventAssignee" ForceSelect="true" DefaultVisibility="true" />
      </NotNullFlagFields>
      <Fields>
        <Field Name="EventAssigneeID" EntityName="EventAssignee" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="MilestoneCalendarList" RootEntityName="Task"  AdditionalPermissionsRequired="true" SelectDistinctRows="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Description" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CreationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="IsMilestone" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>

        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>

        <Field Name="ProjectStatusID" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="CommaSeparated;UserNames"
               EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
      </Fields>
    </View>
    <!--END of views used in Calendar-->

    <View Name="TasksDueListNL" RootEntityName="Task" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="25" OpensEntity="true"/>
        </Field>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
        </Field>
        <Field Name="CustomerID" EntityName="Customer" ForceSelect="true" DefaultVisibility="false"  IsCustomizable="true">
        </Field>
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor Width="15"/>
        </Field>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor Width="25" OpensEntity="true"/>
        </Field>
        <Field Name="Name" EntityName="TaskType" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor Width="8"/>
        </Field>
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="UserNames" EntityName="Task" ForceSelect="true" DefaultVisibility="false"  IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EstimatedHours" EntityName="ACTaskAggregatedValues" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="ACTaskAggregatedValues" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" >
          <Descriptor Width="8"/>
        </Field>
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActCompletionDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EstimatedHours" EntityName="ACProjectAggregatedValues" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="ACProjectAggregatedValues" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ACProjectAggregatedValues" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />

        <Field Name="DueOn" Expression="null" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="Optional" Width="10"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
    </View>

    <View Name="DelayedTasksList" RootEntityName="Task" AdditionalPermissionsRequired="true" IsCustomizable="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="25" OpensEntity="true"/>
        </Field>
        <Field Name="Name" EntityName="Customer" ForceSelect="false" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor Width="15"/>
        </Field>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="false" DefaultVisibility="false"  IsCustomizable="true">
        </Field>
        <Field Name="CustomerID" EntityName="Customer" ForceSelect="false" DefaultVisibility="false"  IsCustomizable="true">
        </Field>
        <Field Name="Name" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor Width="25" OpensEntity="true"/>
        </Field>
        <Field Name="Name" EntityName="TaskType" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor Width="8"/>
        </Field>
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="UserNames" EntityName="Task" ForceSelect="false" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="false" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor Width="7"/>
        </Field>

        <Field Name="StartDate" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <!-- EndDate force select required as this field is used for calculation value at asp page -->
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="ACTaskAggregatedValues" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" >
          <Descriptor Width="8"/>
        </Field>
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EndDate" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActCompletionDate" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EstimatedHours" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="ACProjectAggregatedValues" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ACProjectAggregatedValues" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />

        <Field Name="DelayedFor" Expression="null" EntityName="Task" ForceSelect="false" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="String" AccessType="Optional" Width="10"/>
        </Field>
      </Fields>
    </View>

    <View Name="OverbudgetTasksList" RootEntityName="Task" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor Width="25" OpensEntity="true"/>
        </Field>
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor Width="15"/>
        </Field>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" >
          <Descriptor Width="25" OpensEntity="true"/>
        </Field>
        <Field Name="Name" EntityName="TaskType" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" >
          <Descriptor Width="8"/>
        </Field>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false"  IsCustomizable="true">
        </Field>
        <Field Name="CustomerID" EntityName="Customer" ForceSelect="true" DefaultVisibility="false"  IsCustomizable="true">
        </Field>
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="UserNames" EntityName="Task" ForceSelect="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Alias="Task_EstimatedHours" Name="EstimatedHours" EntityName="ACTaskAggregatedValues" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true"  >
          <Descriptor Width="5"/>
        </Field>
        <Field Name="ActualHours" EntityName="ACTaskAggregatedValues" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" >
          <Descriptor Width="5"/>
        </Field>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
        </Field>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />

        <Field Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" >
          <Descriptor Width="8"/>
        </Field>
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActCompletionDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EstimatedHours" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="ACProjectAggregatedValues" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ACProjectAggregatedValues" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
    </View>

    <View Name="OpenRequestWidgetList" RootEntityName="Task" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="30" OpensEntity="true"/>
        </Field>
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="20"/>
        </Field>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor Width="30" OpensEntity="true"/>
        </Field>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
        </Field>
        <Field Name="CustomerID" EntityName="Customer" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
        </Field>
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="UserNames" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="12"/>
        </Field>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor Width="8"/>
        </Field>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" >
          <Descriptor Width="8"/>
        </Field>
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActCompletionDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EstimatedHours" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ProjectCost" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
    </View>

    <View Name="OpenIssueWidgetList" RootEntityName="Task" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="30" OpensEntity="true"/>
        </Field>
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="20"/>
        </Field>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor Width="30" OpensEntity="true"/>
        </Field>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
        </Field>
        <Field Name="CustomerID" EntityName="Customer" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
        </Field>
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="UserNames" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="12"/>
        </Field>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor Width="8"/>
        </Field>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" >
          <Descriptor Width="8"/>
        </Field>
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActCompletionDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="EstimatedHours" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ProjectCost" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
    </View>

    <View Name="HoursByProjects" RootEntityName="TimeEntry" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" DefaultVisibility="false" ForceSelect="true" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor DataType="String" Width="37" OpensEntity="true" />
        </Field>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="false"  IsCustomizable="true"/>

        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="TimeEntryID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EntryDate" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Duration" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="false"/>


      </Fields>
    </View>

    <View Name="WhatsNewProjectEvents" RootEntityName="Project" SelectDistinctRows="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>

        <Field Name="WorkflowEventID" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="EventDate" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="true"/>

        <Field Name="WorkflowEvent" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="WorkflowEventType" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="WhatsNewTaskEvents" RootEntityName="Task" SelectDistinctRows="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>

        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>

        <Field Name="WorkflowEventID" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>

        <Field Name="EventDate" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="true"/>

        <Field Name="Name" EntityName="TaskType"  ForceSelect="true" DefaultVisibility="false" />
        <Field Name="WorkflowEvent" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="WorkflowEventType" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="WhatsNewAttachments" RootEntityName="Message" SelectDistinctRows="false">
      <Fields>
        <Field Name="MessageID" EntityName="Message" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PostDate" EntityName="Message" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="AttachmentID" EntityName="Attachment" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="TaskType"  ForceSelect="true" DefaultVisibility="false" />
      </Fields>
      <Filters>
        <Filter Name="b_Attachment_AttachmentID_IsNotNull"/>
      </Filters>
    </View>

    <View Name="WhatsNewMessages" RootEntityName="Message">
      <Fields>
        <Field Name="MessageID" EntityName="Message" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PostDate" EntityName="Message" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="TaskType" ForceSelect="true" DefaultVisibility="false" />
      </Fields>
      <Filters>
        <Filter Name="MessagesWithTextOnly"/>
      </Filters>
    </View>

    <View Name="EstimatedVsActual" RootEntityName="Project" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" DefaultVisibility="false" ForceSelect="true" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor DataType="String" Width="37" OpensEntity="true" />
        </Field>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor DataType="Decimal" AccessType="ReadOnly" />
        </Field>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor DataType="Decimal" AccessType="ReadOnly" />
        </Field>
      </Fields>
    </View>

    <View Name="EarnedValueAnalysis" RootEntityName="Project" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" DefaultVisibility="false" ForceSelect="true" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor DataType="String" Width="37" OpensEntity="true" />
        </Field>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor DataType="Decimal" AccessType="ReadOnly" />
        </Field>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor DataType="Decimal" AccessType="ReadOnly" />
        </Field>
        <Field Name="Progress" EntityName="Project" DefaultVisibility="true" ForceSelect="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor Width="7"/>
        </Field>
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="ProjectHealthList" RootEntityName="Project" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" DefaultVisibility="true" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="Name" EntityName="Project" DefaultVisibility="true" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="Health" EntityName="ProjectEVA" DefaultVisibility="true" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
      </Fields>
    </View>

    <View Name="CopyTasks" RootEntityName="Task" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false"/>
        <Field Name="Description" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDateLag" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDateLag" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="DurationHours" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="IsMilestone" EntityName="Task" DefaultVisibility="false" IsCustomizable="false" ForceSelect="true">
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>
        <Field Name="CategoryID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="TaskStatusID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="PriorityID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="BillingType" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="BillingAmount" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task"/>
      </CustomFieldsIncludes>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="" Type="String" />
      </Filters>
    </View>

    <!-- Don't delete HierarchicalStoredProcedure="GetTaskDirectHeirs" attribute, it is not used now! it is just a marker! -->
    <View Name="DeleteTasks" RootEntityName="Task" SelectDistinctRows="false" HierarchicalStoredProcedure="GetTaskDirectHeirs" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="CopyProjects" RootEntityName="Project" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ActCompletionDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EstimatedHours" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectStatusID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="PriorityID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="BillingType" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="BillingAmount" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CustomerID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="CurrencyID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PortfolioID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="IsEndDateSelected" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
      </CustomFieldsIncludes>
    </View>

    <!-- report views -->
    <View Name="TimeEntryReports" RootEntityName="TimeEntry" SelectDistinctRows="false">
      <Fields>
        <Field Name="TimeEntryID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EntryDate" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Duration" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Description" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
        </Field>
        <Field Name="TaskID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
        </Field>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor OpensEntity="true" />
        </Field>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="TaskType" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CategoryID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="UserID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
        </Field>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor OpensEntity="true" />
        </Field>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true">
        </Field>
        <Field Name="CustomerID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CustomerID" EntityName="Customer" ForceSelect="true" DefaultVisibility="true">
          <Descriptor OpensEntity="true" />
        </Field>
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="DueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Task"
					   ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project"
					   ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="Highlighted" Expression="(case when (DATEDIFF(day, @now, Task.EndDate) &lt; 0 and TaskStatus.TreatAsCompleted = 0) then 'HighlightedObject' else '' end)" EntityName="Project"
          ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="ProjectHighlighted" Expression="(case when (DATEDIFF(day, @now, Project.EndDate) &lt; 0 and ProjectStatus.TreatAsCompleted = 0) then 'HighlightedObject' else '' end)" EntityName="Project"
          ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
      <CustomFieldsIncludes>
        <!-- note: before any changes first see CustomReportsServiceUtility.ApplyCustomReportCustomizationOnViewsConfigurationLoad -->
        <!--<CustomFieldsInclude EntityName="User"/>
        <CustomFieldsInclude EntityName="Project"/>-->
      </CustomFieldsIncludes>
    </View>

    <View Name="DispatcherReport" RootEntityName="DispatcherReportEntity" StoredProcedureName="GetDispatchForPeriodOfDays">
      <Fields>
        <Field Name="DateEntry" Alias="DateEntry" EntityName="DispatcherReportEntity"  ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Date" />
        </Field>
      </Fields>
      <StoredProcedureParameters>
        <Parameter>@accountId</Parameter>
        <Parameter>@dateFrom</Parameter>
        <Parameter>@dateTo</Parameter>
        <Parameter>@RoleID</Parameter>
        <Parameter>@IncludeWeekends</Parameter>
        <Parameter>@UserIDCurrent</Parameter>
        <Parameter>@ShowDrafts</Parameter>
      </StoredProcedureParameters>
    </View>

    <View Name="VacationsReport" RootEntityName="VacationsReportEntity" StoredProcedureName="GetVacationDays">
      <Fields>
        <Field Name="DateEntry" EntityName="VacationsReportEntity"  ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Date" />
        </Field>
      </Fields>
      <StoredProcedureParameters>
        <Parameter>@dateFrom</Parameter>
        <Parameter>@dateTo</Parameter>
        <Parameter>@UserID</Parameter>
        <Parameter>@TeamID</Parameter>
        <Parameter>@IncludeWeekends</Parameter>
        <Parameter>@UserIDCurrent</Parameter>
        <Parameter>@accountId</Parameter>
      </StoredProcedureParameters>
    </View>

    <View Name="DispatcherVacationsReport" RootEntityName="DispatcherVacationsReportEntity" StoredProcedureName="GetDispatcherVacationDays">
      <Fields>
        <Field Name="DateEntry" EntityName="DispatcherVacationsReportEntity"  ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Date" />
        </Field>
      </Fields>
      <StoredProcedureParameters>
        <Parameter>@accountId</Parameter>
        <Parameter>@dateFrom</Parameter>
        <Parameter>@dateTo</Parameter>
        <Parameter>@RoleID</Parameter>
        <Parameter>@IncludeWeekends</Parameter>
        <Parameter>@UserIDCurrent</Parameter>
      </StoredProcedureParameters>
    </View>

    <View Name="TaskChilds" RootEntityName="Task" TableFunctionName="GetAllTasksHierarchy" AdditionalPermissionsRequired="false">
      <TableFunctionParameters>
        <Parameter>@RootID</Parameter>
        <Parameter>@ParentID</Parameter>
        <Parameter>@IncludeChilds</Parameter>
        <Parameter>@AccountId</Parameter>
      </TableFunctionParameters>
    </View>

    <View Name="BillingReport" RootEntityName="Project" TableFunctionName="GetBillingReportData" AdditionalPermissionsRequired="false">
      <TableFunctionParameters>
        <Parameter>@AccountID</Parameter>
        <Parameter>@ProjectID</Parameter>
        <Parameter>@CurrentUserID</Parameter>
        <Parameter>@CustomerID</Parameter>
        <Parameter>@CalculateTax</Parameter>
        <Parameter>@TaxValue</Parameter>
        <Parameter>@dateFrom</Parameter>
        <Parameter>@dateTo</Parameter>
        <Parameter>@Billed</Parameter>
        <Parameter>@Approved</Parameter>
      </TableFunctionParameters>
      <Fields>
        <Field Name="EntryDate" EntityName="TimeEntry" ForceSelect="true">
          <Descriptor DataType="Date" />
        </Field>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" >
          <Descriptor OpensEntity="true" />
        </Field>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" >
          <Descriptor OpensEntity="true" />
        </Field>
        <Field Name="CustomerID" EntityName="Customer" ForceSelect="true" >
          <Descriptor OpensEntity="true" />
        </Field>
      </Fields>
    </View>

    <!-- WeeklyTimeLog views -->
    <View Name="TimeLogWeeklyViewData" RootEntityName="TimeLogWeeklyViewEntity" StoredProcedureName="GetTimeLogWeeklyViewData">
      <StoredProcedureParameters>
        <Parameter>@dateFrom</Parameter>
        <Parameter>@ForUserID</Parameter>
        <Parameter>@CurrentUserID</Parameter>
        <Parameter>@AccountId</Parameter>
      </StoredProcedureParameters>
      <Fields>
        <Field Name="TaskID" EntityName="TimeLogWeeklyViewEntity" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="15" AccessType="Mandatory"/>
        </Field>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor OpensEntity="true"/>
        </Field>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>

        <Field Name = "HoursOnDay0" EntityName="TimeLogWeeklyViewEntity" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional" Width="5" FormatString="{0:g}"/>
        </Field>
        <Field Name = "HoursOnDay1" EntityName="TimeLogWeeklyViewEntity" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional" Width="5"/>
        </Field>
        <Field Name = "HoursOnDay2" EntityName="TimeLogWeeklyViewEntity" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional" Width="5"/>
        </Field>
        <Field Name = "HoursOnDay3" EntityName="TimeLogWeeklyViewEntity" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional" Width="5"/>
        </Field>
        <Field Name = "HoursOnDay4" EntityName="TimeLogWeeklyViewEntity" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional" Width="5"/>
        </Field>
        <Field Name = "HoursOnDay5" EntityName="TimeLogWeeklyViewEntity" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional" Width="5"/>
        </Field>
        <Field Name = "HoursOnDay6" EntityName="TimeLogWeeklyViewEntity" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional" Width="5"/>
        </Field>
        <Field Name = "HoursTotal" EntityName="TimeLogWeeklyViewEntity" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" Width="5"/>
        </Field>
      </Fields>
    </View>

    <!-- HomePage views -->
    <View Name="HomePageTaskList" RootEntityName="Task" AdditionalPermissionsRequired="true"  SelectDistinctRows="false" EnableAPI="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor Width="36" OpensEntity="true"/>
        </Field>
        <Field Name="Description" EntityName="Task" Expression="NULL" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor Width="36" OpensEntity="true"/>
        </Field>
        <Field Name="CustomerID" EntityName="Project" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" />

        <Field Name="TodayHours" Expression="(SELECT sum(ISNULL(Duration, 0)) FROM TT_TimeEntries AS te WHERE te.TaskID = {0}.TaskID AND te.UserID = @CurrentUserID AND te.AccountId = {0}.AccountId AND DATEADD(D, 0, DATEDIFF(D, 0, te.EntryDate)) = DATEADD(D, 0, DATEDIFF(D, 0, @now)))" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>

        <Field Name="UserActualHours" Expression="(SELECT sum(ISNULL(Duration, 0)) FROM TT_TimeEntries WHERE TaskID = {0}.TaskID AND UserID = @CurrentUserID AND AccountId = {0}.AccountId)"
          EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>

        <Field Name="LatestMessage" Expression="(SELECT TOP 1 MessageText FROM TT_Messages AS m WHERE m.TaskID = {0}.TaskID AND m.AccountId = {0}.AccountId and HasMessageText = 1 ORDER BY PostDate Desc)" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="MultilineText"/>
        </Field>

        <Field Name="LatestMessagePostDate" Expression="(SELECT TOP 1 PostDate FROM TT_Messages AS m WHERE m.TaskID = {0}.TaskID AND m.AccountId = {0}.AccountId and HasMessageText = 1 ORDER BY PostDate Desc)" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Date"/>
        </Field>

        <Field Name="LatestMessageUserName" Expression="(SELECT TOP 1 us.Name FROM TT_Messages AS m LEFT JOIN TT_Users AS us ON m.UserID = us.UserID AND m.AccountId = us.AccountId WHERE m.TaskID = {0}.TaskID AND m.AccountId = {0}.AccountId and HasMessageText = 1 ORDER BY PostDate Desc)" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>

        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor Width="1"/>
        </Field>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="TaskType" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor Width="5"/>
        </Field>
        <Field Name="TaskStatusID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor Width="7"/>
        </Field>

        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor Width="11"/>
        </Field>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor Width="11"/>
        </Field>
        <Field Name="PriorityOrder" EntityName="TaskPriority" DefaultVisibility="true"  ForceSelect="true">
          <Descriptor Width="5" AccessType="ReadOnly"/>
        </Field>
        <Field Name="PriorityID" EntityName="TaskPriority" DefaultVisibility="true">
          <Descriptor Width="5" AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor Width="5" AccessType="Mandatory"/>
        </Field>
        <Field Name="PriorityID" EntityName="Task" DefaultVisibility="true">
          <Descriptor Width="5" AccessType="Mandatory"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="TreatAsHold" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true" >
          <Descriptor AccessType="Mandatory"/>
        </Field>

        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>

        <Field Name="Approved" EntityName="Task" DefaultVisibility="true"  ForceSelect="true" >
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>
        <Field Name="MasterTasks" EntityName="Task" Cache="TaskMasterTasksInfo" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>

        <Field Name="ParentTaskHasOneMoreParent" Expression="(SELECT ParentID FROM TT_Tasks WHERE TaskID = {0}.ParentID AND AccountId = {0}.AccountId)" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>

        <Field Name="ParentTaskName" Alias="ParentTaskName" ExpressionKey="Task_ParentTaskName" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>

        <Field Name="AttachmentsCount" Cache="TaskAttachmentsCount" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory" DataType="Integer"/>
        </Field>
        <Field Name="MessagesCount" EntityName="Task" ForceSelect="true" DefaultVisibility="false" Cache="TaskMessagesCount">
          <Descriptor AccessType="Mandatory" DataType="Integer"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false" />

      </Fields>
    </View>

    <View Name="MessageBoardMessage" RootEntityName="Message" AdditionalPermissionsRequired="true" SelectDistinctRows="true">
      <Fields>
        <Field Alias="MessageID" Name="MessageID" EntityName="Message" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="PostDate" Name="PostDate" EntityName="Message" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="MessageText" Name="MessageText" EntityName="Message" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="UserID" Name="UserID" EntityName="Message" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="UserName" Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="EditedAt" Name="EditedAt" EntityName="Message" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="EditedByName" Name="EditedByName" EntityName="Message" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="UserAvatarHash" Name="AvatarHash" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Message" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="TaskID" Name="TaskID" EntityName="Message" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="MessageBoardWorkflowEvent" RootEntityName="WorkflowEvent" AdditionalPermissionsRequired="true" SelectDistinctRows="true">
      <Fields>
        <Field Alias="WorkflowEvent_WorkflowEventID" Name="WorkflowEventID" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="PostDate" Name="EventDate" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="CreatedAt" Name="CreatedAt" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="TaskID" Name="TaskID" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="UserID" Name="UserID" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="UserName" Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="UserAvatarHash" Name="AvatarHash" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="WorkflowEventType" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="WorkflowEvent" EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="CanViewMembersAndAssignees" Expression="[dbo].[ep_GetCanViewMembersAndAssignees]({0}.ProjectID, {0}.TaskID, @CurrentUserID, @AccountID)"
               EntityName="WorkflowEvent" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Bool"/>
        </Field>
      </Fields>
    </View>

    <View Name="ActivityGanttData" RootEntityName="Task" AdditionalPermissionsRequired="false" SelectPermissions="false" SelectDistinctRows="false" EnableAPI="false">
      <Fields>
        <Field Alias="TaskID" Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="IsCriticalPath" Name="IsCriticalPath" EntityName="TaskCriticalPath" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Progress" Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="DependentTasks" EntityName="Task" Cache="TaskDependentTasksInfo" CacheOptions="DependentIds" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" DataType="Object"/>
        </Field>
        <Field Name="MasterTasks" EntityName="Task" Cache="TaskMasterTasksInfo" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Alias="HasChild" Name="HasChild" EntityName="Task" ForceSelect="true" DefaultVisibility="true" AccessType="Mandatory" >
          <Descriptor AccessType="Mandatory" DataType="Bool"/>
        </Field>
        <Field Alias="StartDateForGantt" Name="StartDateForGantt" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="EndDateForGantt" Name="EndDateForGantt" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="LagForGantt" Name="LagForGantt" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="StartDateLag" Name="StartDateLag" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="EndDateLag" Name="EndDateLag" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="ActivityView" RootEntityName="Task" AdditionalPermissionsRequired="true" SelectDistinctRows="true" NullableOptionalFields="true">
      <Fields>
        <Field Alias="TaskID" Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Alias="CreatorId" Name="CreatorID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Alias="ParentID" Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="ProjectName" Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Alias="PortfolioID" Name="PortfolioID" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Alias="LastModificationDate" Name="LastModificationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" />
        <Field Alias="TaskTypeID" Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="WBSNumber" Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Category" Name="Name" EntityName="Category" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="IsCriticalPath" Name="IsCriticalPath" EntityName="TaskCriticalPath" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="Name" Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="Progress" Name="Progress" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="HoursLeft" Name="HoursLeft" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="IsMilestone" Name="IsMilestone" EntityName="Task" ForceSelect="true" />
        <Field Alias="TaskType" Name="Name" EntityName="TaskType" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="Status" Name="Name" EntityName="TaskStatus" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="TreatAsCompleted" Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Alias="Priority" Name="Name" EntityName="TaskPriority" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="StartDate" Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="EndDate" Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="ActualCompletionDate" Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Alias="Duration" Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="DurationHours" Name="DurationHours" EntityName="Task" RequiredIfAny="Duration" DefaultVisibility="false" IsCustomizable="false" />
        <Field Alias="IsEndDateSelected" Name="IsEndDateSelected" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false" />
        <Field Alias="HasDescription" Name="HasDescription" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false" />
        <Field Alias="EstimatedHours" Name="EstimatedHours" EntityName="ACTaskAggregatedValues" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="ActualHours" Name="ActualHours" EntityName="ACTaskAggregatedValues" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="OwnCost" Name="OwnCost" EntityName="ACTaskAggregatedValues" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="Cost" Name="Cost" EntityName="ACTaskAggregatedValues" DefaultVisibility="false" IsCustomizable="true"/>
        <!-- used on activity center for editing budget -->
        <Field Alias="OwnBudget" Name="Budget" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="Budget" Name="Budget" EntityName="ACTaskAggregatedValues" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="Health" Name="Health" EntityName="TaskEVA" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="CostVariance" Name="CostVariance" EntityName="ACTaskAggregatedValues" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="InternalCost" Name="InternalCost" EntityName="ACTaskAggregatedValues" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="Profit" Name="Profit" EntityName="ACTaskAggregatedValues" DefaultVisibility="false" IsCustomizable="true"/>
        <!-- used to make red or green border for profit block, defaultvisibility is true because we haven't direct customization for this column on ac-->
        <Field Alias="ProfitHealth" Name="ProfitHealth" EntityName="ACTaskAggregatedValues" DefaultVisibility="true" IsCustomizable="true" />
        <!-- TODO : get rid of this field, we can get fields count from MasterTasksIds-->
        <!-- used to decide how to show master tasks and should be selected when dependencies are enabled in customization-->
        <Field Name="MasterTaskCount" EntityName="Task" Cache="TaskMasterTasksCount" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" Width="1" DataType="Integer"/>
        </Field>
        <Field Name="MasterTasksIds" EntityName="Task" Cache="TaskMasterTasksIDs" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly"  DataType="String"/>
        </Field>
        <!-- used for CSV export  -->
        <Field Name="MasterTasks" EntityName="Task" Cache="TaskMasterTasksInfo" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="DependentTasks" EntityName="Task" Cache="TaskDependentTasksInfo" CacheOptions="DependentIds" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="Object"/>
        </Field>
        <!-- forceselect because this value used to apply corresponding color for end date, but there is no direct customization for this field and it should be slected whenever end date is selected-->
        <Field Alias="Timeliness" Name="Timeliness" EntityName="Task"
                        Cache="Timeliness"
                        ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="Attachments" Cache="TaskAttachmentsCount" EntityName="Task" ForceSelect="false" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory" DataType="Integer"/>
        </Field>
        <Field Name="Messages" EntityName="Task" ForceSelect="false" DefaultVisibility="false" Cache="TaskMessagesCount">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="Assignees" Cache="TaskAssignees" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Approved" EntityName="Task" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="TaskStatusID" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="CategoryID" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="PriorityID" EntityName="Task" DefaultVisibility="false" IsCustomizable="true" />
        <!-- forceselect for permissions calculation, see CanAssignPermissionContext.Create(ActivityView activityView) -->
        <Field Name="IsCurrentUserAssignee" Cache="TaskIsCurrentUserAssignee"
					     EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <!-- forceselect because we need it for all money fields() and hasn't this field directly in customization  on ac-->
        <Field Name="Currency" Cache="TaskProjectCurrency" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="Mandatory" DataType="String"/>
        </Field>
        <Field Alias="ProjectStatusID" Name="ProjectStatusID" EntityName="Project" ForceSelect="true"/>
        <Field Name="IamDone" Expression="(SELECT WorkIsDone FROM TT_TaskAssignees WHERE AccountId = {0}.AccountID AND TaskId = {0}.TaskID and UserId = @CurrentUserID )" EntityName="Task" ForceSelect="false" DefaultVisibility="false">
          <Descriptor AccessType="Optional" DataType="Bool"/>
        </Field>
        <Field Name="TimeVisit" RequiredIfAny="Messages, Attachments" Expression="(SELECT TimeVisit FROM TT_MessageBoardOptions WHERE AccountId = {0}.AccountID AND TaskID = {0}.TaskID AND UserId = @CurrentUserID)" EntityName="Task" DefaultVisibility="false" ForceSelect="false" IsCustomizable="true">
          <Descriptor AccessType="Optional" DataType="Date"/>
        </Field>
        <Field Name="HasNewMessages" RequiredIfAny="Messages" Cache="TaskHasNewMessages" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"  AccessType="Mandatory">
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>
        <Field Name="HasNewAttachments" RequiredIfAny="Attachments" Cache="TaskHasNewAttachments" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"  AccessType="Mandatory">
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>
        <Field Alias="HasChild" Name="HasChild" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" AccessType="Mandatory">
          <Descriptor DataType="Bool" AccessType="Mandatory" />
        </Field>
        <Field Name="HasGanttData" EntityName="Task" Expression="(CAST(1 AS BIT))" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" AccessType="Readonly">
          <Descriptor AccessType="Optional" DataType="Bool"/>
        </Field>
        <Field Alias="StartDateForGantt" Name="StartDateForGantt" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="EndDateForGantt" Name="EndDateForGantt" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="CPI" Alias="CPI" EntityName="TaskEVA" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" AccessType="Readonly">
          <Descriptor AccessType="Optional" DataType="Decimal"/>
        </Field>
        <Field Name="SPI" Alias="SPI" EntityName="TaskEVA" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" AccessType="Readonly">
          <Descriptor AccessType="Optional" DataType="Decimal"/>
        </Field>
        <Field Alias="LagForGantt" Name="LagForGantt" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="StartDateLag" Name="StartDateLag" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="EndDateLag" Name="EndDateLag" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="ProjectAggregatedValuesExtanded" RootEntityName="Project" IsCustomizable="true">
      <Fields>
        <Field Alias="ProjectID" Name="ProjectID" ForceSelect="true" EntityName="Project" AccessType="ReadOnly" />

        <Field Alias="EstimatedHours" Name="EstimatedHours" ForceSelect="true" EntityName="Project" AccessType="ReadOnly" />
        <Field Alias="EstimatedChildsHours" Name="ChildsEstimatedHours"  ForceSelect="true" EntityName="ProjectAggregatedValues" AccessType="ReadOnly" />
        <Field Alias="EstimatedTotalHours" Name="EstimatedHours" ForceSelect="true" EntityName="ProjectAggregatedValues" AccessType="ReadOnly" />

        <Field Alias="ActualHours" Name="ActualHours" ForceSelect="true" EntityName="ProjectAggregatedValues"  AccessType="ReadOnly"/>
        <Field Alias="ActualChildsHours" Name="ActualHours" ForceSelect="true" EntityName="ProjectAggregatedValues" AccessType="ReadOnly" />
        <Field Alias="ActualTotalHours" Name="ActualHours" ForceSelect="true" EntityName="ProjectAggregatedValues" AccessType="ReadOnly" />

        <Field Alias="Budget" Name="Budget" ForceSelect="true" EntityName="ProjectAggregatedValues" AccessType="ReadOnly" />
        <Field Alias="ChildsBudget" Name="ChildsBudget"  ForceSelect="true" EntityName="ProjectAggregatedValues" AccessType="ReadOnly" />

        <Field Name="HasChildren" Expression="(CASE WHEN EXISTS (SELECT TOP 1 t.TaskID FROM TT_Tasks t WHERE t.ProjectID = {0}.ProjectID AND t.AccountId = {0}.AccountId) THEN 1 ELSE 0 END)" EntityName="Project" ForceSelect="true" DefaultVisibility="false" >
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>
      </Fields>
    </View>

    <View Name="TaskAggregatedValuesExtanded" RootEntityName="Task" IsCustomizable="true">
      <Fields>
        <Field Alias="TaskID" Name="TaskID" EntityName="Task" ForceSelect="true" AccessType="ReadOnly" />

        <Field Alias="EstimatedHours" Name="EstimatedHours" EntityName="Task" ForceSelect="true" AccessType="ReadOnly" />
        <Field Alias="EstimatedChildsHours" Name="ChildsEstimatedHours"  ForceSelect="true" EntityName="TaskAggregatedValuesSingle" AccessType="ReadOnly" />
        <Field Alias="EstimatedTotalHours" Name="EstimatedHours" ForceSelect="true" EntityName="TaskAggregatedValuesSingle" AccessType="ReadOnly" />

        <Field Alias="ActualHours" Name="ActualHours" ForceSelect="true" Expression="(CASE WHEN {0}.ActualHours IS NULL THEN NULL ELSE {0}.ActualHours - ISNULL({0}.ChildsActualHours, 0) END)" EntityName="TaskAggregatedValuesSingle"  AccessType="ReadOnly">
          <Descriptor DataType="Decimal" AccessType="ReadOnly"/>
        </Field>
        <Field Alias="ActualChildsHours" Name="ChildsActualHours" ForceSelect="true" EntityName="TaskAggregatedValuesSingle" AccessType="ReadOnly" />
        <Field Alias="ActualTotalHours" Name="ActualHours" ForceSelect="true" EntityName="TaskAggregatedValuesSingle" AccessType="ReadOnly" />

        <Field Alias="Budget" Name="Budget" ForceSelect="true" EntityName="TaskAggregatedValuesSingle" AccessType="ReadOnly" />
        <Field Alias="ChildsBudget" Name="ChildsBudget"  ForceSelect="true" EntityName="TaskAggregatedValuesSingle" AccessType="ReadOnly" />
        <Field Alias="InternalCost" Name="InternalCost"  ForceSelect="true" EntityName="TaskAggregatedValuesSingle" AccessType="ReadOnly" />

        <Field Name="HasChildren" Expression="(CASE WHEN EXISTS (SELECT TOP 1 t.TaskID FROM TT_Tasks t WHERE t.ParentID = {0}.TaskID AND t.AccountId = {0}.AccountId) THEN 1 ELSE 0 END)" EntityName="Task" ForceSelect="true" DefaultVisibility="false" >
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>
      </Fields>
    </View>

    <View Name="ProjectGanttData" RootEntityName="Project" AdditionalPermissionsRequired="false" SelectPermissions="false" SelectDistinctRows="false" EnableAPI="false">
      <Fields>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Project" DefaultVisibility="true" ForceSelect="true" />
        <Field Alias="Progress" Name="Progress" EntityName="Project" DefaultVisibility="true" ForceSelect="true" />
        <Field Alias="HasChild" Name="HasChild" Expression="(CASE WHEN EXISTS (SELECT TOP 1 t.TaskID FROM TT_Tasks t WHERE t.ProjectID = {0}.ProjectID AND t.AccountId = {0}.AccountId) THEN 1 ELSE 0 END)" EntityName="Project" ForceSelect="true" DefaultVisibility="true" AccessType="Mandatory" >
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>
        <Field Alias="StartDateLag" Name="StartDateLag" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="EndDateLag" Name="EndDateLag" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="ProjectView" RootEntityName="Project" IsCustomizable="true" NullableOptionalFields="true">
      <Fields>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Project" DefaultVisibility="false" ForceSelect="true" IsCustomizable="true" />
        <Field Alias="IsExpanded" Name="IsExpanded" EntityName="ProjectExpand" DefaultVisibility="false" IsCustomizable="false" ForceSelect="true" />
        <Field Alias="LastModificationDate" Name="LastModificationDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" />
        <Field Alias="Name" Name="Name" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="Customer" Name="Name" EntityName="Customer" DefaultVisibility="false" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Portfolio" Name="Name" EntityName="Portfolio" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="Priority" Name="Name" EntityName="Priority" DefaultVisibility="false" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Progress" Name="Progress" EntityName="Project" DefaultVisibility="false" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="StartDate" Name="StartDate" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="EndDate" Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="Duration" Name="Duration" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="DurationHours" Name="DurationHours" EntityName="Project" RequiredIfAny="Duration" DefaultVisibility="false" IsCustomizable="false" />
        <Field Alias="ActualCompletionDate" Name="ActCompletionDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Alias="HasDescription" Name="HasDescription" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false" />
        <Field Alias="EstimatedHours" Name="EstimatedHours" EntityName="ACProjectAggregatedValues" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="Status" Name="Name" EntityName="ProjectStatus" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="TreatAsCompleted" Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="ActualHours" Name="ActualHours" EntityName="ACProjectAggregatedValues" DefaultVisibility="false" IsCustomizable="true"  />
        <!-- This 3 fields need to get together -->
        <Field Alias="ProjectProfit" Name="Profit" EntityName="ACProjectAggregatedValues" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="ProjectProfitability" Name="Profitability" EntityName="ACProjectAggregatedValues" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="ProjectProfitHealth" Name="ProfitHealth" EntityName="ACProjectAggregatedValues" DefaultVisibility="false" IsCustomizable="true" />
        <!-- This 3 fields need to get together -->
        <Field Alias="Cost" Name="Cost" EntityName="ACProjectAggregatedValues" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="InternalCost" Name="InternalCost" EntityName="ACProjectAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="CostVariance" Name="CostVariance" EntityName="ACProjectAggregatedValues" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="Currency" Name="CurrencySymbol" EntityName="ProjectCurrency" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="Attachments" Cache="ProjectAttachmentsCount" EntityName="Project" ForceSelect="false" IsCustomizable="true">
          <Descriptor AccessType="Mandatory" DataType="Integer"/>
        </Field>
        <Field Name="Messages" Cache="ProjectMessagesCount" EntityName="Project" ForceSelect="false" IsCustomizable="true">
          <Descriptor AccessType="Mandatory" DataType="Integer"/>
        </Field>
        <Field Alias="Timeliness" Name="Timeliness" EntityName="Project"
                Expression="dbo.ep_GetEntityTimelinessID({0}.AccountId, @CurrentUserID, {0}.EndDate, [ProjectStatus].[TreatAsCompleted])"
                ForceSelect="true"
                IncludeInCustomFilters="false" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
        <!-- Budget with forceselect because this value is used during editing project budget but there is no customization for this field on activity center -->
        <Field Alias="Budget" Name="Budget" EntityName="ACProjectAggregatedValues" DefaultVisibility="false" IsCustomizable="true" ForceSelect="true" />
        <Field Alias="BudgetedCost" Name="BudgetedCost" EntityName="ACProjectAggregatedValues" DefaultVisibility="false" IsCustomizable="true" ForceSelect="false" />
        <!-- PlannedExpenses with forceselect because this value is used during editing project budget but there is no customization for this field on activity center -->
        <Field Alias="PlannedExpenses" Name="PlannedExpenses" EntityName="ACProjectAggregatedValues" DefaultVisibility="false" IsCustomizable="true" ForceSelect="true" />
        <!-- OwnBudget with forceselect because this value is used during editing project budget but there is no customization for this field on activity center -->
        <Field Alias="OwnBudget" Name="Budget" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="Health" Name="Health" EntityName="ProjectEVA" DefaultVisibility="false" IsCustomizable="true" />
        <Field Name="ProjectMembers" Expression="dbo.ep_GetVisibleProjectMembersId({0}.ProjectID, @CurrentUserID, {0}.AccountId, 1)" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly"/>
        </Field>
        <!-- PorfolioID with forceselect because this value is used during editing customer and portfolio but there is no customization for this field on activity center (only for portfolioname)-->
        <Field Alias="PortfolioID" Name="PortfolioID" EntityName="Project" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <!-- CustomerID with forceselect because this value is used during editing customer and portfolio but there is no customization for this field on activity center (only for custoemrname)-->
        <Field Alias="CustomerID" Name="CustomerID" EntityName="Project" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="EstimatedBudgetProfitability" Name="EstimatedBudgetProfitability" EntityName="ProjectFinancials" DefaultVisibility="false" IsCustomizable="true" ForceSelect="false" />
        <Field Alias="ActualBudgetProfitability" Name="ActualBudgetProfitability" EntityName="ProjectFinancials" DefaultVisibility="false" IsCustomizable="true" ForceSelect="false" />
        <Field Name="HasNewMessages" RequiredIfAny="Messages" Cache="ProjectHasNewMessages"  EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"  AccessType="Mandatory">
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>
        <Field Name="HasNewAttachments" RequiredIfAny="Attachments" Cache="ProjectHasNewAttachments" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"  AccessType="Mandatory">
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>
        <Field Name="TimeVisit" RequiredIfAny="Messages, Attachments" Expression="(SELECT TimeVisit FROM TT_MessageBoardOptions WHERE AccountId = {0}.AccountID AND [ProjectID] = {0}.[ProjectID] AND UserId = @CurrentUserID)" EntityName="Project" DefaultVisibility="false" ForceSelect="false" IsCustomizable="true">
          <Descriptor AccessType="Optional" DataType="Date"/>
        </Field>
        <Field Alias="HasChild" Name="HasChild" Expression="(CASE WHEN EXISTS (SELECT TOP 1 t.TaskID FROM TT_Tasks t WHERE t.ProjectID = {0}.ProjectID AND t.AccountId = {0}.AccountId) THEN 1 ELSE 0 END)" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" AccessType="Mandatory">
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>
        <Field Name="HasGanttData" EntityName="Project" Expression="(CAST(1 AS BIT))" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" AccessType="Readonly">
          <Descriptor AccessType="Optional" DataType="Bool"/>
        </Field>
        <Field Name="CPI" Alias="CPI" EntityName="ProjectEVA" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" AccessType="Readonly">
          <Descriptor AccessType="Optional" DataType="Decimal"/>
        </Field>
        <Field Name="SPI" Alias="SPI" EntityName="ProjectEVA" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" AccessType="Readonly">
          <Descriptor AccessType="Optional" DataType="Decimal"/>
        </Field>
        <Field Alias="StartDateLag" Name="StartDateLag" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="EndDateLag" Name="EndDateLag" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="ProjectFinancialsView" RootEntityName="Project" IsCustomizable="true">
      <Fields>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Project" DefaultVisibility="false" ForceSelect="true" IsCustomizable="true" />
        <Field Alias="Name" Name="Name" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="Progress" Name="Progress" EntityName="Project" DefaultVisibility="false" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="StartDate" Name="StartDate" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="EndDate" Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <Field Alias="ActualCompletionDate" Name="ActCompletionDate" EntityName="Project" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Alias="EstimatedHours" Name="EstimatedHours" EntityName="ACProjectAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Alias="ActualHours" Name="ActualHours" EntityName="ACProjectAggregatedValues" DefaultVisibility="true" IsCustomizable="true"  />
        <Field Alias="ProjectProfit" Name="ProjectProfit" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="ProjectProfitability" Name="ProjectProfitability" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="ProjectProfitHealth" Name="ProjectProfitHealth" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="Cost" Name="Cost" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="InternalCost" Name="InternalCost" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="ProjectCostVariance" Name="ProjectCostVariance" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="BudgetedCost" Name="BudgetedCost" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="PlannedExpenses" Name="PlannedExpenses" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="TotalPayments" Name="TotalPayments" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="ProjectExpectedRevenue" Name="ProjectExpectedRevenue" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="InternalEstimatedCost" Name="InternalEstimatedCost" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="PercentageOfProjectBilled" Name="PercentageOfProjectBilled" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="WorkInProgress" Name="WorkInProgress" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="TotalBilled" Name="TotalBilled" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="Currency" Name="CurrencySymbol" EntityName="ProjectCurrency" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="ProjectTimeUsage" Name="ProjectTimeUsage" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="BillingUtilization" Name="BillingUtilization" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="EstimatedBudgetProfitability" Name="EstimatedBudgetProfitability" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
        <Field Alias="ActualBudgetProfitability" Name="ActualBudgetProfitability" EntityName="ProjectFinancials" DefaultVisibility="true" IsCustomizable="true" />
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
      </CustomFieldsIncludes>
    </View>

    <!--HierarchicalStoredProcedure="ActivityCenter|GetTaskDirectHeirs"-->
    <View Name="ActivityHierarchyItem" RootEntityName="Task" HierarchicalStoredProcedure="ActivityCenter" AdditionalPermissionsRequired="false" SelectDistinctRows="true">
      <Fields>
        <Field Alias="TaskID" Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Alias="Name" Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor Width="36" OpensEntity="true"/>
        </Field>
        <Field Alias="TaskTypeID" Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Alias="ParentID" Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="LastModificationDate" Name="LastModificationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false" />
        <Field Alias="IsExpanded" Name="IsExpanded" EntityName="TaskExpand" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true" />
        <!--<Field Alias="WBSNumber" Name="WBSNumber" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true" />-->
        <!--<Field Name="HasChild" EntityName="Task" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />-->
      </Fields>
    </View>

    <View Name="ProjectHierarchyItem" RootEntityName="Project" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Project" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="IsExpanded" Name="IsExpanded" EntityName="ProjectExpand" IsCustomizable="false" ForceSelect="true" />
        <Field Alias="Name" Name="Name" EntityName="Project" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="LastModificationDate" Name="LastModificationDate" EntityName="Project" ForceSelect="true"/>
      </Fields>
    </View>

    <View Name="HomePageProjectMembers" RootEntityName="ProjectMember" SelectDistinctRows="false">
      <Fields>
        <Field Name="ProjectMemberID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="70"/>
        </Field>
      </Fields>
    </View>

    <View Name="HomePageTaskAssignees" RootEntityName="TaskAssignee">
      <Fields>
        <Field Name="TaskID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TaskAssigneeID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="UserID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectMemberID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="70"/>
        </Field>
      </Fields>
    </View>

    <View Name="HoursForToday" RootEntityName="Task">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="TodayHours" Expression="(SELECT sum(isNull(Duration, 0)) FROM TT_TimeEntries AS te WHERE te.TaskID = {0}.TaskID AND te.UserID = @User AND te.AccountId = {0}.AccountId AND DATEADD(D, 0, DATEDIFF(D, 0, te.EntryDate)) = DATEADD(D, 0, DATEDIFF(D, 0, @now)))" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>
      </Fields>
    </View>

    <View Name="HoursForWeek" RootEntityName="Task">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="HoursForDay0" Expression="(SELECT isNull(sum(isNull(Duration, 0)), 0) FROM TT_TimeEntries AS te WHERE te.AccountId = {0}.AccountId AND te.TaskID = {0}.TaskID AND te.UserID = @User AND DATEADD(D, 0, DATEDIFF(D, 0, te.EntryDate)) = DATEADD(D, 0, @dateFrom))" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>
        <Field Name="HoursForDay1" Expression="(SELECT isNull(sum(isNull(Duration, 0)), 0) FROM TT_TimeEntries AS te WHERE te.AccountId = {0}.AccountId AND te.TaskID = {0}.TaskID AND te.UserID = @User AND DATEADD(D, 0, DATEDIFF(D, 0, te.EntryDate)) = DATEADD(D, 1, @dateFrom))" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>
        <Field Name="HoursForDay2" Expression="(SELECT isNull(sum(isNull(Duration, 0)), 0) FROM TT_TimeEntries AS te WHERE te.AccountId = {0}.AccountId AND te.TaskID = {0}.TaskID AND te.UserID = @User AND DATEADD(D, 0, DATEDIFF(D, 0, te.EntryDate)) = DATEADD(D, 2, @dateFrom))" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>
        <Field Name="HoursForDay3" Expression="(SELECT isNull(sum(isNull(Duration, 0)), 0) FROM TT_TimeEntries AS te WHERE te.AccountId = {0}.AccountId AND te.TaskID = {0}.TaskID AND te.UserID = @User AND DATEADD(D, 0, DATEDIFF(D, 0, te.EntryDate)) = DATEADD(D, 3, @dateFrom))" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>
        <Field Name="HoursForDay4" Expression="(SELECT isNull(sum(isNull(Duration, 0)), 0) FROM TT_TimeEntries AS te WHERE te.AccountId = {0}.AccountId AND te.TaskID = {0}.TaskID AND te.UserID = @User AND DATEADD(D, 0, DATEDIFF(D, 0, te.EntryDate)) = DATEADD(D, 4, @dateFrom))" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>
        <Field Name="HoursForDay5" Expression="(SELECT isNull(sum(isNull(Duration, 0)), 0) FROM TT_TimeEntries AS te WHERE te.AccountId = {0}.AccountId AND te.TaskID = {0}.TaskID AND te.UserID = @User AND DATEADD(D, 0, DATEDIFF(D, 0, te.EntryDate)) = DATEADD(D, 5, @dateFrom))" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>
        <Field Name="HoursForDay6" Expression="(SELECT isNull(sum(isNull(Duration, 0)), 0) FROM TT_TimeEntries AS te WHERE te.AccountId = {0}.AccountId AND te.TaskID = {0}.TaskID AND te.UserID = @User AND DATEADD(D, 0, DATEDIFF(D, 0, te.EntryDate)) = DATEADD(D, 6, @dateFrom))" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>
      </Fields>
    </View>

    <!-- service views -->

    <View Name="TaskService_AllTasks" RootEntityName="Task" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="DurationHours" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EstimatedHours" EntityName="TaskAggregatedValuesSingle" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="HasChild" EntityName="Task" DefaultVisibility="false" ForceSelect="true"/>
      </Fields>
    </View>

    <View Name="TaskService_AllProjectTasks" RootEntityName="Task" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="DurationHours" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EstimatedHours" EntityName="TaskAggregatedValuesForProject2" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Task_HasChild" Name="HasChild" EntityName="TaskAggregatedValuesForProject2" DefaultVisibility="false" ForceSelect="true"/>
        <Field Name="ActualHours" EntityName="TaskAggregatedValuesForProject2" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="MasterTasks" EntityName="Task" Cache="TaskMasterTasksInfo" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="StartDateLag" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EndDateLag" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="IsCriticalPath" EntityName="TaskCriticalPath" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="BaselineStartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="BaselineEndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="TaskInfoForDatesAdjusting" RootEntityName="Task" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Alias="TaskID" Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="StartDate" Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="EndDate" Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="IsEndDateSelected" Name="IsEndDateSelected" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Duration" Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="DurationHours" Name="DurationHours" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="ActualCompletionDate" Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="HasChild" Name="HasChild" EntityName="Task" DefaultVisibility="false" ForceSelect="true"/>
        <Field Name="DependentTasks" EntityName="Task" Cache="TaskDependentTasksString" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="MasterTasks" EntityName="Task" Cache="TaskMasterTasksInfo" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Alias="ChildMaxStartDate" Name="ChildMaxStartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT MAX(StartDate) FROM TT_Tasks WHERE TT_Tasks.ParentID =  {0}.TaskID AND TT_Tasks.AccountId = {0}.AccountId)">
          <Descriptor DataType="Date" AccessType="ReadOnly"/>
        </Field>
        <Field Alias="ChildMaxEndDate" Name="ChildMaxEndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT MAX(EndDate) FROM TT_Tasks WHERE TT_Tasks.ParentID =  {0}.TaskID AND TT_Tasks.AccountId = {0}.AccountId)">
          <Descriptor DataType="Date" AccessType="ReadOnly"/>
        </Field>
        <Field Alias="StartDateLag" Name="StartDateLag" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="EndDateLag" Name="EndDateLag" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="TaskService_ProjectTasksLight" RootEntityName="Task" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="CustomFieldValueList" RootEntityName="CustomFieldValue">
      <Fields>
        <Field Name="FieldValueID" EntityName="CustomFieldValue" ForceSelect="true"
     DefaultVisibility="false" IsCustomizable="false"/>
        <Field Name="Value" EntityName="CustomFieldValue" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor width="100%"/>
        </Field>
        <Field Name="FieldName" EntityName="CustomField" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" />
        </Field>
        <Field Name="IsRequired" EntityName="CustomField" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" />
        </Field>
        <Field Name="EntityID" EntityName="CustomField" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" />
        </Field>
      </Fields>
    </View>

    <View Name="EventLogList"  RootEntityName="EventLog">
      <Fields>
        <Field Name="EntryID" EntityName="EventLog" AccessType="ReadOnly" ForceSelect="true" DefaultVisibility="false">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
        <Field Name="EntryDate" EntityName="EventLog" AccessType="ReadOnly" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Date" AccessType="ReadOnly" Width="10"  FormatString="{0:g}" />
        </Field>
        <Field Name="EventType" EntityName="EventLog" AccessType="ReadOnly" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="Category" EntityName="EventLog" AccessType="ReadOnly" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="Title" EntityName="EventLog" AccessType="ReadOnly" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Message" EntityName="EventLog" AccessType="ReadOnly" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="80"/>
        </Field>
      </Fields>
    </View>

    <View Name="SecurityLogList"  RootEntityName="SecurityLog">
      <Fields>
        <Field Name="EntryID" EntityName="SecurityLog" AccessType="ReadOnly" ForceSelect="true" DefaultVisibility="false">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
        <Field Name="EntryDate" EntityName="SecurityLog" AccessType="ReadOnly" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Date" AccessType="ReadOnly" Width="8"  FormatString="{0:g}" />
        </Field>
        <Field Name="MessageType" EntityName="SecurityLog" AccessType="ReadOnly" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Name" EntityName="User" AccessType="ReadOnly" ForceSelect="true" DefaultVisibility="false">
          <Descriptor DataType="String" AccessType="ReadOnly"/>
        </Field>
        <Field Name="ActorUserName" EntityName="SecurityLog" AccessType="ReadOnly" ForceSelect="true" DefaultVisibility="false">
          <Descriptor DataType="String" AccessType="ReadOnly"/>
        </Field>
      </Fields>
    </View>

    <!-- this view is used for global permission requests -->
    <View Name="ProjectsForPermissionsRequest" RootEntityName="Project">
      <Fields>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Project" DefaultVisibility="false" ForceSelect="true" IsCustomizable="true" />
      </Fields>
    </View>

    <View Name="CheckMovingTask" RootEntityName="CheckMovingTask" StoredProcedureName="CheckMovingTask">
      <StoredProcedureParameters>
        <Parameter>@TaskID</Parameter>
        <Parameter>@AccountId</Parameter>
      </StoredProcedureParameters>
    </View>

    <View Name="TaskAttachment" RootEntityName="Attachment" EnableAPI="true">
      <Fields>
        <Field Alias="AttachmentID" Name="AttachmentID" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="FileName" Name="FileName" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <!-- Just to get working postprocessing on select - AttachmentService.Selecting-->
        <Field Name="FileName" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="RelativePath" Name="RelativePath" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="FileType" Name="FileType" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="FileLength" Name="FileLength" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="UploadDate" Name="PostDate" EntityName="Message" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="Description" Name="MessageText" EntityName="Message" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="Version" Name="Version" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="AttachmentSaveModeID" Name="AttachmentSaveModeID" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Alias="MessageID" Name="MessageID" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Alias="TaskID" Name="TaskID" EntityName="Message" AccessType="Mandatory" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false">
          <Descriptor DataType="Integer" AccessType="Mandatory"/>
        </Field>
        <Field Alias="UserID" Name="UserID" EntityName="User" DefaultVisibility="true" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="UserName" Name="Name" EntityName="User" DefaultVisibility="true" ForceSelect="true" IsCustomizable="false" />
      </Fields>
      <Filters>
        <Filter Name="OnlyTaskAttachment"/>
      </Filters>
    </View>

    <View Name="ProjectAttachment" RootEntityName="Attachment" EnableAPI="true">
      <Fields>
        <Field Alias="AttachmentID" Name="AttachmentID" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="FileName" Name="FileName" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <!-- Just to get working postprocessing on select - AttachmentService.Selecting-->
        <Field Name="FileName" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="RelativePath" Name="RelativePath" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="FileType" Name="FileType" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="FileLength" Name="FileLength" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="UploadDate" Name="PostDate" EntityName="Message" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="Description" Name="MessageText" EntityName="Message" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="Version" Name="Version" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="AttachmentSaveModeID" Name="AttachmentSaveModeID" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Message" AccessType="Mandatory" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false">
          <Descriptor DataType="Integer" AccessType="Mandatory"/>
        </Field>
        <Field Alias="MessageID" Name="MessageID" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Alias="UserID" Name="UserID" EntityName="User" DefaultVisibility="true" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="UserName" Name="Name" EntityName="User" DefaultVisibility="true" ForceSelect="true" IsCustomizable="false" />
      </Fields>
      <Filters>
        <Filter Name="OnlyProjectAttachment"/>
      </Filters>
    </View>

    <View Name="AttachmentWithMessage" RootEntityName="Attachment">
      <Fields>
        <Field Alias="AttachmentID" Name="AttachmentID" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="FileName" Name="FileName" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <!-- Just to get working postprocessing on select - AttachmentService.Selecting-->
        <Field Name="FileName" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="RelativePath" Name="RelativePath" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="FileType" Name="FileType" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="FileLength" Name="FileLength" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="UploadDate" Name="PostDate" EntityName="Message" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="Description" Name="MessageText" EntityName="Message" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="Version" Name="Version" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="AttachmentSaveModeID" Name="AttachmentSaveModeID" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Alias="MessageID" Name="MessageID" EntityName="Attachment" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Alias="TaskID" Name="TaskID" EntityName="Message" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Alias="UserName" Name="Name" EntityName="User" DefaultVisibility="true" ForceSelect="true" IsCustomizable="false" />

      </Fields>
    </View>

    <View Name="ReportsList" RootEntityName="Report">
      <Fields>
        <Field Name="ReportID" EntityName="Report" ForceSelect="true" DefaultVisibility="false">
        </Field>
        <Field Name="Name" EntityName="Report" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="100" OpensEntity="true"/>
        </Field>
        <Field Name="ReportType" EntityName="Report" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CountWidgets" EntityName="Report" ForceSelect="true" DefaultVisibility="false">
        </Field>
      </Fields>
    </View>

    <View Name="ReportDetails" RootEntityName="Report" SelectDistinctRows="false" EnableAPI="false">
      <Fields>
        <Field Name="ReportID" EntityName="Report" ForceSelect="true"/>
        <Field Name="Name" EntityName="Report" ForceSelect="true">
          <Descriptor AccessType="Mandatory" Width="50"/>
        </Field>
        <Field Name="FontName" EntityName="Report" ForceSelect="true"/>
        <Field Name="FontSize" EntityName="Report" ForceSelect="true"/>
        <Field Name="IsFontBold" EntityName="Report" ForceSelect="true"/>
        <Field Name="IsFontItalic" EntityName="Report" ForceSelect="true"/>
        <Field Name="IsFontUnderline" EntityName="Report" ForceSelect="true"/>
        <Field Name="IsVerticalChartLabels" EntityName="Report" ForceSelect="true"/>
        <Field Name="PageOrientation" EntityName="Report" ForceSelect="true"/>
        <Field Name="ReportType" EntityName="Report" ForceSelect="true"/>
        <Field Name="ShowOnDashboard" EntityName="Report" ForceSelect="true"/>
        <Field Name="CountWidgets" EntityName="Report" ForceSelect="true" />

        <Field Name="ColumnsInformation" EntityName="Report" ForceSelect="true"/>
        <Field Name="ViewName" EntityName="ReportDataSource" ForceSelect="true"/>
        <Field Name="DisplayName" EntityName="ReportDataSource" ForceSelect="true"/>
      </Fields>
    </View>

    <View Name="StatusReportsList" RootEntityName="StatusReport">
      <Fields>
        <Field Name="StatusReportID" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="false">
        </Field>
        <Field Name="CreationDate" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="100" OpensEntity="true" FormatString="{0:d}"/>
        </Field>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"></Field>
        <Field Name="LastModificationDate" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="false"></Field>
        <Field Name="Name" EntityName="CreatorUser" ForceSelect="true" DefaultVisibility="true"></Field>
      </Fields>
    </View>

    <View Name="StatusReportDetails" RootEntityName="StatusReport" SelectDistinctRows="false">
      <Fields>
        <Field Name="StatusReportID" EntityName="StatusReport" ForceSelect="true"/>
        <Field Name="CreationDate" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="100" OpensEntity="true"/>
        </Field>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"></Field>
        <Field Name="LastModificationDate" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true"></Field>
        <Field Name="ProjectEndDate" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true"></Field>
        <Field Name="Name" EntityName="CreatorUser" ForceSelect="true" DefaultVisibility="true"></Field>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true"></Field>
        <Field Name="ScopeDescription" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ScheduleDescription" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CostDescription" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ResourcesDescription" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ScopeValue" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ScheduleValue" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CostValue" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ResourcesValue" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Plans" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Problems" EntityName="StatusReport" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="TasksForExportProject" RootEntityName="Task" SelectDistinctRows="false" AdditionalPermissionsRequired="false" EnableAPI="false">
      <Fields>
        <Field Alias="TaskID" Name="TaskID" EntityName="Task" ForceSelect="true" IsCustomizable="true" />
        <Field Alias="Name" Name="Name" EntityName="Task" ForceSelect="true" IsCustomizable="true" />
        <Field Alias="Progress" Name="Progress" EntityName="Task" ForceSelect="true" IsCustomizable="true" />
        <Field Alias="StartDate" Name="StartDate" EntityName="Task" ForceSelect="true" IsCustomizable="true"/>
        <Field Alias="EndDate" Name="EndDate" EntityName="Task" ForceSelect="true" IsCustomizable="true"/>
        <Field Alias="Duration" Name="Duration" EntityName="Task" ForceSelect="true" IsCustomizable="true" />
        <Field Alias="DurationHours" Name="DurationHours" EntityName="Task" ForceSelect="true" IsCustomizable="true" />
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Task" ForceSelect="true" IsCustomizable="true" />
        <Field Alias="PriorityOrder" Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="true" IsCustomizable="true" />
        <Field Alias="HasChild" Name="HasChild" EntityName="Task" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="ParentID" Name="ParentID" EntityName="Task" ForceSelect="true" IsCustomizable="false" />
        <Field Alias="Description" Name="Description" EntityName="Task" ForceSelect="true" IsCustomizable="true" />
        <Field Alias="IsMilestone" Name="IsMilestone" EntityName="Task" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Assignees" Cache="TaskAssigneesObject" EntityName="Task" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" DataType="Object" />
        </Field>
        <Field Name="DependentTasks" EntityName="Task" Cache="TaskDependentTasksInfo" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="Object"/>
        </Field>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" IsCustomizable="false"/>
      </Fields>
    </View>

    <!-- Report Data Sources -->
    <!-- IMPORTANT: Sync changes with ProjectsReportSourceByPeriod view-->
    <View Name="ProjectsReportSource" RootEntityName="Project" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Managers" Expression="dbo.ep_GetProjectManagers({0}.ProjectID, @CurrentUserID, ', ',{0}.AccountId)" EntityName="Project" IsCustomizable="true" ForceSelect="false" DefaultVisibility="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="Members" Expression="dbo.ep_GetProjectMembers({0}.ProjectID, @CurrentUserID, ', ',{0}.AccountId)" EntityName="Project" IsCustomizable="true" ForceSelect="false" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="StartDate" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="EndDate" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="CreationDate" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="ProjectStatus" IsCustomizable="true" ForceSelect="false" />
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Priority" IsCustomizable="true" ForceSelect="false" />
        <Field Name="PriorityOrder" EntityName="Priority" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Progress" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="TimeCost" EntityName="ProjectCost" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Expenses" EntityName="ProjectCost" IsCustomizable="true" ForceSelect="false" />
        <Field Name="TotalCost" EntityName="ProjectCost" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Customer" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="CreatorUser" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project"
				   ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <!-- Portfolio fields -->
        <Field Name="PortfolioID" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <!--inner join bug in SqlQueryGenerator workaround-->
        <Field Name="PortfolioStatus" Expression="(SELECT TOP 1 [Name] FROM [dbo].[TT_PortfolioStatuses] WHERE [dbo].[TT_PortfolioStatuses].[AccountId] = {0}.[AccountId] AND [dbo].[TT_PortfolioStatuses].[PortfolioStatusID] = {0}.[PortfolioStatusID])" EntityName="Portfolio"
           DefaultVisibility="true" IsCustomizable="true" ForceSelect="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Duration" EntityName="Project" IsCustomizable="true" ForceSelect="false" AlsoSelect="Project_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Project"  ForceSelect="false" DefaultVisibility="false"/>

        <Field Alias="Health" Name="Health" EntityName="ProjectEVA" ForceSelect="false" IsCustomizable="true" ReportCustomizer="Health">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <!-- Financial fields -->
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ProjectProfit" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />
        <Field Name="InternalCost" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Cost" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ProjectProfitability" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />

        <Field Name="ProjectProfitHealth" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ProjectCostVariance" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BudgetedCost" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PlannedExpenses" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="TotalPayments" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ProjectExpectedRevenue" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="InternalEstimatedCost" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PercentageOfProjectBilled" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="WorkInProgress" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="TotalBilled" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ProjectTimeUsage" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BillingUtilization" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="EstimatedBudgetProfitability" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ActualBudgetProfitability" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="CPI" EntityName="ProjectEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Name="SPI" EntityName="ProjectEVA" ForceSelect="false" IsCustomizable="true" />
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="Customer"/>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="ProjectsReportSourceByPeriod" RootEntityName="Project" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Managers" Expression="dbo.ep_GetProjectManagers({0}.ProjectID, @CurrentUserID, ', ', {0}.AccountId)" EntityName="Project" IsCustomizable="true" ForceSelect="false" DefaultVisibility="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="Members" Expression="dbo.ep_GetProjectMembers({0}.ProjectID, @CurrentUserID, ', ', {0}.AccountId)" EntityName="Project" IsCustomizable="true" ForceSelect="false" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="StartDate" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="EndDate" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="CreationDate" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="ProjectStatus" IsCustomizable="true" ForceSelect="false" />
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Priority" IsCustomizable="true" ForceSelect="false" />
        <Field Name="PriorityOrder" EntityName="Priority" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Progress" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Cost" EntityName="ProjectCostByPeriod" IsCustomizable="true" ForceSelect="false" />
        <Field Name="TimeCost" EntityName="ProjectCostByPeriod" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Expenses" EntityName="ProjectCostByPeriod" IsCustomizable="true" ForceSelect="false" />
        <Field Name="TotalCost" EntityName="ProjectCostByPeriod" IsCustomizable="true" ForceSelect="false" />
        <Field Name="CostDate" EntityName="ProjectCostByPeriod" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Customer" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="CreatorUser" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project"
				   ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <!-- Portfolio fields -->
        <Field Name="PortfolioID" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <!-- inner join bug in SqlQueryGenerator workaround -->
        <Field Name="PortfolioStatus" Expression="(SELECT TOP 1 [Name] FROM [dbo].[TT_PortfolioStatuses] WHERE [dbo].[TT_PortfolioStatuses].[AccountId] = {0}.[AccountId] AND [dbo].[TT_PortfolioStatuses].[PortfolioStatusID] = {0}.[PortfolioStatusID])" EntityName="Portfolio"
           DefaultVisibility="true" IsCustomizable="true" ForceSelect="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Duration" EntityName="Project" IsCustomizable="true" ForceSelect="false" AlsoSelect="Project_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Project"  ForceSelect="false" DefaultVisibility="false"/>
        <Field Alias="Health" Name="Health" EntityName="ProjectEVA" ForceSelect="false" IsCustomizable="true" ReportCustomizer="Health">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <!-- Financial fields -->
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ProjectProfit" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />
        <Field Name="InternalCost" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ProjectProfitability" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />

        <Field Name="ProjectProfitHealth" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ProjectCostVariance" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BudgetedCost" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PlannedExpenses" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="TotalPayments" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ProjectExpectedRevenue" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="InternalEstimatedCost" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PercentageOfProjectBilled" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="WorkInProgress" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="TotalBilled" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ProjectTimeUsage" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BillingUtilization" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="EstimatedBudgetProfitability" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ActualBudgetProfitability" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Currency" Name="CurrencySymbol" EntityName="ProjectCurrency" DefaultVisibility="false" ForceSelect="false" IsCustomizable="false" />
        <Field Name="CPI" EntityName="ProjectEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Name="SPI" EntityName="ProjectEVA" ForceSelect="false" IsCustomizable="true" />
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="Customer"/>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="AllPortfolioReportSource" RootEntityName="Portfolio" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="PortfolioID" EntityName="Portfolio" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Name" EntityName="Portfolio" ForceSelect="true" IsCustomizable="true" />
        <Field Name="ManagersComma" EntityName="Portfolio" ForceSelect="true" IsCustomizable="true" ReportCustomizer="People"/>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="true" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" IsCustomizable="true" />
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" IsCustomizable="true" />
      </Fields>
    </View>
    <View Name="AllPortfolioReportGeneratorSource" RootEntityName="Portfolio" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="PortfolioID" EntityName="Portfolio" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Portfolio" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ManagersComma" EntityName="Portfolio" ForceSelect="false" IsCustomizable="true" ReportCustomizer="People"/>
        <Field Name="Description" EntityName="Portfolio" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="PortfolioCategory" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="PortfolioStatus" ForceSelect="false" IsCustomizable="true" />
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
    </View>
    <View Name="AllTasksReportSource" RootEntityName="Task" SelectDistinctRows="false" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="IsCriticalPath" EntityName="TaskCriticalPath" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Description" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskType" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="CommaSeparated;UserNames" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" IsCustomizable="true" ForceSelect="false" AlsoSelect="Task_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Task"  ForceSelect="false" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BaselineStartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="OwnEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Task_Cost" Name="Cost" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="IsMilestone" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="false" IsCustomizable="true" ReportCustomizer="TaskCreator"/>

        <Field Name="ProjectID" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Cost" EntityName="ProjectCost" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Budget" EntityName="TaskAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Customer" ForceSelect="false" IsCustomizable="true">
          <Descriptor OpensEntity="true" />
        </Field>
        <Field Name="IsShowActualHoursIconWarning" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="false" IsCustomizable="false"
              Expression ="(CASE WHEN TaskAggregatedValues.ActualHours > TaskAggregatedValues.EstimatedHours THEN 1 ELSE 0 END)">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="DueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="DelayedFor" Alias="DelayedFor" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false" AlsoSelect="TaskStatus_TreatAsCompleted"
               ExpressionKey="Task_DelayedFor" FilterExpressionKey="Task_DelayedFor">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="Highlighted" Expression="(case when (DATEDIFF(day, @now, Task.EndDate) &lt; 0 and TaskStatus.TreatAsCompleted = 0) then 'HighlightedObject' else '' end)" EntityName="Project"
          AlsoSelect="TaskStatus_TreatAsCompleted" ForceSelect="false" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="ProjectHighlighted" Expression="(case when (DATEDIFF(day, @now, Project.EndDate) &lt; 0 and ProjectStatus.TreatAsCompleted = 0) then 'HighlightedObject' else '' end)"
               AlsoSelect="ProjectStatus_TreatAsCompleted,Project_EndDate" EntityName="Project" ForceSelect="false" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="ParentTaskName" Alias="ParentTaskName" ExpressionKey="Task_ParentTaskName" EntityName="Task" ForceSelect="false" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <!-- Portfolio fields -->
        <Field Name="PortfolioID" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <!--inner join bug in SqlQueryGenerator workaround-->
        <Field Name="PortfolioStatus" Expression="(SELECT TOP 1 [Name] FROM [dbo].[TT_PortfolioStatuses] WHERE [dbo].[TT_PortfolioStatuses].[AccountId] = {0}.[AccountId] AND [dbo].[TT_PortfolioStatuses].[PortfolioStatusID] = {0}.[PortfolioStatusID])" EntityName="Portfolio"
           DefaultVisibility="true" IsCustomizable="true" ForceSelect="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" IsCustomizable="true" ForceSelect="false" />
        <Field Name="CPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Name="SPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Health" Name="Health" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" ReportCustomizer="Health">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task" />
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="Customer"/>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
    </View>

    <!-- Don't delete HierarchicalStoredProcedure="GetTaskDirectHeirs" attribute, it is not used now! it is just a marker! -->
    <View Name="AllTasksHierarchicalReportSource" RootEntityName="Task" HierarchicalStoredProcedure="GetTaskDirectHeirs" SelectDistinctRows="false" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="IsCriticalPath" EntityName="TaskCriticalPath" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" IsCustomizable="false" />
        <Field Name="Name" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Description" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskType" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />

        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="CommaSeparated;UserNames" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" IsCustomizable="true" ForceSelect="false" AlsoSelect="Task_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Task"  ForceSelect="false" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BaselineStartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="OwnEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Task_Cost" Name="Cost" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="IsMilestone" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Budget" EntityName="TaskAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="false" IsCustomizable="true" ReportCustomizer="TaskCreator"/>

        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ProjectCost" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Customer" ForceSelect="false" IsCustomizable="true">
          <Descriptor OpensEntity="true" />
        </Field>
        <Field Name="IsShowActualHoursIconWarning" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="false"
              Expression ="(CASE WHEN TaskAggregatedValues.ActualHours > TaskAggregatedValues.EstimatedHours THEN 1 ELSE 0 END)">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="DueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="DelayedFor" Alias="DelayedFor" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false" AlsoSelect="TaskStatus_TreatAsCompleted"
               ExpressionKey="Task_DelayedFor" FilterExpressionKey="Task_DelayedFor">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="Highlighted" Expression="(case when (DATEDIFF(day, @now, Task.EndDate) &lt; 0 and TaskStatus.TreatAsCompleted = 0) then 'HighlightedObject' else '' end)" EntityName="Project"
          AlsoSelect="TaskStatus_TreatAsCompleted" ForceSelect="false" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="ProjectHighlighted" Expression="(case when (DATEDIFF(day, @now, Project.EndDate) &lt; 0 and ProjectStatus.TreatAsCompleted = 0) then 'HighlightedObject' else '' end)" EntityName="Project"
          AlsoSelect="ProjectStatus_TreatAsCompleted,Project_EndDate" ForceSelect="false" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <!-- Portfolio fields -->
        <Field Name="PortfolioID" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <!--inner join bug in SqlQueryGenerator workaround-->
        <Field Name="PortfolioStatus" Expression="(SELECT TOP 1 [Name] FROM [dbo].[TT_PortfolioStatuses] WHERE [dbo].[TT_PortfolioStatuses].[AccountId] = {0}.[AccountId] AND [dbo].[TT_PortfolioStatuses].[PortfolioStatusID] = {0}.[PortfolioStatusID])" EntityName="Portfolio"
           DefaultVisibility="true" IsCustomizable="true" ForceSelect="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" IsCustomizable="true" ForceSelect="false" />
        <Field Name="CPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Name="SPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Health" Name="Health" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" ReportCustomizer="Health">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task" />
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="Customer"/>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="&#160;" Type="String"  />
        <Filter Name="DoNotConcatTaskIdToTaskName" Value="true" Type="Boolean"  />
      </Filters>
    </View>

    <View Name="TasksReportSource" RootEntityName="Task" SelectDistinctRows="false" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="IsCriticalPath" EntityName="TaskCriticalPath" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Description" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="CommaSeparated;UserNames" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" IsCustomizable="true" ForceSelect="false" AlsoSelect="Task_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Task"  ForceSelect="false" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BaselineStartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="OwnEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Task_Cost" Name="Cost" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="IsMilestone" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Budget" EntityName="TaskAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="false" IsCustomizable="true" ReportCustomizer="TaskCreator"/>

        <Field Name="ProjectID" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ProjectCost" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Customer" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ParentTaskName" Alias="ParentTaskName" ExpressionKey="Task_ParentTaskName" EntityName="Task" ForceSelect="false" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="DelayedFor" Alias="DelayedFor" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false" AlsoSelect="TaskStatus_TreatAsCompleted"
               ExpressionKey="Task_DelayedFor" FilterExpressionKey="Task_DelayedFor">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="DueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <!-- Portfolio fields -->
        <Field Name="PortfolioID" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <!--inner join bug in SqlQueryGenerator workaround-->
        <Field Name="PortfolioStatus" Expression="(SELECT TOP 1 [Name] FROM [dbo].[TT_PortfolioStatuses] WHERE [dbo].[TT_PortfolioStatuses].[AccountId] = {0}.[AccountId] AND [dbo].[TT_PortfolioStatuses].[PortfolioStatusID] = {0}.[PortfolioStatusID])" EntityName="Portfolio"
           DefaultVisibility="true" IsCustomizable="true" ForceSelect="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" IsCustomizable="true" ForceSelect="false" />
        <Field Name="CPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Name="SPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Health" Name="Health" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" ReportCustomizer="Health">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="2" />
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="8" />
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="Customer"/>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
      <Filters>
        <Filter Name="b_Task_TaskTypeID_Equal" Value="1" Type="Int32" />
      </Filters>
    </View>

    <!-- Don't delete HierarchicalStoredProcedure="GetTaskDirectHeirs" attribute, it is not used now! it is just a marker! -->
    <View Name="TasksHierarchicalReportSource" RootEntityName="Task" HierarchicalStoredProcedure="GetTaskDirectHeirs" SelectDistinctRows="false" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="IsCriticalPath" EntityName="TaskCriticalPath" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" IsCustomizable="false" />
        <Field Name="Name" EntityName="Task" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Description" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="CommaSeparated;UserNames" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" IsCustomizable="true" ForceSelect="false" AlsoSelect="Task_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Task"  ForceSelect="false" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BaselineStartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="OwnEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Task_Cost" Name="Cost" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="IsMilestone" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Budget" EntityName="TaskAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="false" IsCustomizable="true" ReportCustomizer="TaskCreator"/>

        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ProjectCost" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Customer" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="DueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <!-- Portfolio fields -->
        <Field Name="PortfolioID" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="DelayedFor" Alias="DelayedFor" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false" AlsoSelect="TaskStatus_TreatAsCompleted"
               ExpressionKey="Task_DelayedFor" FilterExpressionKey="Task_DelayedFor">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <!--inner join bug in SqlQueryGenerator workaround-->
        <Field Name="PortfolioStatus" Expression="(SELECT TOP 1 [Name] FROM [dbo].[TT_PortfolioStatuses] WHERE [dbo].[TT_PortfolioStatuses].[AccountId] = {0}.[AccountId] AND [dbo].[TT_PortfolioStatuses].[PortfolioStatusID] = {0}.[PortfolioStatusID])" EntityName="Portfolio"
           DefaultVisibility="true" IsCustomizable="true" ForceSelect="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" IsCustomizable="true" ForceSelect="false" />
        <Field Name="CPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Name="SPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Health" Name="Health" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" ReportCustomizer="Health">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="2" />
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="8" />
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="Customer"/>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
      <Filters>
        <Filter Name="b_Task_TaskTypeID_Equal" Value="1" Type="Int32" />
        <Filter Name="TaskHierarchyIndent" Value="—" Type="String" />
        <Filter Name="DoNotConcatTaskIdToTaskName" Value="true" Type="Boolean"  />
      </Filters>
    </View>

    <View Name="RequestsReportSource" RootEntityName="Task" SelectDistinctRows="false" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="IsCriticalPath" EntityName="TaskCriticalPath" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Description" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="CommaSeparated;UserNames" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" IsCustomizable="true" ForceSelect="false" AlsoSelect="Task_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Task"  ForceSelect="false" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BaselineStartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="OwnEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Task_Cost" Name="Cost" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="IsMilestone" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Budget" EntityName="TaskAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="false" IsCustomizable="true" ReportCustomizer="TaskCreator"/>

        <Field Name="ProjectID" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ProjectCost" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Customer" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ParentTaskName" Alias="ParentTaskName" ExpressionKey="Task_ParentTaskName" EntityName="Task" ForceSelect="false" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="DelayedFor" Alias="DelayedFor" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false" AlsoSelect="TaskStatus_TreatAsCompleted"
               ExpressionKey="Task_DelayedFor" FilterExpressionKey="Task_DelayedFor">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="DueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <!-- Portfolio fields -->
        <Field Name="PortfolioID" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <!--inner join bug in SqlQueryGenerator workaround-->
        <Field Name="PortfolioStatus" Expression="(SELECT TOP 1 [Name] FROM [dbo].[TT_PortfolioStatuses] WHERE [dbo].[TT_PortfolioStatuses].[AccountId] = {0}.[AccountId] AND [dbo].[TT_PortfolioStatuses].[PortfolioStatusID] = {0}.[PortfolioStatusID])" EntityName="Portfolio"
           DefaultVisibility="true" IsCustomizable="true" ForceSelect="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" IsCustomizable="true" ForceSelect="false" />
        <Field Name="CPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Name="SPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Health" Name="Health" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" ReportCustomizer="Health">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="3" />
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="8" />
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="Customer"/>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
      <Filters>
        <Filter Name="b_Task_TaskTypeID_Equal" Value="3" Type="Int32" />
      </Filters>
    </View>

    <!-- Don't delete HierarchicalStoredProcedure="GetTaskDirectHeirs" attribute, it is not used now! it is just a marker! -->
    <View Name="RequestsHierarchicalReportSource" RootEntityName="Task" HierarchicalStoredProcedure="GetTaskDirectHeirs" SelectDistinctRows="false" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="IsCriticalPath" EntityName="TaskCriticalPath" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" IsCustomizable="false" />
        <Field Name="Name" EntityName="Task" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Description" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="CommaSeparated;UserNames" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" IsCustomizable="true" ForceSelect="false" AlsoSelect="Task_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Task"  ForceSelect="false" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BaselineStartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="OwnEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Task_Cost" Name="Cost" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="IsMilestone" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Budget" EntityName="TaskAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="false" IsCustomizable="true" ReportCustomizer="TaskCreator"/>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>

        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ProjectCost" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Customer" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="DelayedFor" Alias="DelayedFor" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false" AlsoSelect="TaskStatus_TreatAsCompleted"
               ExpressionKey="Task_DelayedFor" FilterExpressionKey="Task_DelayedFor">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="DueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <!-- Portfolio fields -->
        <Field Name="PortfolioID" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <!--inner join bug in SqlQueryGenerator workaround-->
        <Field Name="PortfolioStatus" Expression="(SELECT TOP 1 [Name] FROM [dbo].[TT_PortfolioStatuses] WHERE [dbo].[TT_PortfolioStatuses].[AccountId] = {0}.[AccountId] AND [dbo].[TT_PortfolioStatuses].[PortfolioStatusID] = {0}.[PortfolioStatusID])" EntityName="Portfolio"
           DefaultVisibility="true" IsCustomizable="true" ForceSelect="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" IsCustomizable="true" ForceSelect="false" />
        <Field Name="CPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Name="SPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Health" Name="Health" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" ReportCustomizer="Health">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="3" />
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="8" />
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="Customer"/>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
      <Filters>
        <Filter Name="b_Task_TaskTypeID_Equal" Value="3" Type="Int32" />
        <Filter Name="TaskHierarchyIndent" Value="—" Type="String" />
        <Filter Name="DoNotConcatTaskIdToTaskName" Value="true" Type="Boolean"  />
      </Filters>
    </View>

    <View Name="IssuesReportSource" RootEntityName="Task" SelectDistinctRows="false" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="IsCriticalPath" EntityName="TaskCriticalPath" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Description" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="CommaSeparated;UserNames" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" IsCustomizable="true" ForceSelect="false" AlsoSelect="Task_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Task"  ForceSelect="false" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BaselineStartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="OwnEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Task_Cost" Name="Cost" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="IsMilestone" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Budget" EntityName="TaskAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="false" IsCustomizable="true" ReportCustomizer="TaskCreator"/>

        <Field Name="ProjectID" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ProjectCost" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Customer" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ParentTaskName" Alias="ParentTaskName" ExpressionKey="Task_ParentTaskName" EntityName="Task" ForceSelect="false" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="DelayedFor" Alias="DelayedFor" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false" AlsoSelect="TaskStatus_TreatAsCompleted"
               ExpressionKey="Task_DelayedFor" FilterExpressionKey="Task_DelayedFor">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="DueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <!-- Portfolio fields -->
        <Field Name="PortfolioID" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <!--inner join bug in SqlQueryGenerator workaround-->
        <Field Name="PortfolioStatus" Expression="(SELECT TOP 1 [Name] FROM [dbo].[TT_PortfolioStatuses] WHERE [dbo].[TT_PortfolioStatuses].[AccountId] = {0}.[AccountId] AND [dbo].[TT_PortfolioStatuses].[PortfolioStatusID] = {0}.[PortfolioStatusID])" EntityName="Portfolio"
           DefaultVisibility="true" IsCustomizable="true" ForceSelect="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" IsCustomizable="true" ForceSelect="false" />
        <Field Name="CPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Name="SPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Health" Name="Health" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" ReportCustomizer="Health">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="4" />
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="8" />
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="Customer"/>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
      <Filters>
        <Filter Name="b_Task_TaskTypeID_Equal" Value="2" Type="Int32" />
      </Filters>
    </View>

    <View Name="IssuesHierarchicalReportSource" RootEntityName="Task" HierarchicalStoredProcedure="GetTaskDirectHeirs" SelectDistinctRows="false" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="IsCriticalPath" EntityName="TaskCriticalPath" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" IsCustomizable="false" />
        <Field Name="Name" EntityName="Task" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Description" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="CommaSeparated;UserNames" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" IsCustomizable="true" ForceSelect="false" AlsoSelect="Task_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Task"  ForceSelect="false" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BaselineStartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="OwnEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Task_Cost" Name="Cost" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
        <Field Name="IsMilestone" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Budget" EntityName="TaskAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="false" IsCustomizable="true" ReportCustomizer="TaskCreator"/>
        <Field Name="DelayedFor" Alias="DelayedFor" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false" AlsoSelect="TaskStatus_TreatAsCompleted"
               ExpressionKey="Task_DelayedFor" FilterExpressionKey="Task_DelayedFor">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>

        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ProjectCost" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Customer" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="DueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <!-- Portfolio fields -->
        <Field Name="PortfolioID" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <!--inner join bug in SqlQueryGenerator workaround-->
        <Field Name="PortfolioStatus" Expression="(SELECT TOP 1 [Name] FROM [dbo].[TT_PortfolioStatuses] WHERE [dbo].[TT_PortfolioStatuses].[AccountId] = {0}.[AccountId] AND [dbo].[TT_PortfolioStatuses].[PortfolioStatusID] = {0}.[PortfolioStatusID])" EntityName="Portfolio"
           DefaultVisibility="true" IsCustomizable="true" ForceSelect="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" IsCustomizable="true" ForceSelect="false" />
        <Field Name="CPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Name="SPI" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Health" Name="Health" EntityName="TaskEVA" ForceSelect="false" IsCustomizable="true" ReportCustomizer="Health">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="4" />
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="8" />
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="Customer"/>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
      <Filters>
        <Filter Name="b_Task_TaskTypeID_Equal" Value="2" Type="Int32" />
        <Filter Name="TaskHierarchyIndent" Value="—" Type="String" />
        <Filter Name="DoNotConcatTaskIdToTaskName" Value="true" Type="Boolean"  />
      </Filters>
    </View>

    <View Name="TimeEntriesReportSource" RootEntityName="TimeEntry" SelectDistinctRows="false" AdditionalPermissionsRequired="true" >
      <Fields>
        <Field Name="TimeEntryID" EntityName="TimeEntry" ForceSelect="false" IsCustomizable="true" />
        <Field Name="EntryDate" EntityName="TimeEntry" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="TimeEntry" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Description" EntityName="TimeEntry" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Billable" EntityName="TimeEntry" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Approved" EntityName="TimeEntry" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Billed" EntityName="TimeEntry" ForceSelect="false" IsCustomizable="true" />
        <Field Name="History" EntityName="TimeEntry" Expression="({0}.[History])" ForceSelect="false" IsCustomizable="true">
          <Descriptor DataType="HtmlText" ShowInReportAsHtml="true" AccessType="ReadOnly" />
        </Field>
        <Field Name="IsBillable" EntityName="TaskBillable" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="User" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="TaskID" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Description" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskType" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="CommaSeparated;UserNames" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Alias="CanViewMembersAndAssignees" Name="CanViewMembersAndAssignees"
               Expression="(SELECT CanViewMembersAndAssignees FROM TT_ProjectPermissions ttpp 
                            INNER JOIN TT_Tasks ttt on ttpp.ProjectID = ttt.ProjectID and ttpp.AccountID = ttt.AccountID
                            WHERE ttt.TaskID = {0}.TaskID AND ttt.AccountID = {0}.AccountID AND ttpp.UserID = @CurrentUserID)" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" IsCustomizable="true" ForceSelect="false" AlsoSelect="Task_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Task"  ForceSelect="false" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineStartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="OwnEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="false" IsCustomizable="true" />
        <Field Name="EstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Task_Cost" Name="Cost" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Budget" EntityName="TaskAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />

        <Field Name="ProjectID" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ProjectCost" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="Name" EntityName="Customer" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="DueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Task"
					   AlsoSelect="Task_EndDate" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project" ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Name="Highlighted" Expression="(case when (DATEDIFF(day, @now, Task.EndDate) &lt; 0 and TaskStatus.TreatAsCompleted = 0) then 'HighlightedObject' else '' end)" EntityName="Project"
          AlsoSelect="TaskStatus_TreatAsCompleted,Task_EndDate" ForceSelect="false" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="ProjectHighlighted" Expression="(case when (DATEDIFF(day, @now, Project.EndDate) &lt; 0 and ProjectStatus.TreatAsCompleted = 0) then 'HighlightedObject' else '' end)" EntityName="Project"
          AlsoSelect="ProjectStatus_TreatAsCompleted,Project_EndDate" ForceSelect="false" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <!-- Portfolio fileds -->
        <Field Name="PortfolioID" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="PortfolioCategory" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ParentTaskName" Alias="ParentTaskName" ExpressionKey="Task_ParentTaskName" EntityName="Task" ForceSelect="false" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="User"/>
        <CustomFieldsInclude EntityName="Customer"/>
        <CustomFieldsInclude EntityName="Task"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="MessagesReportSource" RootEntityName="Message" SelectDistinctRows="false" AdditionalPermissionsRequired="true" >
      <Fields>
        <Field Name="MessageID" EntityName="Message" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PostDate" EntityName="Message" ForceSelect="false" IsCustomizable="true" />
        <Field Name="MessageText" EntityName="Message" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="User" ForceSelect="false" IsCustomizable="true" />

        <Field Name="TaskID" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Description" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskType" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="CommaSeparated;UserNames" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Alias="CanViewMembersAndAssignees" Name="CanViewMembersAndAssignees"
               Expression="(SELECT CanViewMembersAndAssignees FROM TT_ProjectPermissions ttpp 
                            INNER JOIN TT_Tasks ttt on ttpp.ProjectID = ttt.ProjectID and ttpp.AccountID = ttt.AccountID
                            WHERE ttt.TaskID = {0}.TaskID AND ttt.AccountID = {0}.AccountID AND ttpp.UserID = @CurrentUserID)" EntityName="Message" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false">
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>

        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="false" IsCustomizable="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Duration" EntityName="Task" IsCustomizable="true" ForceSelect="false" AlsoSelect="Task_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Task"  ForceSelect="false" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BaselineStartDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="OwnEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="Name" EntityName="Category" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="false" IsCustomizable="true" />
        <Field Alias="Task_Cost" Name="Cost" EntityName="TaskAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Budget" EntityName="TaskAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="false" IsCustomizable="true" />

        <Field Name="ProjectID" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="false" IsCustomizable="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PriorityOrder" EntityName="Priority" ForceSelect="false" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ProjectCost" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" />
        <Field Name="Name" EntityName="Customer" ForceSelect="false" IsCustomizable="true"/>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="User"/>
        <CustomFieldsInclude EntityName="Customer"/>
      </CustomFieldsIncludes>
      <Filters>
        <Filter Name="MessagesWithTextOnly"/>
      </Filters>
    </View>

    <View Name="FinancialsReportSource" RootEntityName="ProjectFinancials" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Cost" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="InternalCost" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="ProjectProfit" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="ProjectProfitHealth" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="ProjectProfitability" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="ProjectCostVariance" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Budget" EntityName="ProjectAggregatedValues" ForceSelect="true" IsCustomizable="true" />
        <Field Name="BudgetedCost" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="PlannedExpenses" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="TotalPayments" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="ProjectExpectedRevenue" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="InternalEstimatedCost" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="PercentageOfProjectBilled" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="WorkInProgress" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="TotalBilled" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="ProjectTimeUsage" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="BillingUtilization" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="EstimatedBudgetProfitability" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="ActualBudgetProfitability" EntityName="ProjectFinancials" ForceSelect="true" IsCustomizable="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="true" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Priority" ForceSelect="true" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Portfolio" ForceSelect="true" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Customer" ForceSelect="true" IsCustomizable="true"/>
        <Field Alias="Managers" Name="Managers" EntityName="Project" Expression="dbo.ep_GetProjectManagers({0}.ProjectID, @CurrentUserID, ', ', {0}.AccountId)" ForceSelect="true" IsCustomizable="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" IsCustomizable="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="true" IsCustomizable="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="true" IsCustomizable="true"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" IsCustomizable="true"/>
        <Field Alias="Health" Name="Health" EntityName="ProjectEVA" ForceSelect="true" IsCustomizable="true" ReportCustomizer="Health"/>
        <Field Alias="EstimatedHours" Name="EstimatedHours" EntityName="ACProjectAggregatedValues" ForceSelect="true" IsCustomizable="true" />
        <Field Alias="ActualHours" Name="ActualHours" EntityName="ACProjectAggregatedValues" ForceSelect="true" IsCustomizable="true" />
        <Field Alias="Currency" Name="CurrencySymbol" EntityName="ProjectCurrency" DefaultVisibility="false" ForceSelect="true" IsCustomizable="false" />
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="PaymentsReportSource" RootEntityName="Payment" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Managers" Expression="dbo.ep_GetProjectManagers({0}.ProjectID, @CurrentUserID, ', ',{0}.AccountId)" EntityName="Project" IsCustomizable="true" ForceSelect="false" DefaultVisibility="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="Members" Expression="dbo.ep_GetProjectMembers({0}.ProjectID, @CurrentUserID, ', ',{0}.AccountId)" EntityName="Project" IsCustomizable="true" ForceSelect="false" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="StartDate" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="EndDate" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="CreationDate" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="ProjectStatus" IsCustomizable="true" ForceSelect="false" />
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Priority" IsCustomizable="true" ForceSelect="false" />
        <Field Name="PriorityOrder" EntityName="Priority" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Progress" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="TimeCost" EntityName="ProjectCost" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Expenses" EntityName="ProjectCost" IsCustomizable="true" ForceSelect="false" />
        <Field Name="TotalCost" EntityName="ProjectCost" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Customer" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="CreatorUser" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project"
				   ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <!-- Portfolio fields -->
        <Field Name="PortfolioID" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <!--inner join bug in SqlQueryGenerator workaround-->
        <Field Name="PortfolioStatus" Expression="(SELECT TOP 1 [Name] FROM [dbo].[TT_PortfolioStatuses] WHERE [dbo].[TT_PortfolioStatuses].[AccountId] = {0}.[AccountId] AND [dbo].[TT_PortfolioStatuses].[PortfolioStatusID] = {0}.[PortfolioStatusID])" EntityName="Portfolio"
           DefaultVisibility="true" IsCustomizable="true" ForceSelect="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Duration" EntityName="Project" IsCustomizable="true" ForceSelect="false" AlsoSelect="Project_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Project"  ForceSelect="false" DefaultVisibility="false"/>
        <Field Alias="Health" Name="Health" EntityName="ProjectEVA" ForceSelect="false" IsCustomizable="true" ReportCustomizer="Health">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <!-- Financial fields -->
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ProjectProfit" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />
        <Field Name="InternalCost" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Cost" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ProjectProfitability" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />

        <Field Name="ProjectProfitHealth" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ProjectCostVariance" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BudgetedCost" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PlannedExpenses" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="TotalPayments" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ProjectExpectedRevenue" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="InternalEstimatedCost" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PercentageOfProjectBilled" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="WorkInProgress" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="TotalBilled" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ProjectTimeUsage" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BillingUtilization" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="EstimatedBudgetProfitability" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ActualBudgetProfitability" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="CPI" EntityName="ProjectEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Name="SPI" EntityName="ProjectEVA" ForceSelect="false" IsCustomizable="true" />

        <Field Name="PaymentID" EntityName="Payment" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="PaymentDate" EntityName="Payment" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Amount" EntityName="Payment" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Description" EntityName="Payment" ForceSelect="false" IsCustomizable="true"/>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="Customer"/>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
      <Filters>
        <Filter Name="b_Payment_Amount_Greater" Value="0" Type="Decimal"/>
      </Filters>
    </View>


    <View Name="ExpensesReportSource" RootEntityName="Payment" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Name" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Managers" Expression="dbo.ep_GetProjectManagers({0}.ProjectID, @CurrentUserID, ', ',{0}.AccountId)" EntityName="Project" IsCustomizable="true" ForceSelect="false" DefaultVisibility="true" ReportCustomizer="People">
          <Descriptor DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="Members" Expression="dbo.ep_GetProjectMembers({0}.ProjectID, @CurrentUserID, ', ',{0}.AccountId)" EntityName="Project" IsCustomizable="true" ForceSelect="false" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="StartDate" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="EndDate" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="BaselineStartDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="BaselineEndDate" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="StartDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="EndDateVariance" EntityName="Project" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="ActCompletionDate"  EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="CreationDate" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="ProjectStatus" IsCustomizable="true" ForceSelect="false" />
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Priority" IsCustomizable="true" ForceSelect="false" />
        <Field Name="PriorityOrder" EntityName="Priority" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Progress" EntityName="Project" IsCustomizable="true" ForceSelect="false" />
        <Field Name="TimeCost" EntityName="ProjectCost" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Expenses" EntityName="ProjectCost" IsCustomizable="true" ForceSelect="false" />
        <Field Name="TotalCost" EntityName="ProjectCost" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Customer" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="CreatorUser" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ProjectDueIn" Expression="(SELECT DATEDIFF(day, @now, {0}.EndDate))" EntityName="Project"
				   ForceSelect="false" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <!-- Portfolio fields -->
        <Field Name="PortfolioID" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Name" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true" ForceSelect="false" />
        <!--inner join bug in SqlQueryGenerator workaround-->
        <Field Name="PortfolioStatus" Expression="(SELECT TOP 1 [Name] FROM [dbo].[TT_PortfolioStatuses] WHERE [dbo].[TT_PortfolioStatuses].[AccountId] = {0}.[AccountId] AND [dbo].[TT_PortfolioStatuses].[PortfolioStatusID] = {0}.[PortfolioStatusID])" EntityName="Portfolio"
           DefaultVisibility="true" IsCustomizable="true" ForceSelect="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Duration" EntityName="Project" IsCustomizable="true" ForceSelect="false" AlsoSelect="Project_DurationHours" ReportCustomizer="Duration">
          <Descriptor AccessType="ReadOnly" DataType="Decimal" />
        </Field>
        <Field Name="DurationHours" EntityName="Project"  ForceSelect="false" DefaultVisibility="false"/>
        <Field Alias="Health" Name="Health" EntityName="ProjectEVA" ForceSelect="false" IsCustomizable="true" ReportCustomizer="Health">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
        <!-- Financial fields -->
        <Field Name="Budget" EntityName="ProjectAggregatedValues" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ProjectProfit" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />
        <Field Name="InternalCost" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />
        <Field Name="Cost" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />
        <Field Name="ProjectProfitability" EntityName="ProjectFinancials" IsCustomizable="true" ForceSelect="false" />

        <Field Name="ProjectProfitHealth" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ProjectCostVariance" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BudgetedCost" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PlannedExpenses" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="TotalPayments" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ProjectExpectedRevenue" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="InternalEstimatedCost" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="PercentageOfProjectBilled" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="WorkInProgress" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="TotalBilled" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ProjectTimeUsage" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="BillingUtilization" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="EstimatedBudgetProfitability" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="ActualBudgetProfitability" EntityName="ProjectFinancials" ForceSelect="false" IsCustomizable="true" />
        <Field Name="CPI" EntityName="ProjectEVA" ForceSelect="false" IsCustomizable="true" />
        <Field Name="SPI" EntityName="ProjectEVA" ForceSelect="false" IsCustomizable="true" />

        <Field Name="PaymentID" EntityName="Payment" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="PaymentDate" EntityName="Payment" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Amount" EntityName="Payment" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Description" EntityName="Payment" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Billable" EntityName="Payment" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Planned" EntityName="Payment" ForceSelect="false" IsCustomizable="true"/>
        <Field Name="Billed" EntityName="Payment" ForceSelect="false" IsCustomizable="true"/>

      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="Customer"/>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
      <Filters>
        <Filter Name="b_Payment_Amount_Less" Value="0" Type="Decimal"/>
      </Filters>
    </View>

    <View Name="ProjectGanttCharts" RootEntityName="Project" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" DefaultVisibility="false"  ForceSelect="true"/>
        <Field Name="Name" EntityName="Project" DefaultVisibility="false"  ForceSelect="true"/>
        <Field Name="Chart" Expression="null" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" Width="100"/>
        </Field>
      </Fields>
    </View>

    <View Name="UserGanttCharts" RootEntityName="User">
      <Fields>
        <Field Name="UserID" EntityName="User" DefaultVisibility="false"  ForceSelect="true"/>
        <Field Name="Name" EntityName="User" DefaultVisibility="false" ForceSelect="true"/>
        <Field Name="Chart" Expression="null" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" Width="100"/>
        </Field>
        <Field Name="Project_ProjectID" Expression="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="false">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
      </Fields>
    </View>

    <View Name="TasksForGanttChartsByProjects" RootEntityName="Task" TableFunctionName="GetTasksForGanttChartWithoutAssignees" AdditionalPermissionsRequired="false">
      <TableFunctionParameters>
        <Parameter>@accountId</Parameter>
        <Parameter>@UserID</Parameter>
        <Parameter>@ProjectID</Parameter>
        <Parameter>@dateFrom</Parameter>
        <Parameter>@dateTo</Parameter>
        <Parameter>@CurrentUserID</Parameter>
        <Parameter>@IsNullableDates</Parameter>
      </TableFunctionParameters>
      <Fields>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="UserNames" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="TaskDependencies" EntityName="Task" Cache="TaskDependentTasksString" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
      </Fields>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="" Type="String"/>
      </Filters>
    </View>

    <View Name="TasksForGanttChartsByUsers" RootEntityName="GCByUsersEntity" TableFunctionName="GetTasksForGanttChartWithAssignees" AdditionalPermissionsRequired="false">
      <TableFunctionParameters>
        <Parameter>@accountId</Parameter>
        <Parameter>@UserID</Parameter>
        <Parameter>@ProjectID</Parameter>
        <Parameter>@dateFrom</Parameter>
        <Parameter>@dateTo</Parameter>
        <Parameter>@CurrentUserID</Parameter>
        <Parameter>@IsNullableDates</Parameter>
      </TableFunctionParameters>
      <Fields>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="UserNames" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="TaskDependencies" EntityName="Task" Cache="TaskDependentTasksString" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String" />
        </Field>
      </Fields>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="" Type="String"/>
      </Filters>
    </View>

    <View Name="ParentTaskForParametersUpdate" RootEntityName="Task" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="SWFDependencyCount" EntityName="Task"
               Expression="(SELECT COUNT(*) FROM TT_TaskDependencies WHERE MasterTaskID = {0}.TaskID AND [Type]=@SWFDependencyType AND AccountId = {0}.AccountId)" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="SWSDependencyCount" EntityName="Task"
               Expression="(SELECT COUNT(*) FROM TT_TaskDependencies WHERE MasterTaskID = {0}.TaskID AND [Type]=@SWSDependencyType AND AccountId = {0}.AccountId)" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="ProjectID" EntityName="Task" DefaultVisibility="false" ForceSelect="true"/>
        <Field Name="ParentID" EntityName="Task" DefaultVisibility="false" ForceSelect="true"/>
        <Field Name="TaskTypeID" EntityName="Task" DefaultVisibility="false" ForceSelect="true"/>
        <Field Name="Budget" EntityName="Task" ForceSelect="true" DefaultVisibility="false" >
          <Descriptor DataType="Decimal"  AccessType="Optional"/>
        </Field>

      </Fields>
    </View>

    <View Name="CalendarWidgetMessage" RootEntityName="CalendarMessage" StoredProcedureName="GetCalendarMessage">
      <StoredProcedureParameters>
        <Parameter>@CustomerID</Parameter>
        <Parameter>@ProjectID</Parameter>
        <Parameter>@UserID</Parameter>
        <Parameter>@PortfolioID</Parameter>
        <Parameter>@StartPeriodDate</Parameter>
        <Parameter>@EndPeriodDate</Parameter>
        <Parameter>@PageNumber</Parameter>
        <Parameter>@PageSize</Parameter>
        <Parameter>@LengthTruncate</Parameter>
        <Parameter>@ShownMilestones</Parameter>
        <Parameter>@ShownEvents</Parameter>
        <Parameter>@CurrentUserID</Parameter>
        <Parameter>@AccountId</Parameter>
      </StoredProcedureParameters>
    </View>

    <!-- Test views -->
    <View Name="TestView" RootEntityName="Test" UseJoinSubqueryForPaging="true">
      <Fields>
        <Field Name="TestID" EntityName="Test" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Test"  DefaultVisibility="true"/>
        <Field Name="Name" EntityName="TestChild" DefaultVisibility="true"/>
        <Field Name="Date" EntityName="TestChild" DefaultVisibility="true"/>
        <Field Name="Amount" EntityName="TestChild" DefaultVisibility="true"/>
        <Field Alias="NotCustomizable" Name="TestID" EntityName="Test" DefaultVisibility="false" ForceSelect="false" IsCustomizable="false"/>
      </Fields>
    </View>

    <View Name="TestView2" RootEntityName="TestExpr">
      <Fields>
        <Field Name="TestID" EntityName="TestExpr" DefaultVisibility="true"/>
        <Field Name="Expr1" EntityName="TestExpr" DefaultVisibility="true"/>
        <Field Name="Expr2" EntityName="TestExpr" Expression="(SELECT '{0}')" DefaultVisibility="true">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
      </Fields>
    </View>

    <View Name="TestView3" RootEntityName="Test">
      <Fields>
        <Field Name="TestID" EntityName="Test" DefaultVisibility="true"/>
        <Field Name="Amount" EntityName="TestChild" DefaultVisibility="false" ForceSelTect="false"/>
        <Field Name="ExpressionField" Expression="case when TestChild.Amount > 1 then 'Text'" EntityName="TestChild" DefaultVisibility="true" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>

      </Fields>
    </View>

    <View Name="TestViewForAlsoSelect" RootEntityName="Test2">
      <Fields>
        <Field Name="TestID" EntityName="Test2" DefaultVisibility="true"/>
        <Field Name="Amount" EntityName="Test2" DefaultVisibility="false" ForceSelTect="false"/>
        <Field Name="Name" EntityName="Test2" AlsoSelect="Test2_Amount" DefaultVisibility="false" ForceSelTect="false"/>
        <Field Name="Date" EntityName="Test2" AlsoSelect="Test2_Amount" DefaultVisibility="false" ForceSelTect="false"/>
        <Field Name="Description" EntityName="Test2" AlsoSelect="Test2_Name" DefaultVisibility="false" ForceSelTect="false"/>
        <Field Name="TestField1" EntityName="Test2" DefaultVisibility="false" ForceSelTect="false"/>
        <Field Name="TestField2" EntityName="Test2" DefaultVisibility="false" ForceSelTect="false"/>
        <Field Name="TestField3" EntityName="Test2" AlsoSelect="Test2_TestField1,Test2_TestField2" DefaultVisibility="false" ForceSelTect="false"/>
      </Fields>
    </View>

    <View Name="TestViewAdditionalWhere" RootEntityName="TestWithAdditionWhere" AdditionalWhereRequired="false">
      <Fields>
        <Field Name="ID" EntityName="TestWithAdditionWhere" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="TestViewFilterEmptyString" RootEntityName="Test">
      <Fields>
        <Field Name="TestID" EntityName="Test" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Test"  DefaultVisibility="true"/>
      </Fields>
      <Filters>
        <Filter Name="b_TestViewEmptyString_Name_NotEqual" Value="" Type="String"/>
        <Filter Name="b_TestViewEmptyString_Name_NotNull"/>
      </Filters>
    </View>

    <View Name="TestProjectView" RootEntityName="Project">
      <Fields>
        <Field Alias="ID" Name="ProjectID" EntityName="Project" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="TestTaskView" RootEntityName="Task">
      <Fields>
        <Field Alias="TId" Name="TaskID" EntityName="Task" DefaultVisibility="true"/>
        <Field Alias="PrID" Name="ProjectID" EntityName="Project" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="TestTimeEntryView" RootEntityName="TimeEntry">
      <Fields>
        <Field Alias="TeId" Name="TimeEntryID" EntityName="TimeEntry" DefaultVisibility="true"/>
        <Field Alias="TID" Name="TaskID" EntityName="Task" DefaultVisibility="true"/>
        <Field Alias="PrID" Name="ProjectID" EntityName="Project" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="TestPortfolioWithProjectView" RootEntityName="Portfolio">
      <Fields>
        <Field Name="PortfolioID" EntityName="Portfolio" DefaultVisibility="true"/>
        <Field Name="ProjectID" EntityName="Project" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="TestProjectViewWithIncludes" RootEntityName="Project" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Alias="ID" Name="ProjectID" EntityName="Project" DefaultVisibility="true"/>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
        <CustomFieldsInclude EntityName="Customer"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="TaskWithCriticalPath" RootEntityName="Task" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Alias="TaskId" Name="TaskID" EntityName="Task" ForceSelect="true" />
        <Field Alias="IsCriticalPath" Name="IsCriticalPath" EntityName="TaskCriticalPath" ForceSelect="true" />
        <Field Alias="ProjectID" Name="ProjectID" EntityName="TaskCriticalPath" ForceSelect="true" />
      </Fields>
    </View>

    <View Name="TestViewWithMaxLength" RootEntityName="Test" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TestID" EntityName="Test" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Test" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory" DataType="String" MaxLength ="23"/>
        </Field>
      </Fields>
    </View>

    <View Name="TestForRequaredIfAll" RootEntityName="Task" AdditionalPermissionsRequired="false" EnableAPI="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="false" RequiredIfAll="Task_StartDate, Task_Name" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
    </View>

    <View Name="TestForRequaredIfAllWithForceSelect" RootEntityName="Task" AdditionalPermissionsRequired="false" EnableAPI="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" RequiredIfAll="Task_StartDate, Task_Name" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
    </View>

    <View Name="TestForRequaredIfAny" RootEntityName="Task" AdditionalPermissionsRequired="false" EnableAPI="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="false" DefaultVisibility="false" IsCustomizable="true"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="false" RequiredIfAny="Task_StartDate, Task_Name" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
    </View>

    <View Name="TestConventionalView" RootEntityName="Task" AdditionalPermissionsRequired="true" EnableAPI="false">
      <Fields>
        <Field Alias="TaskID" Name="TaskID" EntityName="Task" ForceSelect="true" />
        <Field Alias="TaskId" Name="TaskID" EntityName="Task" ForceSelect="true" />
        <Field Alias="IsCriticalPath" Name="IsCriticalPath" EntityName="TaskCriticalPath" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" />
        </Field>
        <Field Alias="Name" Name="Name" EntityName="Task" ForceSelect="true" />
        <Field Alias="ProjectID" Name="ProjectID" EntityName="Task" ForceSelect="true" />
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="UserNames" EntityName="Task" ForceSelect="true">
          <Descriptor DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="AssigneesID" Cache="TaskAssignees" CacheOptions="UserIDs" EntityName="Task" ForceSelect="true">
          <Descriptor DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="IsCurrentUserAssignee" Cache="TaskIsCurrentUserAssignee" EntityName="Task" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Alias="Progress" Name="Progress" EntityName="Task" ForceSelect="true" />
        <Field Alias="TaskTypeID" Name="TaskTypeID" EntityName="Task" ForceSelect="true">
          <Descriptor AccessType="Mandatory" />
        </Field>
        <Field Name="Name" EntityName="TaskType" ForceSelect="true" />
        <Field Name="TaskStatusID" EntityName="Task" ForceSelect="true">
          <Descriptor AccessType="Mandatory" />
        </Field>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="true" />
        <Field Name="IsIconEmpty" EntityName="TaskStatus" ForceSelect="true" />
        <Field Name="IconHash" EntityName="TaskStatus" ForceSelect="true" />
        <Field Name="CategoryID" EntityName="Task" ForceSelect="true">
          <Descriptor AccessType="Optional" />
        </Field>
        <Field Name="Name" EntityName="Category" ForceSelect="true" />
        <Field Alias="StartDate" Name="StartDate" EntityName="Task" ForceSelect="true" />
        <Field Alias="EndDate" Name="EndDate" EntityName="Task" ForceSelect="true" />
        <Field Name="MasterTaskCount" EntityName="Task" Cache="TaskMasterTasksCount" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" />
        </Field>
        <Field Alias="Duration" Name="Duration" EntityName="Task" ForceSelect="true" />
        <Field Alias="IsEndDateSelected" Name="IsEndDateSelected" EntityName="Task" ForceSelect="true">
          <Descriptor DataType="Bool" AccessType="ReadOnly" />
        </Field>
        <Field Alias="EstimatedHours" Name="EstimatedHours" EntityName="Task" ForceSelect="true" />
        <Field Name="EstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" />
        </Field>
        <Field Name="ChildsEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" />
        </Field>
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" />
        </Field>
        <Field Alias="HoursLeft" Name="HoursLeft" EntityName="Task" ForceSelect="true" />
        <Field Alias="ActualCompletionDate" Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" />
        <Field Name="PriorityOrder" EntityName="TaskPriority" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" />
        </Field>
        <Field Name="PriorityID" EntityName="TaskPriority"  ForceSelect="true">
          <Descriptor AccessType="Mandatory" />
        </Field>
        <Field Name="Name" EntityName="TaskPriority"  ForceSelect="true">
          <Descriptor AccessType="Mandatory" />
        </Field>
        <Field Alias="PriorityID" Name="PriorityID" EntityName="Task"  ForceSelect="true">
          <Descriptor AccessType="Mandatory" />
        </Field>
        <Field Alias="Cost" Name="Cost" EntityName="Task" ForceSelect="true" />
        <Field Name="Budget" EntityName="TaskAggregatedValues" ForceSelect="true">
          <Descriptor DataType="Decimal" AccessType="ReadOnly" />
        </Field>
        <Field Name="UserID" EntityName="TaskCreatorUser" ForceSelect="true" />
        <Field Name="Name" EntityName="TaskCreatorUser" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" />
        </Field>
        <Field Alias="CreationDate" Name="CreationDate" EntityName="Task" ForceSelect="true" />
        <Field Alias="IsMilestone" Name="IsMilestone" EntityName="Task" ForceSelect="true">
          <Descriptor DataType="Bool" AccessType="Mandatory" />
        </Field>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" />
        <Field Alias="ParentID" Name="ParentID" EntityName="Task" ForceSelect="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" />
        <Field Name="ProjectStatusID" EntityName="Project" ForceSelect="true" />
        <Field Name="CanCompleteParent" Expression="null" EntityName="Task" ForceSelect="true">
          <Descriptor DataType="Bool" AccessType="ReadOnly" />
        </Field>
        <Field Name="IsParentCompleted" Expression="dbo.ep_IsParentCompleted({0}.TaskID, {0}.AccountId)" EntityName="Task" ForceSelect="true">
          <Descriptor DataType="Bool" AccessType="ReadOnly" />
        </Field>
        <Field Name="Task_HasChild" Expression="0" EntityName="Task" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" DataType="Bool" />
        </Field>
        <Field Name="IsExpanded" EntityName="TaskExpand" ForceSelect="true">
          <Descriptor DataType="Bool" AccessType="Mandatory" />
        </Field>
        <Field Alias="Approved" Name="Approved" EntityName="Task" ForceSelect="true">
          <Descriptor DataType="Bool" AccessType="ReadOnly" />
        </Field>
        <Field Name="Health" EntityName="TaskEVA" ForceSelect="true">
          <Descriptor DataType="Integer" AccessType="ReadOnly" />
        </Field>
      </Fields>
    </View>

    <!-- Import views -->
    <View Name="TasksImport" RootEntityName="Task" SelectDistinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Description" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor MaxLength="MAX" />
        </Field>
        <Field Name="CreationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="IsMilestone" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Bool" AccessType="Optional"/>
        </Field>
        <Field Name="Name" EntityName="Priority" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" />
        </Field>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" />
        </Field>
        <Field Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" />
        </Field>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" />
        </Field>
        <!-- This key is fake. Need for start work import assignees -->
        <Field Name="Assignees" Expression="null" EntityName="Task" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="2" />
        <CustomFieldsInclude EntityName="Task" CustomFieldEntityID="8" />
      </CustomFieldsIncludes>
    </View>

    <View Name="ProjectsImport" RootEntityName="Project" SelectDictinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="ActCompletionDate" EntityName="Project" DefaultVisibility="true" />
        <Field Name="Progress" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional" />
        </Field>
        <Field Name="Description" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" MaxLength="MAX"/>
        </Field>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" />
        </Field>
        <Field Name="Name" EntityName="Priority" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" />
        </Field>
        <Field Name="Name" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" />
        </Field>
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" />
        </Field>
        <Field Name="EstimatedHours" EntityName="Project" ForceSelect="true" DefaultVisibility="true" />
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project" CustomFieldEntityID="1"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="UsersImport" RootEntityName="User" SelectDictinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Login" EntityName="User" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="EMail" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Mandatory" />
        </Field>
        <Field Name="Enabled" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Bool" AccessType="Optional" />
        </Field>
        <Field Name="CanLogin" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Bool" AccessType="Optional" />
        </Field>
        <Field Name="HourlyRate" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional" />
        </Field>
        <Field Name="HourlyRateInternal" EntityName="User" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional" />
        </Field>
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional" />
        </Field>
        <Field Name="Password" Expression="null" EntityName="User" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Mandatory" MaxLength="100"/>
        </Field>
        <Field Name="Name" Expression="null" EntityName="Role" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional"/>
        </Field>
        <Field Name="Teams" Expression="null" EntityName="User" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional"/>
        </Field>
        <Field Name="Skills" Expression="null" EntityName="User" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="Optional"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="User" CustomFieldEntityID="6"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="TimeEntriesImport" RootEntityName="TimeEntry" SelectDictinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TimeEntryID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="EntryDate" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Duration" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Description" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Billable" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Bool" AccessType="Optional" />
        </Field>
        <Field Name="UserID" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="LastModificationDate" EntityName="TimeEntry" ForceSelect="true" DefaultVisibility="false" />
      </Fields>
    </View>

    <View Name="CustomersImport" RootEntityName="Customer" SelectDictinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="CustomerID" EntityName="Customer" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Enabled" EntityName="Customer" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Bool" AccessType="Optional"/>
        </Field>
        <Field Name="Description" EntityName="Customer" ForceSelect="true" DefaultVisibility="true">
          <Descriptor MaxLength="2000"/>
        </Field>
        <Field Name="Address1" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Address2" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="City" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="State" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Country" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="PostalCode" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Phone1" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Phone2" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="Fax" EntityName="Customer" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="HourlyRate" EntityName="Customer" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="Decimal" AccessType="Optional"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Customer" CustomFieldEntityID="5"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="InteractiveListActivityAssignee" RootEntityName="TaskAssignee" SelectDictinctRows="false" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskAssigneeID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="TaskID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false" />
        <Field Name="UserID" EntityName="TaskAssignee" ForceSelect="true" DefaultVisibility="false" />
      </Fields>
    </View>

    <View Name="CNRDetail" RootEntityName="Notification">
      <Fields>
        <Field Name="NotificationID" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="IsSystem" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Recipients" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="NotifyCreator" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="NotifyWhoMadeChange" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskAdd" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskEdit" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskAssign" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskComplete" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskDelete" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskLate" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueAdd" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueEdit" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueAssign" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueComplete" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueDelete" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueLate" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestAdd" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestEdit" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestAssign" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestComplete" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestDelete" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestLate" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventMessageAdd" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventTaskCanStart" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventIssueCanStart" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EventRequestCanStart" EntityName="Notification" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <!-- Client portal -->

    <View Name="ClientsPortalProjectsExt" RootEntityName="Project" SelectDistinctRows="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Description" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CreationDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectStatusID" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="PortfolioID" EntityName="Project" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Status" EntityName="Project" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT [Name] FROM [TT_ProjectStatuses] WHERE [TT_ProjectStatuses].[ProjectStatusID] = {0}.[ProjectStatusID] AND [TT_ProjectStatuses].[AccountId] = {0}.[AccountId])">
          <Descriptor DataType="String" AccessType="Mandatory" />
        </Field>
        <Field Name="MessagesCount" EntityName="Project" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT COUNT(*) FROM [TT_Messages] WHERE ([TT_Messages].[ProjectID] = {0}.ProjectID AND [TT_Messages].[AccountId] = {0}.[AccountId] AND [TT_Messages].HasMessageText = 1) AND (SELECT TOP 1 [TT_Options].[ProjectMessagesAttachmentsVisibleForLA] FROM [TT_Options] WHERE [TT_Options].AccountId = @accountId) = 1)">
          <Descriptor DataType="Integer" AccessType="Mandatory" />
        </Field>
        <Field Name="AttachmentsCount" EntityName="Project" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT COUNT(*) FROM [dbo].[VV_ProjectAttachments] WHERE [VV_ProjectAttachments].[ProjectID] = {0}.[ProjectID] AND [VV_ProjectAttachments].[AccountId] = {0}.[AccountId] AND [VV_ProjectAttachments].[MessageID] IS NOT NULL AND (SELECT TOP 1 [TT_Options].[ProjectMessagesAttachmentsVisibleForLA] FROM [TT_Options] WHERE [TT_Options].AccountId = @accountId) = 1)">
          <Descriptor DataType="Integer" AccessType="Mandatory"/>
        </Field>
        <Field Name="ActivitiesCount"  EntityName="Project" ForceSelect="true" DefaultVisibility="true"  Expression="dbo.ep_ClientPortal_GetCountOfProjectActivities({0}.[ProjectID], @CurrentUserID,{0}.AccountId)">
          <Descriptor DataType="Integer" AccessType="Mandatory"/>
        </Field>
        <Field Name="LastMessagePostDate"  EntityName="Project" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT MAX(PostDate) FROM [VV_ClientsPortal_Messages] WHERE [VV_ClientsPortal_Messages].[ProjectID] = {0}.ProjectID AND [VV_ClientsPortal_Messages].[AccountId] = {0}.AccountId)">
          <Descriptor DataType="Date" AccessType="ReadOnly"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project" CustomFieldEntityID="1"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="ClientsPortalProjectMember" RootEntityName="ProjectMember" SelectDistinctRows="false">
      <Fields>
        <Field Name="ProjectMemberID" EntityName="ProjectMember" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EMail" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="AvatarHash" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="RoleID" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="InternalRoleID" EntityName="Role" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="ClientsPortalActivities" RootEntityName="Task" SelectDistinctRows="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TaskStatusID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Status" EntityName="Task" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT [Name] FROM [TT_TaskStatuses] WHERE [TT_TaskStatuses].[TaskStatusID] = {0}.[TaskStatusID] AND [TT_TaskStatuses].[AccountId] = {0}.[AccountId])">
          <Descriptor DataType="String" AccessType="Mandatory"/>
        </Field>
        <Field Name="WorkIsDone" EntityName="Task" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT ta.WorkIsDone FROM TT_TaskAssignees ta WHERE ta.[TaskID] = {0}.TaskID and ta.UserID = @CurrentUserID AND ta.AccountId = {0}.AccountId )">
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>
        <Field Name="CreationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="MessagesCount" EntityName="Task" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT COUNT(*) FROM [TT_Messages] WHERE ([TT_Messages].[TaskID] = {0}.TaskID) AND [TT_Messages].[AccountId] = {0}.AccountId AND [TT_Messages].HasMessageText = 1)">
          <Descriptor DataType="Integer" AccessType="Mandatory"/>
        </Field>
        <Field Name="AttachmentsCount" EntityName="Task" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT COUNT(*) FROM dbo.VV_TaskAttachments WHERE [VV_TaskAttachments].[TaskID] = {0}.[TaskID] AND [VV_TaskAttachments].[AccountId] = {0}.[AccountId] AND [VV_TaskAttachments].[MessageID] IS NOT NULL)">
          <Descriptor DataType="Integer" AccessType="Mandatory"/>
        </Field>
        <Field Name="LastMessagePostDate"  EntityName="Task" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT MAX(PostDate) FROM [VV_ClientsPortal_Messages] WHERE [VV_ClientsPortal_Messages].[TaskID] = {0}.TaskID AND [VV_ClientsPortal_Messages].[AccountId] = {0}.AccountId )">
          <Descriptor DataType="Date" AccessType="ReadOnly"/>
        </Field>
      </Fields>
    </View>

    <View Name="ClientsPortalActivityDetails" RootEntityName="Task" SelectDistinctRows="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CategoryID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TaskStatusID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor DataType="String" AccessType="ReadOnly"/>
        </Field>
        <Field Name="WorkIsDone" EntityName="Task" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT ta.WorkIsDone FROM TT_TaskAssignees ta WHERE ta.[TaskID] = {0}.TaskID and ta.UserID = @CurrentUserID AND ta.AccountId = {0}.AccountId )">
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Description" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="PortfolioID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="MessagesCount" EntityName="Task" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT COUNT(*) FROM [TT_Messages] WHERE ([TT_Messages].[TaskID] = {0}.TaskID) AND [TT_Messages].AccountId = {0}.AccountId AND [TT_Messages].HasMessageText = 1)">
          <Descriptor DataType="Integer" AccessType="Mandatory"/>
        </Field>
        <Field Name="AttachmentsCount" EntityName="Task" ForceSelect="true" DefaultVisibility="true" Expression="(SELECT COUNT(*) FROM dbo.VV_TaskAttachments WHERE [VV_TaskAttachments].[TaskID] = {0}.[TaskID] AND [VV_TaskAttachments].AccountId = {0}.AccountId AND [VV_TaskAttachments].[MessageID] IS NOT NULL)">
          <Descriptor DataType="Integer" AccessType="Mandatory"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task"/>
      </CustomFieldsIncludes>
    </View>

    <!-- API -->

    <View Name="APITaskList" RootEntityName="Task" AdditionalPermissionsRequired="true"  SelectDistinctRows="false" UseJoinSubqueryForPaging="true" EnableAPI="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="1"/>
        </Field>

        <Field Alias="IsCriticalPath" Name="IsCriticalPath" EntityName="TaskCriticalPath" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="1" AccessType ="ReadOnly"/>
        </Field>

        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor Width="36" OpensEntity="true"/>
        </Field>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="UserNames" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="AssigneesID" Cache="TaskAssignees" CacheOptions="UserIDs" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor DataType="String" AccessType="ReadOnly"/>
        </Field>
        <Field Name="IsCurrentUserAssignee" Cache="TaskIsCurrentUserAssignee"
            EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="TaskType" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="TaskStatusID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="IsIconEmpty" EntityName="TaskStatus" DefaultVisibility="true" ForceSelect="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="IconHash" EntityName="TaskStatus" DefaultVisibility="true" ForceSelect="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="CategoryID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="11"/>
        </Field>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="11"/>
        </Field>
        <Field Name="MasterTaskCount" EntityName="Task" Cache="TaskMasterTasksCount" ForceSelect="true" DefaultVisibility="false" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" Width="1" DataType="Integer"/>
        </Field>
        <Field Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor Width="0"/>
        </Field>
        <Field Name="IsEndDateSelected" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="EstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor AccessType="ReadOnly" Width="5"/>
        </Field>
        <Field Name="ChildsEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor AccessType="ReadOnly" Width="5"/>
        </Field>
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5" AccessType="ReadOnly"/>
        </Field>
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="false">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="PriorityOrder" EntityName="TaskPriority" DefaultVisibility="false" IsCustomizable="true" ForceSelect="true">
          <Descriptor Width="5" AccessType="ReadOnly"/>
        </Field>
        <Field Name="PriorityID" EntityName="TaskPriority" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor Width="5" AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="TaskPriority" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="5" AccessType="Mandatory"/>
        </Field>
        <Field Name="PriorityID" EntityName="Task" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor Width="5" AccessType="Mandatory"/>
        </Field>
        <Field Name="Cost" EntityName="Task" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="Budget" EntityName="TaskAggregatedValues" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="Decimal"  AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="UserID" EntityName="TaskCreatorUser" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false"/>
        <Field Name="Name" EntityName="TaskCreatorUser" DefaultVisibility="false" IsCustomizable="true" IncludeInCustomFilters="true" ForceSelect="true">
          <Descriptor Width="10" AccessType="ReadOnly"/>
        </Field>
        <Field Name="CreationDate" EntityName="Task" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="IsMilestone" EntityName="Task" DefaultVisibility="true" IsCustomizable="false" ForceSelect="true" IncludeInCustomFilters="true">
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>

        <Field Name="LastModificationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />

        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false"/>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false"/>
        <Field Name="ProjectStatusID" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false"/>
        <Field Name="CanCompleteParent" Expression="null" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Task_HasChild" Expression="0" EntityName="Task" DefaultVisibility="true" ForceSelect="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor AccessType="ReadOnly" DataType="Bool"/>
        </Field>
        <Field Name="IsExpanded" EntityName="TaskExpand" DefaultVisibility="true" IsCustomizable="false" ForceSelect="true" IncludeInCustomFilters="false">
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>
        <Field Name="Approved" EntityName="Task" DefaultVisibility="true" IsCustomizable="true" ForceSelect="true" IncludeInCustomFilters="true">
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Health" EntityName="TaskEVA" DefaultVisibility="true" IsCustomizable="true" ForceSelect="false" IncludeInCustomFilters="true">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task"/>
      </CustomFieldsIncludes>
    </View>

    <!-- mostly for zapier-->
    <View Name="APITaskFlatList" RootEntityName="Task" AdditionalPermissionsRequired="true"  SelectDistinctRows="false" EnableAPI="true" APIResultLimit="300" SkipPermissionFields="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>

        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor Width="36" OpensEntity="true"/>
        </Field>

        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true"  IsCustomizable="false"/>
        <Field Name="CustomerID" EntityName="Project" ForceSelect="true" DefaultVisibility="true"  IsCustomizable="false"/>
        <Field Name="Name" EntityName="Customer" ForceSelect="true" DefaultVisibility="true"  IsCustomizable="false"/>

        <Field Name="Assignees" Cache="TaskAssignees" CacheOptions="UserNames" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor DataType="String" AccessType="ReadOnly" Width="10"/>
        </Field>

        <Field Name="IsCurrentUserAssignee" Cache="TaskIsCurrentUserAssignee"
            EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="TaskType" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="TaskStatusID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="Mandatory"/>
        </Field>
        <Field Name="Name" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="7"/>
        </Field>

        <Field Name="CategoryID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="Name" EntityName="Category" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="11"/>
        </Field>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="11"/>
        </Field>

        <Field Name="Duration" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor Width="0"/>
        </Field>
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="EstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor AccessType="ReadOnly" Width="5"/>
        </Field>
        <Field Name="ChildsEstimatedHours" EntityName="TaskAggregatedValues" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor AccessType="ReadOnly" Width="5"/>
        </Field>
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5" AccessType="ReadOnly"/>
        </Field>
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="false">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="ActualCompletionDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="Name" EntityName="TaskPriority" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="5" AccessType="Mandatory"/>
        </Field>
        <Field Name="PriorityID" EntityName="Task" DefaultVisibility="true" IsCustomizable="false">
          <Descriptor Width="5" AccessType="Mandatory"/>
        </Field>
        <Field Name="Cost" EntityName="Task" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="Budget" EntityName="TaskAggregatedValues" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="Decimal"  AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="UserID" EntityName="TaskCreatorUser" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false"/>
        <Field Name="Name" EntityName="TaskCreatorUser" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true" ForceSelect="true">
          <Descriptor Width="10" AccessType="ReadOnly"/>
        </Field>
        <Field Name="CreationDate" EntityName="Task" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="IsMilestone" EntityName="Task" DefaultVisibility="true" IsCustomizable="false" ForceSelect="true" IncludeInCustomFilters="true">
          <Descriptor DataType="Bool" AccessType="Mandatory"/>
        </Field>

        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false"/>
        <Field Name="ParentTaskName" Alias="ParentTaskName" ExpressionKey="Task_ParentTaskName" EntityName="Task" ForceSelect="true" DefaultVisibility="false">
          <Descriptor AccessType="ReadOnly" DataType="String"/>
        </Field>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false"/>

        <Field Name="ProjectStatusID" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false"/>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false"/>

        <Field Name="PortfolioID" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false"/>
        <Field Name="Name" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false"/>

        <Field Name="Approved" EntityName="Task" DefaultVisibility="true" IsCustomizable="true" ForceSelect="true" IncludeInCustomFilters="true">
          <Descriptor DataType="Bool" AccessType="ReadOnly"/>
        </Field>

        <Field Name="LastModificationDate" EntityName="Task" ForceSelect="true" DefaultVisibility="true" />
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task"/>
      </CustomFieldsIncludes>
    </View>


    <!-- Don't delete HierarchicalStoredProcedure="GetTaskDirectHeirs" attribute, it is not used now! it is just a marker! -->
    <View Name="APITaskNamesList" RootEntityName="Task" HierarchicalStoredProcedure="GetTaskDirectHeirs" AdditionalPermissionsRequired="false" EnableAPI="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ParentID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Progress" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EstimatedHours" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ActualHours" EntityName="TaskAggregatedValues" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="TreatAsCompleted" EntityName="TaskStatus" ForceSelect="true" DefaultVisibility="true"/>

        <Field Name="UserActualHours" Expression="(SELECT sum(Duration) FROM TT_TimeEntries WHERE TaskID = {0}.TaskID AND UserID = @CurrentUserID AND AccountId = {0}.AccountId)"
 EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" DataType="Decimal"/>
        </Field>
        <Field Name="HasChildren" Expression="(CASE WHEN EXISTS (SELECT * FROM TT_Tasks t WHERE t.ParentID = {0}.TaskID AND t.AccountId = {0}.AccountId) THEN 1 ELSE 0 END)"
 EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" DataType="Bool"/>
        </Field>
        <Field Name="WBSNumber" EntityName="Task" ForceSelect="true" DefaultVisibility="false" IsCustomizable="false"/>
      </Fields>
      <Filters>
        <Filter Name="TaskHierarchyIndent" Value="—" Type="String" />
      </Filters>
    </View>

    <View Name="APIPortfolioList" RootEntityName="Portfolio" SelectDistinctRows="false" EnableAPI="true">
      <Fields>
        <Field Name="PortfolioID" EntityName="Portfolio" DefaultVisibility="false" ForceSelect="true" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Portfolio" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor DataType="String" Width="37" OpensEntity="true" />
        </Field>
        <Field Name="ManagersSeparateLines" EntityName="Portfolio" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor Width="15"/>
        </Field>
        <Field Name="Description" EntityName="Portfolio" IsCustomizable="true">
          <Descriptor Width="62"/>
        </Field>
        <Field Name="Members" EntityName="Portfolio" IsCustomizable="true">
          <Descriptor Width="62"/>
        </Field>
        <Field Name="HasProjects" EntityName="Portfolio" DefaultVisibility="true" IsCustomizable="false" ForceSelect="true">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
        <Field Name="HasOpenProjects" EntityName="Portfolio" Expression="(CASE WHEN EXISTS (SELECT 1 FROM TT_Projects JOIN TT_ProjectStatuses ON TT_Projects.ProjectStatusID = TT_ProjectStatuses.ProjectStatusID AND TT_Projects.AccountId = TT_ProjectStatuses.AccountId WHERE TT_Projects.PortfolioID = {0}.PortfolioID AND TT_ProjectStatuses.TreatAsCompleted = 0 AND TT_Projects.AccountId = {0}.AccountId) THEN 1 ELSE 0 END)" DefaultVisibility="true" IsCustomizable="false" ForceSelect="true">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Name" EntityName="PortfolioCategory" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="Name" EntityName="PortfolioStatus" ForceSelect="true" DefaultVisibility="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="Icon" EntityName="PortfolioStatus" Expression="NULL" DefaultVisibility="true" ForceSelect="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor Width="1"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
      <Filters>
        <Filter Name="ShowCompletedPortfolios"/>
      </Filters>
    </View>

    <View Name="APIProjectList" RootEntityName="Project" SelectDistinctRows="false" EnableAPI="true">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" DefaultVisibility="true" ForceSelect="true" IsCustomizable="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer" Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="false" IncludeInCustomFilters="true">
          <Descriptor DataType="String" Width="37" OpensEntity="true" />
        </Field>
        <Field Alias="Project_Managers" Name="Managers" Expression="dbo.ep_GetProjectManagers({0}.ProjectID, @CurrentUserID, char(10),{0}.AccountId)" EntityName="Project" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="15" DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="Name" EntityName="Customer" DefaultVisibility="true" ForceSelect="true" IsCustomizable="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="Name" EntityName="Priority" DefaultVisibility="true" ForceSelect="true" IsCustomizable="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="Progress" EntityName="Project" DefaultVisibility="true" ForceSelect="true" IsCustomizable="true">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="EstimatedHours" EntityName="ProjectAggregatedValues" ForceSelect="false" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="Name" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="7"/>
        </Field>
        <Field Name="IsIconEmpty" EntityName="ProjectStatus" DefaultVisibility="true" ForceSelect="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="IconHash" EntityName="ProjectStatus" DefaultVisibility="true" ForceSelect="true" IsCustomizable="false" IncludeInCustomFilters="false">
          <Descriptor Width="1"/>
        </Field>
        <Field Alias="Project_Members" Name="Members" Expression="dbo.ep_GetProjectMembers({0}.ProjectID, @CurrentUserID, char(10),{0}.AccountId)" EntityName="Project" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="15" DataType="String" AccessType="ReadOnly" />
        </Field>
        <Field Name="ActCompletionDate" EntityName="Project" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="ActualHours" EntityName="ProjectAggregatedValues" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="PriorityOrder" EntityName="Priority" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true" ForceSelect="true">
          <Descriptor Width="5" AccessType="ReadOnly"/>
        </Field>
        <Field Name="Cost" EntityName="ProjectCost" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="5"/>
        </Field>
        <Field Name="Name" EntityName="CreatorUser" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="15" AccessType="ReadOnly"/>
        </Field>
        <Field Name="CreationDate" EntityName="Project" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="10"/>
        </Field>
        <Field Name="PortfolioID" EntityName="Project" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true" ForceSelect="true">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
        <Field Name="Name" EntityName="Portfolio" DefaultVisibility="true" IsCustomizable="true" IncludeInCustomFilters="true">
          <Descriptor Width="15" AccessType="ReadOnly"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true"/>
        <Field Name="Budget" EntityName="ProjectAggregatedValues" ForceSelect="false" IncludeInCustomFilters="true" DefaultVisibility="true"  IsCustomizable="true">
          <Descriptor DataType="Decimal"  AccessType="ReadOnly" Width="10"/>
        </Field>
        <Field Name="Health" EntityName="ProjectEVA" DefaultVisibility="true" IsCustomizable="true" ForceSelect="false" IncludeInCustomFilters="true">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="APIProjectNamesList" RootEntityName="Project" EnableAPI="true">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true"/>
        <Field Name="Name" EntityName="Project" ForceSelect="true"/>
      </Fields>
    </View>


    <View Name="UserInfo" RootEntityName="User">
      <Fields>
        <Field Alias="UserID" Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="Name" Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="CustomerID" Name="CustomerID" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="RoleID" Name="RoleID" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Alias="AvatarHash" Name="AvatarHash" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="EPMembershipUser" RootEntityName="User" SelectDistinctRows="false">
      <Fields>
        <Field Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Login" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Password" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="EMail" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="RecoverConfirmCode" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Enabled" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CanLogin" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="HourlyRate" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ShowCompletedTasks" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ShowCompletedProjects" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ShowCompletedPortfolios" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ShowAvatars" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Avatar" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="IsAvatarEmpty" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="AvatarHash" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="DefaultPage" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="LastActivityDate" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="PasswordModifyDate" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="InvalidPasswordAttemptsCount" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="LastLockoutDate" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="CustomerID" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="RoleID" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="PresetID" EntityName="User" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="ProjectForOverview" RootEntityName="Project" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" DefaultVisibility="false">
          <Descriptor Width="1"/>
        </Field>
        <Field Name="Name" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" Width="46"/>
        </Field>
        <Field Name="Progress" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" Width="1"/>
        </Field>
        <Field Name="StartDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" Width="13"/>
        </Field>
        <Field Name="EndDate" EntityName="Project" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="ReadOnly" Width="13"/>
        </Field>
        <Field Name="TreatAsCompleted" EntityName="ProjectStatus" ForceSelect="true" DefaultVisibility="false" />
      </Fields>
    </View>

    <View Name="MilestoneForOverview" RootEntityName="Task" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <View Name="FormWithItemsCount" RootEntityName="Form" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Alias="FormID" Name="FormID" EntityName="Form" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Status" Name="Status" EntityName="Form" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Title" Name="Title" EntityName="Form" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="Description" Name="Description" EntityName="Form" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="DateCreated" Name="DateCreated" EntityName="Form" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="DateEdited" Name="DateEdited" EntityName="Form" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="ItemsCount" Name="ItemsCount" EntityName="Form" ForceSelect="true" DefaultVisibility="false" Expression="(SELECT COUNT(*) FROM TT_FormRecords fr WHERE fr.FormID = {0}.FormID AND fr.AccountId = {0}.AccountId)">
          <Descriptor DataType="Integer" AccessType="ReadOnly"/>
        </Field>
        <Field Alias="UserName" Name="Name" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="UserID" Name="UserID" EntityName="User" ForceSelect="true" DefaultVisibility="false"/>
        <Field Alias="EditedByName" Name="Name" EntityName="EditedBy" ForceSelect="true" DefaultVisibility="false"/>
      </Fields>
    </View>

    <!-- New Resource Loading -->
    <View Name="TasksForResourceLoading" RootEntityName="Task" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="true" />
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" />
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" />
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="true" />
        <Field Name="StartDateLag" EntityName="Task" ForceSelect="true" />
        <Field Name="EndDateLag" EntityName="Task" ForceSelect="true" />
      </Fields>
    </View>

    <View Name="TasksForResourceLoadingReport" RootEntityName="Task" AdditionalPermissionsRequired="true">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="true" />
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="true" />
        <Field Name="StartDate" EntityName="Task" ForceSelect="true" />
        <Field Name="EndDate" EntityName="Task" ForceSelect="true" />
        <Field Name="HoursLeft" EntityName="Task" ForceSelect="true" />
        <Field Name="StartDateLag" EntityName="Task" ForceSelect="true" />
        <Field Name="EndDateLag" EntityName="Task" ForceSelect="true" />
      </Fields>
    </View>

    <!-- Search -->
    <View Name="PortfoliosForSearch" RootEntityName="Portfolio" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="PortfolioID" EntityName="Portfolio" ForceSelect="true" />
        <Field Name="Name" EntityName="Portfolio" ForceSelect="true" />
        <Field Name="Description" EntityName="Portfolio" ForceSelect="true" />
        <Field Name="CreationDate" EntityName="Portfolio" ForceSelect="true" />
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Portfolio"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="ProjectsForSearch" RootEntityName="Project" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="true" />
        <Field Name="Description" EntityName="Project" ForceSelect="true" />
        <Field Name="CreationDate" EntityName="Project" ForceSelect="true" />
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Project"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="ActivitiesForSearch" RootEntityName="Task" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="true" />
        <Field Name="Description" EntityName="Task" ForceSelect="true" />
        <Field Name="TaskTypeID" EntityName="Task" ForceSelect="true" />
        <Field Name="CreationDate" EntityName="Task" ForceSelect="true" />
        <Field Name="ProjectID" EntityName="Project" ForceSelect="true" />
        <Field Name="Name" EntityName="Project" ForceSelect="true" />
      </Fields>
      <CustomFieldsIncludes>
        <CustomFieldsInclude EntityName="Task"/>
      </CustomFieldsIncludes>
    </View>

    <View Name="TimeEntriesForSearch" RootEntityName="TimeEntry" AdditionalPermissionsRequired="false">
      <Fields>
        <Field Name="TimeEntryID" EntityName="TimeEntry" ForceSelect="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="true" />
        <Field Name="Description" EntityName="TimeEntry" ForceSelect="true" />
        <Field Name="EntryDate" EntityName="TimeEntry" ForceSelect="true" />
        <Field Name="Duration" EntityName="TimeEntry" ForceSelect="true" />
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" />
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" />
      </Fields>
    </View>

    <!-- 
      
          IMPORTANT: avoid adding fields from project entity in thsi view, because project referenced in Message with additionaljoin:
          AdditionalJoinConditions=" OR ([{1}].[ProjectID] = [{2}].[ProjectID] AND [{1}].[AccountId] = [{2}].[AccountId])" AdditionalJoinReference="TaskID"
          
          And sql generates awful plan if there is this join
      -->
    <View Name="MessagesForSearch" RootEntityName="Message" AdditionalPermissionsRequired="false" AdditionalWhereRequired="false">
      <Fields>
        <Field Name="MessageID" EntityName="Message" ForceSelect="true" />
        <Field Name="PostDate" EntityName="Message" ForceSelect="true" />
        <Field Name="MessageText" EntityName="Message" ForceSelect="true" />
        <Field Name="TaskID" EntityName="Message" ForceSelect="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="true" />
        <Field Name="ProjectID" EntityName="Message" ForceSelect="true" />
        <Field Name="Project_Name" EntityName="Message" Expression="(SELECT p.Name FROM TT_Projects as p WHERE p.AccountID =  @accountID AND p.ProjectID = [{0}].ProjectID)" ForceSelect="true" AccessType="ReadOnly">
          <Descriptor DataType="String" AccessType="ReadOnly" />
        </Field>
      </Fields>
    </View>


    <!-- 
      
          IMPORTANT: avoid adding fields from project entity in thsi view, because project referenced in Message with additionaljoin:
          AdditionalJoinConditions=" OR ([{1}].[ProjectID] = [{2}].[ProjectID] AND [{1}].[AccountId] = [{2}].[AccountId])" AdditionalJoinReference="TaskID"
          
          And sql generates awful plan if there is this join
      -->
    <View Name="AttachmentsForSearch" RootEntityName="Attachment">
      <Fields>
        <Field Name="AttachmentID" EntityName="Attachment" ForceSelect="true" />
        <Field Name="MessageID" EntityName="Attachment" ForceSelect="true" />
        <Field Name="FileName" EntityName="Attachment" ForceSelect="true" />
        <Field Name="Version" EntityName="Attachment" ForceSelect="true" />
        <Field Name="PostDate" EntityName="Message" ForceSelect="true" />
        <Field Name="TaskID" EntityName="Message" ForceSelect="true" />
        <Field Name="Name" EntityName="Task" ForceSelect="true" />
        <Field Name="ProjectID" EntityName="Message" ForceSelect="true" />
        <Field Name="Project_Name" EntityName="Message" Expression="(SELECT p.Name FROM TT_Projects as p WHERE p.AccountID =  @accountID AND p.ProjectID = [{0}].ProjectID)" ForceSelect="true" AccessType="ReadOnly" >
          <Descriptor DataType="String" AccessType="ReadOnly" />
        </Field>
      </Fields>
    </View>

    <View Name="CustomFieldValuesForSearch" RootEntityName="CustomFieldValue">
      <Fields>
        <Field Name="FieldValueID" EntityName="CustomFieldValue" ForceSelect="true" />
        <Field Name="Value" EntityName="CustomFieldValue" ForceSelect="true" />
        <Field Name="FieldID" EntityName="CustomField" ForceSelect="true" />
        <Field Name="EntityID" EntityName="CustomField" ForceSelect="true" />
        <Field Name="FieldName" EntityName="CustomField" ForceSelect="true" />
      </Fields>
    </View>

    <View Name="ActiveAccountNotificationTurnedOn" RootEntityName="Options">
      <Fields>
        <Field Name="AccountID" Alias="AccountID" EntityName="Options" ForceSelect="true" AccessType="Mandatory">
          <Descriptor AccessType="ReadOnly" DataType="Integer"/>
        </Field>
      </Fields>
      <Filters>
        <Filter Name="ActiveAccountsNotificationTurnedOn"/>
      </Filters>
    </View>

    <View Name="TaskStatusStatisticsReport" RootEntityName="TaskStatusStatisticsReportEntity" StoredProcedureName="GetTaskStatusStatisticsReport">
      <Fields>
        <Field Name="StatusName" EntityName="TaskStatusStatisticsReportEntity" Alias="StatusName" ForceSelect="true" />
        <Field Name="DaysSpent" EntityName="TaskStatusStatisticsReportEntity" Alias="DaysSpent" ForceSelect="true" />
      </Fields>
      <StoredProcedureParameters>
        <Parameter>@accountId</Parameter>
        <Parameter>@PortfolioID</Parameter>
        <Parameter>@ProjectStatusID</Parameter>
        <Parameter>@projectIdsDefined</Parameter>
        <Parameter>@ProjectIds</Parameter>
        <Parameter>@StartDateFrom</Parameter>
        <Parameter>@StartDateTo</Parameter>
        <Parameter>@CompletionDateFrom</Parameter>
        <Parameter>@CompletionDateTo</Parameter>
      </StoredProcedureParameters>
    </View>

    <View Name="BillingSettings" RootEntityName="Task" AdditionalPermissionsRequired="false" SelectPermissions="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task"  Alias="TaskID" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="BillingType" EntityName="Task" Alias="BillingType" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="BillingAmount" EntityName="Task" Alias="BillingAmount" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="ChildsBudget" EntityName="TaskAggregatedValuesForTask" Alias="ChildsBudget" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Budget" EntityName="Task" Alias="Budget" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Billed" EntityName="Task" Alias="Billed" ForceSelect="true" DefaultVisibility="true" />
        <Field Name="BillingType" EntityName="Project" Alias="ProjectBillingType" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="TaskNameWithPermission" RootEntityName="Task" SelectDistinctRows="false" AdditionalPermissionsRequired="true" EnableCustomFields="false">
      <Fields>
        <Field Name="TaskID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="CreatorID" EntityName="Task" ForceSelect="true" DefaultVisibility="true">
          <Descriptor AccessType="Optional"/>
        </Field>
        <Field Name="ProjectID" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
        <Field Name="Name" EntityName="Task" ForceSelect="true" DefaultVisibility="true"/>
      </Fields>
    </View>

    <View Name="MessageForCopy" RootEntityName="Message" AdditionalPermissionsRequired="false" AdditionalWhereRequired="false">
      <Fields>
        <Field Name="MessageID" Alias="MessageID" EntityName="Message" ForceSelect="true" />
        <Field Name="PostDate"  Alias="PostDate" EntityName="Message" ForceSelect="true" />
        <Field Name="MessageText" Alias="MessageText" EntityName="Message" ForceSelect="true" />
        <Field Name="TaskID" Alias="TaskID" EntityName="Message" ForceSelect="true" />
        <Field Name="ProjectID" Alias="ProjectID" EntityName="Message" ForceSelect="true" />
        <Field Name="UserID" Alias="UserID" EntityName="Message" ForceSelect="true" />
      </Fields>
    </View>

  </Views>

  <FieldExpressions>
    <Expression Key="Task_DelayedFor"
                Value="(CASE WHEN TaskStatus.TreatAsCompleted = 0 
                        THEN DATEDIFF(day, {0}.EndDate, @now)
                        ELSE IIF({0}.ActualCompletionDate IS NULL, 0, DATEDIFF(day, {0}.EndDate, {0}.ActualCompletionDate)) END)" />
    <Expression Key="Task_ParentTaskName"
                Value="(SELECT Name FROM TT_Tasks WHERE TaskID = {0}.ParentID AND AccountId = {0}.AccountId)" />
  </FieldExpressions>
</ViewsConfiguration>